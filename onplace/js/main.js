!function(e){var t={mode:"horizontal",slideSelector:"",infiniteLoop:!0,hideControlOnEnd:!1,speed:500,easing:null,slideMargin:0,startSlide:0,randomStart:!1,captions:!1,ticker:!1,tickerHover:!1,adaptiveHeight:!1,adaptiveHeightSpeed:500,video:!1,useCSS:!0,preloadImages:"visible",responsive:!0,slideZIndex:50,wrapperClass:"bx-wrapper",touchEnabled:!0,swipeThreshold:50,oneToOneTouch:!0,preventDefaultSwipeX:!0,preventDefaultSwipeY:!1,ariaLive:!0,ariaHidden:!0,keyboardEnabled:!1,pager:!0,pagerType:"full",pagerShortSeparator:" / ",pagerSelector:null,buildPager:null,pagerCustom:null,controls:!0,nextText:"Next",prevText:"Prev",nextSelector:null,prevSelector:null,autoControls:!1,startText:"Start",stopText:"Stop",autoControlsCombine:!1,autoControlsSelector:null,auto:!1,pause:4e3,autoStart:!0,autoDirection:"next",stopAutoOnClick:!1,autoHover:!1,autoDelay:0,autoSlideForOnePage:!1,minSlides:1,maxSlides:1,moveSlides:0,slideWidth:0,shrinkItems:!1,onSliderLoad:function(){return!0},onSlideBefore:function(){return!0},onSlideAfter:function(){return!0},onSlideNext:function(){return!0},onSlidePrev:function(){return!0},onSliderResize:function(){return!0}};e.fn.bxSlider=function(n){if(0===this.length)return this;if(this.length>1)return this.each(function(){e(this).bxSlider(n)}),this;var s={},o=this,r=e(window).width(),a=e(window).height();if(!e(o).data("bxSlider")){var l=function(){e(o).data("bxSlider")||(s.settings=e.extend({},t,n),s.settings.slideWidth=parseInt(s.settings.slideWidth),s.children=o.children(s.settings.slideSelector),s.children.length<s.settings.minSlides&&(s.settings.minSlides=s.children.length),s.children.length<s.settings.maxSlides&&(s.settings.maxSlides=s.children.length),s.settings.randomStart&&(s.settings.startSlide=Math.floor(Math.random()*s.children.length)),s.active={index:s.settings.startSlide},s.carousel=s.settings.minSlides>1||s.settings.maxSlides>1,s.carousel&&(s.settings.preloadImages="all"),s.minThreshold=s.settings.minSlides*s.settings.slideWidth+(s.settings.minSlides-1)*s.settings.slideMargin,s.maxThreshold=s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin,s.working=!1,s.controls={},s.interval=null,s.animProp="vertical"===s.settings.mode?"top":"left",s.usingCSS=s.settings.useCSS&&"fade"!==s.settings.mode&&function(){for(var e=document.createElement("div"),t=["WebkitPerspective","MozPerspective","OPerspective","msPerspective"],i=0;i<t.length;i++)if(void 0!==e.style[t[i]])return s.cssPrefix=t[i].replace("Perspective","").toLowerCase(),s.animProp="-"+s.cssPrefix+"-transform",!0;return!1}(),"vertical"===s.settings.mode&&(s.settings.maxSlides=s.settings.minSlides),o.data("origStyle",o.attr("style")),o.children(s.settings.slideSelector).each(function(){e(this).data("origStyle",e(this).attr("style"))}),d())},d=function(){var t=s.children.eq(s.settings.startSlide);o.wrap('<div class="'+s.settings.wrapperClass+'"><div class="bx-viewport"></div></div>'),s.viewport=o.parent(),s.settings.ariaLive&&!s.settings.ticker&&s.viewport.attr("aria-live","polite"),s.loader=e('<div class="bx-loading" />'),s.viewport.prepend(s.loader),o.css({width:"horizontal"===s.settings.mode?1e3*s.children.length+215+"%":"auto",position:"relative"}),s.usingCSS&&s.settings.easing?o.css("-"+s.cssPrefix+"-transition-timing-function",s.settings.easing):s.settings.easing||(s.settings.easing="swing"),s.viewport.css({width:"100%",overflow:"hidden",position:"relative"}),s.viewport.parent().css({maxWidth:p()}),s.children.css({"float":"horizontal"===s.settings.mode?"left":"none",listStyle:"none",position:"relative"}),s.children.css("width",h()),"horizontal"===s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginRight",s.settings.slideMargin),"vertical"===s.settings.mode&&s.settings.slideMargin>0&&s.children.css("marginBottom",s.settings.slideMargin),"fade"===s.settings.mode&&(s.children.css({position:"absolute",zIndex:0,display:"none"}),s.children.eq(s.settings.startSlide).css({zIndex:s.settings.slideZIndex,display:"block"})),s.controls.el=e('<div class="bx-controls" />'),s.settings.captions&&y(),s.active.last=s.settings.startSlide===f()-1,s.settings.video&&o.fitVids(),("all"===s.settings.preloadImages||s.settings.ticker)&&(t=s.children),s.settings.ticker?s.settings.pager=!1:(s.settings.controls&&k(),s.settings.auto&&s.settings.autoControls&&C(),s.settings.pager&&w(),(s.settings.controls||s.settings.autoControls||s.settings.pager)&&s.viewport.after(s.controls.el)),c(t,g)},c=function(t,i){var n=t.find('img:not([src=""]), iframe').length,s=0;return 0===n?void i():void t.find('img:not([src=""]), iframe').each(function(){e(this).one("load error",function(){++s===n&&i()}).each(function(){this.complete&&e(this).trigger("load")})})},g=function(){if(s.settings.infiniteLoop&&"fade"!==s.settings.mode&&!s.settings.ticker){var t="vertical"===s.settings.mode?s.settings.minSlides:s.settings.maxSlides,i=s.children.slice(0,t).clone(!0).addClass("bx-clone"),n=s.children.slice(-t).clone(!0).addClass("bx-clone");s.settings.ariaHidden&&(i.attr("aria-hidden",!0),n.attr("aria-hidden",!0)),o.append(i).prepend(n)}s.loader.remove(),x(),"vertical"===s.settings.mode&&(s.settings.adaptiveHeight=!0),s.viewport.height(u()),o.redrawSlider(),s.settings.onSliderLoad.call(o,s.active.index),s.initialized=!0,s.settings.responsive&&e(window).bind("resize",V),s.settings.auto&&s.settings.autoStart&&(f()>1||s.settings.autoSlideForOnePage)&&A(),s.settings.ticker&&q(),s.settings.pager&&P(s.settings.startSlide),s.settings.controls&&z(),s.settings.touchEnabled&&!s.settings.ticker&&F(),s.settings.keyboardEnabled&&!s.settings.ticker&&e(document).keydown(L)},u=function(){var t=0,n=e();if("vertical"===s.settings.mode||s.settings.adaptiveHeight)if(s.carousel){var o=1===s.settings.moveSlides?s.active.index:s.active.index*m();for(n=s.children.eq(o),i=1;i<=s.settings.maxSlides-1;i++)n=o+i>=s.children.length?n.add(s.children.eq(i-1)):n.add(s.children.eq(o+i))}else n=s.children.eq(s.active.index);else n=s.children;return"vertical"===s.settings.mode?(n.each(function(i){t+=e(this).outerHeight()}),s.settings.slideMargin>0&&(t+=s.settings.slideMargin*(s.settings.minSlides-1))):t=Math.max.apply(Math,n.map(function(){return e(this).outerHeight(!1)}).get()),"border-box"===s.viewport.css("box-sizing")?t+=parseFloat(s.viewport.css("padding-top"))+parseFloat(s.viewport.css("padding-bottom"))+parseFloat(s.viewport.css("border-top-width"))+parseFloat(s.viewport.css("border-bottom-width")):"padding-box"===s.viewport.css("box-sizing")&&(t+=parseFloat(s.viewport.css("padding-top"))+parseFloat(s.viewport.css("padding-bottom"))),t},p=function(){var e="100%";return s.settings.slideWidth>0&&(e="horizontal"===s.settings.mode?s.settings.maxSlides*s.settings.slideWidth+(s.settings.maxSlides-1)*s.settings.slideMargin:s.settings.slideWidth),e},h=function(){var e=s.settings.slideWidth,t=s.viewport.width();if(0===s.settings.slideWidth||s.settings.slideWidth>t&&!s.carousel||"vertical"===s.settings.mode)e=t;else if(s.settings.maxSlides>1&&"horizontal"===s.settings.mode){if(t>s.maxThreshold)return e;t<s.minThreshold?e=(t-s.settings.slideMargin*(s.settings.minSlides-1))/s.settings.minSlides:s.settings.shrinkItems&&(e=Math.floor((t+s.settings.slideMargin)/Math.ceil((t+s.settings.slideMargin)/(e+s.settings.slideMargin))-s.settings.slideMargin))}return e},v=function(){var e=1,t=null;return"horizontal"===s.settings.mode&&s.settings.slideWidth>0?s.viewport.width()<s.minThreshold?e=s.settings.minSlides:s.viewport.width()>s.maxThreshold?e=s.settings.maxSlides:(t=s.children.first().width()+s.settings.slideMargin,e=Math.floor((s.viewport.width()+s.settings.slideMargin)/t)):"vertical"===s.settings.mode&&(e=s.settings.minSlides),e},f=function(){var e=0,t=0,i=0;if(s.settings.moveSlides>0)if(s.settings.infiniteLoop)e=Math.ceil(s.children.length/m());else for(;t<s.children.length;)++e,t=i+v(),i+=s.settings.moveSlides<=v()?s.settings.moveSlides:v();else e=Math.ceil(s.children.length/v());return e},m=function(){return s.settings.moveSlides>0&&s.settings.moveSlides<=v()?s.settings.moveSlides:v()},x=function(){var e,t,i;s.children.length>s.settings.maxSlides&&s.active.last&&!s.settings.infiniteLoop?"horizontal"===s.settings.mode?(t=s.children.last(),e=t.position(),b(-(e.left-(s.viewport.width()-t.outerWidth())),"reset",0)):"vertical"===s.settings.mode&&(i=s.children.length-s.settings.minSlides,e=s.children.eq(i).position(),b(-e.top,"reset",0)):(e=s.children.eq(s.active.index*m()).position(),s.active.index===f()-1&&(s.active.last=!0),void 0!==e&&("horizontal"===s.settings.mode?b(-e.left,"reset",0):"vertical"===s.settings.mode&&b(-e.top,"reset",0)))},b=function(t,i,n,r){var a,l;s.usingCSS?(l="vertical"===s.settings.mode?"translate3d(0, "+t+"px, 0)":"translate3d("+t+"px, 0, 0)",o.css("-"+s.cssPrefix+"-transition-duration",n/1e3+"s"),"slide"===i?(o.css(s.animProp,l),0!==n?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),D())}):D()):"reset"===i?o.css(s.animProp,l):"ticker"===i&&(o.css("-"+s.cssPrefix+"-transition-timing-function","linear"),o.css(s.animProp,l),0!==n?o.bind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(t){e(t.target).is(o)&&(o.unbind("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd"),b(r.resetValue,"reset",0),H())}):(b(r.resetValue,"reset",0),H()))):(a={},a[s.animProp]=t,"slide"===i?o.animate(a,n,s.settings.easing,function(){D()}):"reset"===i?o.css(s.animProp,t):"ticker"===i&&o.animate(a,n,"linear",function(){b(r.resetValue,"reset",0),H()}))},S=function(){for(var t="",i="",n=f(),o=0;o<n;o++)i="",s.settings.buildPager&&e.isFunction(s.settings.buildPager)||s.settings.pagerCustom?(i=s.settings.buildPager(o),s.pagerEl.addClass("bx-custom-pager")):(i=o+1,s.pagerEl.addClass("bx-default-pager")),t+='<div class="bx-pager-item"><a href="" data-slide-index="'+o+'" class="bx-pager-link">'+i+"</a></div>";s.pagerEl.html(t)},w=function(){s.settings.pagerCustom?s.pagerEl=e(s.settings.pagerCustom):(s.pagerEl=e('<div class="bx-pager" />'),s.settings.pagerSelector?e(s.settings.pagerSelector).html(s.pagerEl):s.controls.el.addClass("bx-has-pager").append(s.pagerEl),S()),s.pagerEl.on("click touchend","a",T)},k=function(){s.controls.next=e('<a class="bx-next" href="">'+s.settings.nextText+"</a>"),s.controls.prev=e('<a class="bx-prev" href="">'+s.settings.prevText+"</a>"),s.controls.next.bind("click touchend",E),s.controls.prev.bind("click touchend",I),s.settings.nextSelector&&e(s.settings.nextSelector).append(s.controls.next),s.settings.prevSelector&&e(s.settings.prevSelector).append(s.controls.prev),s.settings.nextSelector||s.settings.prevSelector||(s.controls.directionEl=e('<div class="bx-controls-direction" />'),s.controls.directionEl.append(s.controls.prev).append(s.controls.next),s.controls.el.addClass("bx-has-controls-direction").append(s.controls.directionEl))},C=function(){s.controls.start=e('<div class="bx-controls-auto-item"><a class="bx-start" href="">'+s.settings.startText+"</a></div>"),s.controls.stop=e('<div class="bx-controls-auto-item"><a class="bx-stop" href="">'+s.settings.stopText+"</a></div>"),s.controls.autoEl=e('<div class="bx-controls-auto" />'),s.controls.autoEl.on("click",".bx-start",M),s.controls.autoEl.on("click",".bx-stop",$),s.settings.autoControlsCombine?s.controls.autoEl.append(s.controls.start):s.controls.autoEl.append(s.controls.start).append(s.controls.stop),s.settings.autoControlsSelector?e(s.settings.autoControlsSelector).html(s.controls.autoEl):s.controls.el.addClass("bx-has-controls-auto").append(s.controls.autoEl),O(s.settings.autoStart?"stop":"start")},y=function(){s.children.each(function(t){var i=e(this).find("img:first").attr("title");void 0!==i&&(""+i).length&&e(this).append('<div class="bx-caption"><span>'+i+"</span></div>")})},E=function(e){e.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),o.goToNextSlide())},I=function(e){e.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),o.goToPrevSlide())},M=function(e){o.startAuto(),e.preventDefault()},$=function(e){o.stopAuto(),e.preventDefault()},T=function(t){var i,n;t.preventDefault(),s.controls.el.hasClass("disabled")||(s.settings.auto&&s.settings.stopAutoOnClick&&o.stopAuto(),i=e(t.currentTarget),void 0!==i.attr("data-slide-index")&&(n=parseInt(i.attr("data-slide-index")),n!==s.active.index&&o.goToSlide(n)))},P=function(t){var i=s.children.length;return"short"===s.settings.pagerType?(s.settings.maxSlides>1&&(i=Math.ceil(s.children.length/s.settings.maxSlides)),void s.pagerEl.html(t+1+s.settings.pagerShortSeparator+i)):(s.pagerEl.find("a").removeClass("active"),void s.pagerEl.each(function(i,n){e(n).find("a").eq(t).addClass("active")}))},D=function(){if(s.settings.infiniteLoop){var e="";0===s.active.index?e=s.children.eq(0).position():s.active.index===f()-1&&s.carousel?e=s.children.eq((f()-1)*m()).position():s.active.index===s.children.length-1&&(e=s.children.eq(s.children.length-1).position()),e&&("horizontal"===s.settings.mode?b(-e.left,"reset",0):"vertical"===s.settings.mode&&b(-e.top,"reset",0))}s.working=!1,s.settings.onSlideAfter.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)},O=function(e){s.settings.autoControlsCombine?s.controls.autoEl.html(s.controls[e]):(s.controls.autoEl.find("a").removeClass("active"),s.controls.autoEl.find("a:not(.bx-"+e+")").addClass("active"))},z=function(){1===f()?(s.controls.prev.addClass("disabled"),s.controls.next.addClass("disabled")):!s.settings.infiniteLoop&&s.settings.hideControlOnEnd&&(0===s.active.index?(s.controls.prev.addClass("disabled"),s.controls.next.removeClass("disabled")):s.active.index===f()-1?(s.controls.next.addClass("disabled"),s.controls.prev.removeClass("disabled")):(s.controls.prev.removeClass("disabled"),s.controls.next.removeClass("disabled")))},A=function(){if(s.settings.autoDelay>0){setTimeout(o.startAuto,s.settings.autoDelay)}else o.startAuto(),e(window).focus(function(){o.startAuto()}).blur(function(){o.stopAuto()});s.settings.autoHover&&o.hover(function(){s.interval&&(o.stopAuto(!0),s.autoPaused=!0)},function(){s.autoPaused&&(o.startAuto(!0),s.autoPaused=null)})},q=function(){var t,i,n,r,a,l,d,c,g=0;"next"===s.settings.autoDirection?o.append(s.children.clone().addClass("bx-clone")):(o.prepend(s.children.clone().addClass("bx-clone")),t=s.children.first().position(),g="horizontal"===s.settings.mode?-t.left:-t.top),b(g,"reset",0),s.settings.pager=!1,s.settings.controls=!1,s.settings.autoControls=!1,s.settings.tickerHover&&(s.usingCSS?(r="horizontal"===s.settings.mode?4:5,s.viewport.hover(function(){i=o.css("-"+s.cssPrefix+"-transform"),n=parseFloat(i.split(",")[r]),b(n,"reset",0)},function(){c=0,s.children.each(function(t){c+="horizontal"===s.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),a=s.settings.speed/c,l="horizontal"===s.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(n))),H(d)})):s.viewport.hover(function(){o.stop()},function(){c=0,s.children.each(function(t){c+="horizontal"===s.settings.mode?e(this).outerWidth(!0):e(this).outerHeight(!0)}),a=s.settings.speed/c,l="horizontal"===s.settings.mode?"left":"top",d=a*(c-Math.abs(parseInt(o.css(l)))),H(d)})),H()},H=function(e){var t,i,n,r=e?e:s.settings.speed,a={left:0,top:0},l={left:0,top:0};"next"===s.settings.autoDirection?a=o.find(".bx-clone").first().position():l=s.children.first().position(),t="horizontal"===s.settings.mode?-a.left:-a.top,i="horizontal"===s.settings.mode?-l.left:-l.top,n={resetValue:i},b(t,"ticker",r,n)},W=function(t){var i=e(window),n={top:i.scrollTop(),left:i.scrollLeft()},s=t.offset();return n.right=n.left+i.width(),n.bottom=n.top+i.height(),s.right=s.left+t.outerWidth(),s.bottom=s.top+t.outerHeight(),!(n.right<s.left||n.left>s.right||n.bottom<s.top||n.top>s.bottom)},L=function(e){var t=document.activeElement.tagName.toLowerCase(),i="input|textarea",n=new RegExp(t,["i"]),s=n.exec(i);if(null==s&&W(o)){if(39===e.keyCode)return E(e),!1;if(37===e.keyCode)return I(e),!1}},F=function(){s.touch={start:{x:0,y:0},end:{x:0,y:0}},s.viewport.bind("touchstart MSPointerDown pointerdown",N),s.viewport.on("click",".bxslider a",function(e){s.viewport.hasClass("click-disabled")&&(e.preventDefault(),s.viewport.removeClass("click-disabled"))})},N=function(e){if(s.controls.el.addClass("disabled"),s.working)e.preventDefault(),s.controls.el.removeClass("disabled");else{s.touch.originalPos=o.position();var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t];s.touch.start.x=i[0].pageX,s.touch.start.y=i[0].pageY,s.viewport.get(0).setPointerCapture&&(s.pointerId=t.pointerId,s.viewport.get(0).setPointerCapture(s.pointerId)),s.viewport.bind("touchmove MSPointerMove pointermove",_),s.viewport.bind("touchend MSPointerUp pointerup",X),s.viewport.bind("MSPointerCancel pointercancel",Y)}},Y=function(e){b(s.touch.originalPos.left,"reset",0),s.controls.el.removeClass("disabled"),s.viewport.unbind("MSPointerCancel pointercancel",Y),s.viewport.unbind("touchmove MSPointerMove pointermove",_),s.viewport.unbind("touchend MSPointerUp pointerup",X),s.viewport.get(0).releasePointerCapture&&s.viewport.get(0).releasePointerCapture(s.pointerId)},_=function(e){var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t],n=Math.abs(i[0].pageX-s.touch.start.x),o=Math.abs(i[0].pageY-s.touch.start.y),r=0,a=0;3*n>o&&s.settings.preventDefaultSwipeX?e.preventDefault():3*o>n&&s.settings.preventDefaultSwipeY&&e.preventDefault(),"fade"!==s.settings.mode&&s.settings.oneToOneTouch&&("horizontal"===s.settings.mode?(a=i[0].pageX-s.touch.start.x,r=s.touch.originalPos.left+a):(a=i[0].pageY-s.touch.start.y,r=s.touch.originalPos.top+a),b(r,"reset",0))},X=function(e){s.viewport.unbind("touchmove MSPointerMove pointermove",_),s.controls.el.removeClass("disabled");var t=e.originalEvent,i="undefined"!=typeof t.changedTouches?t.changedTouches:[t],n=0,r=0;s.touch.end.x=i[0].pageX,s.touch.end.y=i[0].pageY,"fade"===s.settings.mode?(r=Math.abs(s.touch.start.x-s.touch.end.x),r>=s.settings.swipeThreshold&&(s.touch.start.x>s.touch.end.x?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto())):("horizontal"===s.settings.mode?(r=s.touch.end.x-s.touch.start.x,n=s.touch.originalPos.left):(r=s.touch.end.y-s.touch.start.y,n=s.touch.originalPos.top),!s.settings.infiniteLoop&&(0===s.active.index&&r>0||s.active.last&&r<0)?b(n,"reset",200):Math.abs(r)>=s.settings.swipeThreshold?(r<0?o.goToNextSlide():o.goToPrevSlide(),o.stopAuto()):b(n,"reset",200)),s.viewport.unbind("touchend MSPointerUp pointerup",X),s.viewport.get(0).releasePointerCapture&&s.viewport.get(0).releasePointerCapture(s.pointerId)},V=function(t){if(s.initialized)if(s.working)window.setTimeout(V,10);else{var i=e(window).width(),n=e(window).height();r===i&&a===n||(r=i,a=n,o.redrawSlider(),s.settings.onSliderResize.call(o,s.active.index))}},R=function(e){var t=v();s.settings.ariaHidden&&!s.settings.ticker&&(s.children.attr("aria-hidden","true"),s.children.slice(e,e+t).attr("aria-hidden","false"))},Z=function(e){return e<0?s.settings.infiniteLoop?f()-1:s.active.index:e>=f()?s.settings.infiniteLoop?0:s.active.index:e};return o.goToSlide=function(t,i){var n,r,a,l,d=!0,c=0,g={left:0,top:0},p=null;if(s.oldIndex=s.active.index,s.active.index=Z(t),!s.working&&s.active.index!==s.oldIndex){if(s.working=!0,d=s.settings.onSlideBefore.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index),"undefined"!=typeof d&&!d)return s.active.index=s.oldIndex,void(s.working=!1);"next"===i?s.settings.onSlideNext.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)||(d=!1):"prev"===i&&(s.settings.onSlidePrev.call(o,s.children.eq(s.active.index),s.oldIndex,s.active.index)||(d=!1)),s.active.last=s.active.index>=f()-1,(s.settings.pager||s.settings.pagerCustom)&&P(s.active.index),s.settings.controls&&z(),"fade"===s.settings.mode?(s.settings.adaptiveHeight&&s.viewport.height()!==u()&&s.viewport.animate({height:u()},s.settings.adaptiveHeightSpeed),s.children.filter(":visible").fadeOut(s.settings.speed).css({zIndex:0}),s.children.eq(s.active.index).css("zIndex",s.settings.slideZIndex+1).fadeIn(s.settings.speed,function(){e(this).css("zIndex",s.settings.slideZIndex),D()})):(s.settings.adaptiveHeight&&s.viewport.height()!==u()&&s.viewport.animate({height:u()},s.settings.adaptiveHeightSpeed),!s.settings.infiniteLoop&&s.carousel&&s.active.last?"horizontal"===s.settings.mode?(p=s.children.eq(s.children.length-1),g=p.position(),c=s.viewport.width()-p.outerWidth()):(n=s.children.length-s.settings.minSlides,g=s.children.eq(n).position()):s.carousel&&s.active.last&&"prev"===i?(r=1===s.settings.moveSlides?s.settings.maxSlides-m():(f()-1)*m()-(s.children.length-s.settings.maxSlides),p=o.children(".bx-clone").eq(r),g=p.position()):"next"===i&&0===s.active.index?(g=o.find("> .bx-clone").eq(s.settings.maxSlides).position(),s.active.last=!1):t>=0&&(l=t*parseInt(m()),g=s.children.eq(l).position()),"undefined"!=typeof g?(a="horizontal"===s.settings.mode?-(g.left-c):-g.top,b(a,"slide",s.settings.speed)):s.working=!1),s.settings.ariaHidden&&R(s.active.index*m())}},o.goToNextSlide=function(){if(s.settings.infiniteLoop||!s.active.last){var e=parseInt(s.active.index)+1;o.goToSlide(e,"next")}},o.goToPrevSlide=function(){if(s.settings.infiniteLoop||0!==s.active.index){var e=parseInt(s.active.index)-1;o.goToSlide(e,"prev")}},o.startAuto=function(e){s.interval||(s.interval=setInterval(function(){"next"===s.settings.autoDirection?o.goToNextSlide():o.goToPrevSlide()},s.settings.pause),s.settings.autoControls&&e!==!0&&O("stop"))},o.stopAuto=function(e){s.interval&&(clearInterval(s.interval),s.interval=null,s.settings.autoControls&&e!==!0&&O("start"))},o.getCurrentSlide=function(){return s.active.index},o.getCurrentSlideElement=function(){return s.children.eq(s.active.index)},o.getSlideElement=function(e){return s.children.eq(e)},o.getSlideCount=function(){return s.children.length},o.isWorking=function(){return s.working},o.redrawSlider=function(){s.children.add(o.find(".bx-clone")).outerWidth(h()),s.viewport.css("height",u()),s.settings.ticker||x(),s.active.last&&(s.active.index=f()-1),s.active.index>=f()&&(s.active.last=!0),s.settings.pager&&!s.settings.pagerCustom&&(S(),P(s.active.index)),s.settings.ariaHidden&&R(s.active.index*m())},o.destroySlider=function(){s.initialized&&(s.initialized=!1,e(".bx-clone",this).remove(),s.children.each(function(){void 0!==e(this).data("origStyle")?e(this).attr("style",e(this).data("origStyle")):e(this).removeAttr("style")}),void 0!==e(this).data("origStyle")?this.attr("style",e(this).data("origStyle")):e(this).removeAttr("style"),e(this).unwrap().unwrap(),s.controls.el&&s.controls.el.remove(),s.controls.next&&s.controls.next.remove(),s.controls.prev&&s.controls.prev.remove(),s.pagerEl&&s.settings.controls&&!s.settings.pagerCustom&&s.pagerEl.remove(),e(".bx-caption",this).remove(),s.controls.autoEl&&s.controls.autoEl.remove(),clearInterval(s.interval),s.settings.responsive&&e(window).unbind("resize",V),s.settings.keyboardEnabled&&e(document).unbind("keydown",L),e(this).removeData("bxSlider"))},o.reloadSlider=function(t){void 0!==t&&(n=t),o.destroySlider(),l(),e(o).data("bxSlider",this)},l(),e(o).data("bxSlider",this),this}}}(jQuery),$(function(){var e=$(".sidebar"),t=$(".navbar__links"),i=$("#burger");$(".links__item");e.click(function(){t.toggleClass("--visible"),e.toggleClass("--on"),i.toggleClass("close").toggleClass("opened")}),$;var n=$("#show-pop-up"),s=$(".wpbtn-footer"),o=$(".cover"),r=$(".close-button"),a=$(".whitepapper"),l=$("#show-feedback"),d=$(".feedback-wrap"),c=$(".space-close"),g=$("#qr-wechat"),u=$("#link-wechat"),p=$(".feedback-ico");g.hide().click(function(){g.fadeToggle(600),p.delay(600).fadeToggle(400)}),u.click(function(e){e.preventDefault(),g.delay(400).fadeToggle(600),p.fadeToggle(400)}),l.click(function(e){e.preventDefault(),d.fadeToggle("400"),l.toggleClass("white"),c.toggle(400)}),c.click(function(){d.fadeOut(400),l.removeClass("white"),c.hide()}),n.click(function(e){e.preventDefault(),o.fadeIn(400),a.fadeIn(400)}),s.click(function(e){e.preventDefault(),o.fadeIn(400),a.fadeIn(400)}),r.click(function(){o.fadeOut(400),a.fadeOut(400)}),o.click(function(){o.fadeOut(400),a.fadeOut(400)});var h=$(".hexogon"),v=$(".line"),f=$("g.text"),m=$(".roadmap");v.hide(),f.hide(),h.click(function(){m.addClass("step1"),setTimeout(function(){m.addClass("step2")},1200),setTimeout(function(){v.fadeIn("1000"),f.delay(1e3).fadeIn("400")},2e3)});var x=($("a.lang"),$("#lang-us"),$("#lang-cn"),$("#lang-in"),$(".langswitch-wrap")),b=$(".langswitch"),S=$(".langswitch-carusel");x.click(function(){b.toggle(400),$(".links__item").toggleClass("hided")}),S.bxSlider({auto:!0,controls:!1,pause:2e3,pager:!1});var w=$(".pop-up-video"),k=$("#play-video-eng-btn"),C=$("#play-video-cn-btn");k.click(function(){w.append('<iframe id="video" src="https://www.youtube.com/embed/p1YiDKlSe8k?rel=0&autoplay=1" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>'),w.fadeIn(700)}),C.click(function(){w.append('<video id="video" controls autoplay><source src="http://onplace.io/img/video/onplace-china-subtitle.mp4" type="video/mp4"/></video>'),w.fadeIn(700)}),$(".close-button-video").click(function(e){var t=$("#video"),i=$("#video-pop-up");e.preventDefault(),w.hide(700),i.remove(),t.remove()}),$(".partners-carousel").bxSlider({auto:!0,controls:!1,pause:3e3,pager:!1});var y={Empty:$("#picture-empty"),Edward:$("#picture-Edward"),Andrei:$("#picture-Andrei"),Dmitriy:$("#picture-Dmitriy"),Ilya:$("#picture-Ilya"),Mike:$("#picture-Mike"),Oleg:$("#picture-Oleg"),Michael:$("#picture-Michael"),Eugene:$("#picture-Eugene")},E={team:$("#team-description"),Edward:$("#Edward-description"),Andrei:$("#Andrei-description"),Dmitriy:$("#Dmitriy-description"),Ilya:$("#Ilya-description"),Mike:$("#Mike-description"),Oleg:$("#Oleg-description"),Michael:$("#Michael-description"),Eugene:$("#Eugene-description")},I={total:$(".backgrounds-item"),Edward:$("#Edward-background"),Andrei:$("#Andrei-background"),Mike:$("#Mike-background"),Dmitriy:$("#Dmitriy-background"),Ilya:$("#Ilya-background"),Oleg:$("#Oleg-background"),Michael:$("#Michael-background"),Eugene:$("#Eugene-background")},M=$(".member-picture"),T=$(".blue_polygons"),P=$(".team");E.team.show(),M.click(function(){T.fadeOut(800),P.addClass("white")}),y.Empty.click(function(e){e.preventDefault(),I.total.fadeOut(800),E.team.fadeIn(800).siblings().fadeOut(800),T.fadeIn(800),P.removeClass("white")}),y.Andrei.click(function(e){e.preventDefault(),I.Andrei.fadeIn(800).siblings().fadeOut(800),E.Andrei.fadeIn(800).siblings().fadeOut(800)}),y.Edward.click(function(e){e.preventDefault(),I.Edward.fadeIn(800).siblings().fadeOut(800),E.Edward.fadeIn(800).siblings().fadeOut(800)}),y.Dmitriy.click(function(e){e.preventDefault(),I.Dmitriy.fadeIn(800).siblings().fadeOut(800),E.Dmitriy.fadeIn(800).siblings().fadeOut(800)}),y.Ilya.click(function(e){e.preventDefault(),I.Ilya.fadeIn(800).siblings().fadeOut(800),E.Ilya.fadeIn(800).siblings().fadeOut(800)}),y.Mike.click(function(e){e.preventDefault(),I.Mike.fadeIn(800).siblings().fadeOut(800),E.Mike.fadeIn(800).siblings().fadeOut(800)}),y.Oleg.click(function(e){e.preventDefault(),I.Oleg.fadeIn(800).siblings().fadeOut(800),E.Oleg.fadeIn(800).siblings().fadeOut(800)}),y.Michael.click(function(e){e.preventDefault(),I.Michael.fadeIn(800).siblings().fadeOut(800),E.Michael.fadeIn(800).siblings().fadeOut(800)}),y.Eugene.click(function(e){e.preventDefault(),I.Eugene.fadeIn(800).siblings().fadeOut(800),E.Eugene.fadeIn(800).siblings().fadeOut(800)}),$(window).scroll(function(){var e=$(this).scrollTop();I.total.css({transform:"translate(0px, -"+e/3+"px)"})})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImRlZmF1bHRzIiwibW9kZSIsInNsaWRlU2VsZWN0b3IiLCJpbmZpbml0ZUxvb3AiLCJoaWRlQ29udHJvbE9uRW5kIiwic3BlZWQiLCJlYXNpbmciLCJzbGlkZU1hcmdpbiIsInN0YXJ0U2xpZGUiLCJyYW5kb21TdGFydCIsImNhcHRpb25zIiwidGlja2VyIiwidGlja2VySG92ZXIiLCJhZGFwdGl2ZUhlaWdodCIsImFkYXB0aXZlSGVpZ2h0U3BlZWQiLCJ2aWRlbyIsInVzZUNTUyIsInByZWxvYWRJbWFnZXMiLCJyZXNwb25zaXZlIiwic2xpZGVaSW5kZXgiLCJ3cmFwcGVyQ2xhc3MiLCJ0b3VjaEVuYWJsZWQiLCJzd2lwZVRocmVzaG9sZCIsIm9uZVRvT25lVG91Y2giLCJwcmV2ZW50RGVmYXVsdFN3aXBlWCIsInByZXZlbnREZWZhdWx0U3dpcGVZIiwiYXJpYUxpdmUiLCJhcmlhSGlkZGVuIiwia2V5Ym9hcmRFbmFibGVkIiwicGFnZXIiLCJwYWdlclR5cGUiLCJwYWdlclNob3J0U2VwYXJhdG9yIiwicGFnZXJTZWxlY3RvciIsImJ1aWxkUGFnZXIiLCJwYWdlckN1c3RvbSIsImNvbnRyb2xzIiwibmV4dFRleHQiLCJwcmV2VGV4dCIsIm5leHRTZWxlY3RvciIsInByZXZTZWxlY3RvciIsImF1dG9Db250cm9scyIsInN0YXJ0VGV4dCIsInN0b3BUZXh0IiwiYXV0b0NvbnRyb2xzQ29tYmluZSIsImF1dG9Db250cm9sc1NlbGVjdG9yIiwiYXV0byIsInBhdXNlIiwiYXV0b1N0YXJ0IiwiYXV0b0RpcmVjdGlvbiIsInN0b3BBdXRvT25DbGljayIsImF1dG9Ib3ZlciIsImF1dG9EZWxheSIsImF1dG9TbGlkZUZvck9uZVBhZ2UiLCJtaW5TbGlkZXMiLCJtYXhTbGlkZXMiLCJtb3ZlU2xpZGVzIiwic2xpZGVXaWR0aCIsInNocmlua0l0ZW1zIiwib25TbGlkZXJMb2FkIiwib25TbGlkZUJlZm9yZSIsIm9uU2xpZGVBZnRlciIsIm9uU2xpZGVOZXh0Iiwib25TbGlkZVByZXYiLCJvblNsaWRlclJlc2l6ZSIsImZuIiwiYnhTbGlkZXIiLCJvcHRpb25zIiwidGhpcyIsImxlbmd0aCIsImVhY2giLCJzbGlkZXIiLCJlbCIsIndpbmRvd1dpZHRoIiwid2luZG93Iiwid2lkdGgiLCJ3aW5kb3dIZWlnaHQiLCJoZWlnaHQiLCJkYXRhIiwiaW5pdCIsInNldHRpbmdzIiwiZXh0ZW5kIiwicGFyc2VJbnQiLCJjaGlsZHJlbiIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsImFjdGl2ZSIsImluZGV4IiwiY2Fyb3VzZWwiLCJtaW5UaHJlc2hvbGQiLCJtYXhUaHJlc2hvbGQiLCJ3b3JraW5nIiwiaW50ZXJ2YWwiLCJhbmltUHJvcCIsInVzaW5nQ1NTIiwiZGl2IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicHJvcHMiLCJpIiwidW5kZWZpbmVkIiwic3R5bGUiLCJjc3NQcmVmaXgiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJhdHRyIiwic2V0dXAiLCJwcmVsb2FkU2VsZWN0b3IiLCJlcSIsIndyYXAiLCJ2aWV3cG9ydCIsInBhcmVudCIsImxvYWRlciIsInByZXBlbmQiLCJjc3MiLCJwb3NpdGlvbiIsIm92ZXJmbG93IiwibWF4V2lkdGgiLCJnZXRWaWV3cG9ydE1heFdpZHRoIiwiZmxvYXQiLCJsaXN0U3R5bGUiLCJnZXRTbGlkZVdpZHRoIiwiekluZGV4IiwiZGlzcGxheSIsImFwcGVuZENhcHRpb25zIiwibGFzdCIsImdldFBhZ2VyUXR5IiwiZml0VmlkcyIsImFwcGVuZENvbnRyb2xzIiwiYXBwZW5kQ29udHJvbHNBdXRvIiwiYXBwZW5kUGFnZXIiLCJhZnRlciIsImxvYWRFbGVtZW50cyIsInN0YXJ0Iiwic2VsZWN0b3IiLCJjYWxsYmFjayIsInRvdGFsIiwiZmluZCIsImNvdW50Iiwib25lIiwiY29tcGxldGUiLCJ0cmlnZ2VyIiwic2xpY2UiLCJzbGljZUFwcGVuZCIsImNsb25lIiwiYWRkQ2xhc3MiLCJzbGljZVByZXBlbmQiLCJhcHBlbmQiLCJyZW1vdmUiLCJzZXRTbGlkZVBvc2l0aW9uIiwiZ2V0Vmlld3BvcnRIZWlnaHQiLCJyZWRyYXdTbGlkZXIiLCJjYWxsIiwiaW5pdGlhbGl6ZWQiLCJiaW5kIiwicmVzaXplV2luZG93IiwiaW5pdEF1dG8iLCJpbml0VGlja2VyIiwidXBkYXRlUGFnZXJBY3RpdmUiLCJ1cGRhdGVEaXJlY3Rpb25Db250cm9scyIsImluaXRUb3VjaCIsImtleWRvd24iLCJrZXlQcmVzcyIsImN1cnJlbnRJbmRleCIsImdldE1vdmVCeSIsImFkZCIsIm91dGVySGVpZ2h0IiwibWF4IiwiYXBwbHkiLCJtYXAiLCJnZXQiLCJwYXJzZUZsb2F0IiwibmV3RWxXaWR0aCIsIndyYXBXaWR0aCIsImNlaWwiLCJnZXROdW1iZXJTbGlkZXNTaG93aW5nIiwic2xpZGVzU2hvd2luZyIsImNoaWxkV2lkdGgiLCJmaXJzdCIsInBhZ2VyUXR5IiwiYnJlYWtQb2ludCIsImNvdW50ZXIiLCJsYXN0Q2hpbGQiLCJsYXN0U2hvd2luZ0luZGV4Iiwic2V0UG9zaXRpb25Qcm9wZXJ0eSIsImxlZnQiLCJvdXRlcldpZHRoIiwidG9wIiwidmFsdWUiLCJ0eXBlIiwiZHVyYXRpb24iLCJwYXJhbXMiLCJhbmltYXRlT2JqIiwicHJvcFZhbHVlIiwiZSIsInRhcmdldCIsImlzIiwidW5iaW5kIiwidXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24iLCJyZXNldFZhbHVlIiwidGlja2VyTG9vcCIsImFuaW1hdGUiLCJwb3B1bGF0ZVBhZ2VyIiwicGFnZXJIdG1sIiwibGlua0NvbnRlbnQiLCJpc0Z1bmN0aW9uIiwicGFnZXJFbCIsImh0bWwiLCJvbiIsImNsaWNrUGFnZXJCaW5kIiwibmV4dCIsInByZXYiLCJjbGlja05leHRCaW5kIiwiY2xpY2tQcmV2QmluZCIsImRpcmVjdGlvbkVsIiwic3RvcCIsImF1dG9FbCIsImNsaWNrU3RhcnRCaW5kIiwiY2xpY2tTdG9wQmluZCIsInVwZGF0ZUF1dG9Db250cm9scyIsInRpdGxlIiwicHJldmVudERlZmF1bHQiLCJoYXNDbGFzcyIsInN0b3BBdXRvIiwiZ29Ub05leHRTbGlkZSIsImdvVG9QcmV2U2xpZGUiLCJzdGFydEF1dG8iLCJwYWdlckxpbmsiLCJwYWdlckluZGV4IiwiY3VycmVudFRhcmdldCIsImdvVG9TbGlkZSIsInNsaWRlSW5kZXgiLCJsZW4iLCJyZW1vdmVDbGFzcyIsIm9sZEluZGV4Iiwic3RhdGUiLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJibHVyIiwiaG92ZXIiLCJhdXRvUGF1c2VkIiwidHJhbnNmb3JtIiwiaWR4IiwicmF0aW8iLCJwcm9wZXJ0eSIsIm5ld1NwZWVkIiwidG90YWxEaW1lbnMiLCJzdGFydFBvc2l0aW9uIiwic3BsaXQiLCJhYnMiLCJyZXN1bWVTcGVlZCIsImFuaW1hdGVQcm9wZXJ0eSIsInJlc2V0IiwiaXNPblNjcmVlbiIsIndpbiIsInNjcm9sbFRvcCIsInNjcm9sbExlZnQiLCJib3VuZHMiLCJvZmZzZXQiLCJyaWdodCIsImJvdHRvbSIsImFjdGl2ZUVsZW1lbnRUYWciLCJhY3RpdmVFbGVtZW50IiwidGFnTmFtZSIsInRhZ0ZpbHRlcnMiLCJwIiwiUmVnRXhwIiwicmVzdWx0IiwiZXhlYyIsImtleUNvZGUiLCJ0b3VjaCIsIngiLCJ5IiwiZW5kIiwib25Ub3VjaFN0YXJ0Iiwib3JpZ2luYWxQb3MiLCJvcmlnIiwib3JpZ2luYWxFdmVudCIsInRvdWNoUG9pbnRzIiwiY2hhbmdlZFRvdWNoZXMiLCJwYWdlWCIsInBhZ2VZIiwic2V0UG9pbnRlckNhcHR1cmUiLCJwb2ludGVySWQiLCJvblRvdWNoTW92ZSIsIm9uVG91Y2hFbmQiLCJvblBvaW50ZXJDYW5jZWwiLCJyZWxlYXNlUG9pbnRlckNhcHR1cmUiLCJ4TW92ZW1lbnQiLCJ5TW92ZW1lbnQiLCJjaGFuZ2UiLCJkaXN0YW5jZSIsIndpbmRvd1dpZHRoTmV3Iiwid2luZG93SGVpZ2h0TmV3IiwiYXBwbHlBcmlhSGlkZGVuQXR0cmlidXRlcyIsInN0YXJ0VmlzaWJsZUluZGV4IiwibnVtYmVyT2ZTbGlkZXNTaG93aW5nIiwic2V0U2xpZGVJbmRleCIsImRpcmVjdGlvbiIsInJlcXVlc3RFbCIsInBlcmZvcm1UcmFuc2l0aW9uIiwibW92ZUJ5IiwiZmlsdGVyIiwiZmFkZU91dCIsImZhZGVJbiIsInByZXZlbnRDb250cm9sVXBkYXRlIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwiZ2V0Q3VycmVudFNsaWRlIiwiZ2V0Q3VycmVudFNsaWRlRWxlbWVudCIsImdldFNsaWRlRWxlbWVudCIsImdldFNsaWRlQ291bnQiLCJpc1dvcmtpbmciLCJkZXN0cm95U2xpZGVyIiwicmVtb3ZlQXR0ciIsInVud3JhcCIsInJlbW92ZURhdGEiLCJyZWxvYWRTbGlkZXIiLCJqUXVlcnkiLCIkc2lkZWJhciIsIiRuYXZiYXIiLCIkYnVyZ2VyIiwiY2xpY2siLCJ0b2dnbGVDbGFzcyIsIiR3aGl0ZVBhcHBlciIsIiR3aGl0ZVBhcHBlckJ0biIsIiRvdmVybGF5IiwiJGNsb3NlQnRuIiwiJHBvcFVwV2hpdGVwYXBwZXIiLCIkZmVlZGJhY2siLCIkcG9wVXBGZWVkYmFjayIsIiRjbG9zZVNwYWNlIiwiJHFyV2VDaGF0IiwiJGxpbmtXZUNoYXQiLCIkZmVlZGJhY2tMaW5rcyIsImhpZGUiLCJmYWRlVG9nZ2xlIiwiZGVsYXkiLCJ0b2dnbGUiLCJldmVudCIsIiRoZXhhZ29uZSIsIiRsaW5lQ29ubmVjdCIsIiR0ZXh0UG9pbnRzIiwiJHJvYWRtYXAiLCIkbGFuZ0J0biIsIiRsYW5nU3dpdGNoIiwiJGxhbmdTd2l0Y2hDYXJ1c2VsIiwiJHBvcFVwVmlkZW9Db250YWluZXIiLCIkcG9wVXBWaWRlb0J0biIsIiRwb3BVcFZpZGVvQ25CdG4iLCIkdmlkZW8iLCIkdmlkZW9TY3JlZW4iLCJwaWN0dXJlcyIsIkVtcHR5IiwiRWR3YXJkIiwiQW5kcmVpIiwiRG1pdHJpeSIsIklseWEiLCJNaWtlIiwiT2xlZyIsIk1pY2hhZWwiLCJFdWdlbmUiLCJkZXNjcmlwdGlvbiIsInRlYW0iLCJiYWNrZ3JvdW5kcyIsImhleG9saW5rcyIsImJsdWVoZXhlcyIsInRlYW1TZWN0aW9uIiwic2hvdyIsInNpYmxpbmdzIiwic2Nyb2xsIiwic3QiXSwibWFwcGluZ3MiOiJDQUFDLFNBQVVBLEdBRVQsR0FBSUMsSUFHRkMsS0FBTSxhQUNOQyxjQUFlLEdBQ2ZDLGNBQWMsRUFDZEMsa0JBQWtCLEVBQ2xCQyxNQUFPLElBQ1BDLE9BQVEsS0FDUkMsWUFBYSxFQUNiQyxXQUFZLEVBQ1pDLGFBQWEsRUFDYkMsVUFBVSxFQUNWQyxRQUFRLEVBQ1JDLGFBQWEsRUFDYkMsZ0JBQWdCLEVBQ2hCQyxvQkFBcUIsSUFDckJDLE9BQU8sRUFDUEMsUUFBUSxFQUNSQyxjQUFlLFVBQ2ZDLFlBQVksRUFDWkMsWUFBYSxHQUNiQyxhQUFjLGFBR2RDLGNBQWMsRUFDZEMsZUFBZ0IsR0FDaEJDLGVBQWUsRUFDZkMsc0JBQXNCLEVBQ3RCQyxzQkFBc0IsRUFHdEJDLFVBQVUsRUFDVkMsWUFBWSxFQUdaQyxpQkFBaUIsRUFHakJDLE9BQU8sRUFDUEMsVUFBVyxPQUNYQyxvQkFBcUIsTUFDckJDLGNBQWUsS0FDZkMsV0FBWSxLQUNaQyxZQUFhLEtBR2JDLFVBQVUsRUFDVkMsU0FBVSxPQUNWQyxTQUFVLE9BQ1ZDLGFBQWMsS0FDZEMsYUFBYyxLQUNkQyxjQUFjLEVBQ2RDLFVBQVcsUUFDWEMsU0FBVSxPQUNWQyxxQkFBcUIsRUFDckJDLHFCQUFzQixLQUd0QkMsTUFBTSxFQUNOQyxNQUFPLElBQ1BDLFdBQVcsRUFDWEMsY0FBZSxPQUNmQyxpQkFBaUIsRUFDakJDLFdBQVcsRUFDWEMsVUFBVyxFQUNYQyxxQkFBcUIsRUFHckJDLFVBQVcsRUFDWEMsVUFBVyxFQUNYQyxXQUFZLEVBQ1pDLFdBQVksRUFDWkMsYUFBYSxFQUdiQyxhQUFjLFdBQWEsT0FBTyxHQUNsQ0MsY0FBZSxXQUFhLE9BQU8sR0FDbkNDLGFBQWMsV0FBYSxPQUFPLEdBQ2xDQyxZQUFhLFdBQWEsT0FBTyxHQUNqQ0MsWUFBYSxXQUFhLE9BQU8sR0FDakNDLGVBQWdCLFdBQWEsT0FBTyxH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T0FBTyxLQUFLaUUsV0FBV2xFLFFBQVEsS0FDaEQyRCxFQUFZSCxLQUFLdkQsT0FBTyxLQUFLaUUsV0FBV2xFLFFBQVEsT0FFbERpRCxFQUFTUSxRQUFRdEMsTUFBTSxTQUFTaEksR0FDOUJBLEVBQUUyQixpQkFDRitJLEVBQVlKLFFBQVF4RCxPQUFPLEtBQUtpRSxXQUFXbEUsUUFBUSxLQUNuRDJELEVBQVlGLFFBQVF4RCxPQUFPLEtBQUtpRSxXQUFXbEUsUUFBUSxPQUVyRGlELEVBQVNTLE9BQU92QyxNQUFNLFNBQVNoSSxHQUM3QkEsRUFBRTJCLGlCQUNGK0ksRUFBWUgsT0FBT3pELE9BQU8sS0FBS2lFLFdBQVdsRSxRQUFRLEtBQ2xEMkQsRUFBWUQsT0FBT3pELE9BQU8sS0FBS2lFLFdBQVdsRSxRQUFRLE9BTXBEaFQsRUFBRTBFLFFBQVF5UyxPQUFPLFdBQ2YsR0FBSUMsR0FBS3BYLEVBQUVvRSxNQUFNNEwsV0FFakI2RyxHQUFZcE8sTUFBTXRCLEtBQU0rSCxVQUFXLG1CQUFxQmtJLEVBQUcsRUFBRyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiOyhmdW5jdGlvbigkKSB7XHJcblxyXG4gIHZhciBkZWZhdWx0cyA9IHtcclxuXHJcbiAgICAvLyBHRU5FUkFMXHJcbiAgICBtb2RlOiAnaG9yaXpvbnRhbCcsXHJcbiAgICBzbGlkZVNlbGVjdG9yOiAnJyxcclxuICAgIGluZmluaXRlTG9vcDogdHJ1ZSxcclxuICAgIGhpZGVDb250cm9sT25FbmQ6IGZhbHNlLFxyXG4gICAgc3BlZWQ6IDUwMCxcclxuICAgIGVhc2luZzogbnVsbCxcclxuICAgIHNsaWRlTWFyZ2luOiAwLFxyXG4gICAgc3RhcnRTbGlkZTogMCxcclxuICAgIHJhbmRvbVN0YXJ0OiBmYWxzZSxcclxuICAgIGNhcHRpb25zOiBmYWxzZSxcclxuICAgIHRpY2tlcjogZmFsc2UsXHJcbiAgICB0aWNrZXJIb3ZlcjogZmFsc2UsXHJcbiAgICBhZGFwdGl2ZUhlaWdodDogZmFsc2UsXHJcbiAgICBhZGFwdGl2ZUhlaWdodFNwZWVkOiA1MDAsXHJcbiAgICB2aWRlbzogZmFsc2UsXHJcbiAgICB1c2VDU1M6IHRydWUsXHJcbiAgICBwcmVsb2FkSW1hZ2VzOiAndmlzaWJsZScsXHJcbiAgICByZXNwb25zaXZlOiB0cnVlLFxyXG4gICAgc2xpZGVaSW5kZXg6IDUwLFxyXG4gICAgd3JhcHBlckNsYXNzOiAnYngtd3JhcHBlcicsXHJcblxyXG4gICAgLy8gVE9VQ0hcclxuICAgIHRvdWNoRW5hYmxlZDogdHJ1ZSxcclxuICAgIHN3aXBlVGhyZXNob2xkOiA1MCxcclxuICAgIG9uZVRvT25lVG91Y2g6IHRydWUsXHJcbiAgICBwcmV2ZW50RGVmYXVsdFN3aXBlWDogdHJ1ZSxcclxuICAgIHByZXZlbnREZWZhdWx0U3dpcGVZOiBmYWxzZSxcclxuXHJcbiAgICAvLyBBQ0NFU1NJQklMSVRZXHJcbiAgICBhcmlhTGl2ZTogdHJ1ZSxcclxuICAgIGFyaWFIaWRkZW46IHRydWUsXHJcblxyXG4gICAgLy8gS0VZQk9BUkRcclxuICAgIGtleWJvYXJkRW5hYmxlZDogZmFsc2UsXHJcblxyXG4gICAgLy8gUEFHRVJcclxuICAgIHBhZ2VyOiB0cnVlLFxyXG4gICAgcGFnZXJUeXBlOiAnZnVsbCcsXHJcbiAgICBwYWdlclNob3J0U2VwYXJhdG9yOiAnIC8gJyxcclxuICAgIHBhZ2VyU2VsZWN0b3I6IG51bGwsXHJcbiAgICBidWlsZFBhZ2VyOiBudWxsLFxyXG4gICAgcGFnZXJDdXN0b206IG51bGwsXHJcblxyXG4gICAgLy8gQ09OVFJPTFNcclxuICAgIGNvbnRyb2xzOiB0cnVlLFxyXG4gICAgbmV4dFRleHQ6ICdOZXh0JyxcclxuICAgIHByZXZUZXh0OiAnUHJldicsXHJcbiAgICBuZXh0U2VsZWN0b3I6IG51bGwsXHJcbiAgICBwcmV2U2VsZWN0b3I6IG51bGwsXHJcbiAgICBhdXRvQ29udHJvbHM6IGZhbHNlLFxyXG4gICAgc3RhcnRUZXh0OiAnU3RhcnQnLFxyXG4gICAgc3RvcFRleHQ6ICdTdG9wJyxcclxuICAgIGF1dG9Db250cm9sc0NvbWJpbmU6IGZhbHNlLFxyXG4gICAgYXV0b0NvbnRyb2xzU2VsZWN0b3I6IG51bGwsXHJcblxyXG4gICAgLy8gQVVUT1xyXG4gICAgYXV0bzogZmFsc2UsXHJcbiAgICBwYXVzZTogNDAwMCxcclxuICAgIGF1dG9TdGFydDogdHJ1ZSxcclxuICAgIGF1dG9EaXJlY3Rpb246ICduZXh0JyxcclxuICAgIHN0b3BBdXRvT25DbGljazogZmFsc2UsXHJcbiAgICBhdXRvSG92ZXI6IGZhbHNlLFxyXG4gICAgYXV0b0RlbGF5OiAwLFxyXG4gICAgYXV0b1NsaWRlRm9yT25lUGFnZTogZmFsc2UsXHJcblxyXG4gICAgLy8gQ0FST1VTRUxcclxuICAgIG1pblNsaWRlczogMSxcclxuICAgIG1heFNsaWRlczogMSxcclxuICAgIG1vdmVTbGlkZXM6IDAsXHJcbiAgICBzbGlkZVdpZHRoOiAwLFxyXG4gICAgc2hyaW5rSXRlbXM6IGZhbHNlLFxyXG5cclxuICAgIC8vIENBTExCQUNLU1xyXG4gICAgb25TbGlkZXJMb2FkOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0sXHJcbiAgICBvblNsaWRlQmVmb3JlOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0sXHJcbiAgICBvblNsaWRlQWZ0ZXI6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfSxcclxuICAgIG9uU2xpZGVOZXh0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRydWU7IH0sXHJcbiAgICBvblNsaWRlUHJldjogZnVuY3Rpb24oKSB7IHJldHVybiB0cnVlOyB9LFxyXG4gICAgb25TbGlkZXJSZXNpemU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdHJ1ZTsgfVxyXG4gIH07XHJcblxyXG4gICQuZm4uYnhTbGlkZXIgPSBmdW5jdGlvbihvcHRpb25zKSB7XHJcblxyXG4gICAgaWYgKHRoaXMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHN1cHBvcnQgbXVsdGlwbGUgZWxlbWVudHNcclxuICAgIGlmICh0aGlzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICQodGhpcykuYnhTbGlkZXIob3B0aW9ucyk7XHJcbiAgICAgIH0pO1xyXG4gICAgICByZXR1cm4gdGhpcztcclxuICAgIH1cclxuXHJcbiAgICAvLyBjcmVhdGUgYSBuYW1lc3BhY2UgdG8gYmUgdXNlZCB0aHJvdWdob3V0IHRoZSBwbHVnaW5cclxuICAgIHZhciBzbGlkZXIgPSB7fSxcclxuICAgIC8vIHNldCBhIHJlZmVyZW5jZSB0byBvdXIgc2xpZGVyIGVsZW1lbnRcclxuICAgIGVsID0gdGhpcyxcclxuICAgIC8vIGdldCB0aGUgb3JpZ2luYWwgd2luZG93IGRpbWVucyAodGhhbmtzIGEgbG90IElFKVxyXG4gICAgd2luZG93V2lkdGggPSAkKHdpbmRvdykud2lkdGgoKSxcclxuICAgIHdpbmRvd0hlaWdodCA9ICQod2luZG93KS5oZWlnaHQoKTtcclxuXHJcbiAgICAvLyBSZXR1cm4gaWYgc2xpZGVyIGlzIGFscmVhZHkgaW5pdGlhbGl6ZWRcclxuICAgIGlmICgkKGVsKS5kYXRhKCdieFNsaWRlcicpKSB7IHJldHVybjsgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAqID0gUFJJVkFURSBGVU5DVElPTlNcclxuICAgICAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAgICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIG5hbWVzcGFjZSBzZXR0aW5ncyB0byBiZSB1c2VkIHRocm91Z2hvdXQgcGx1Z2luXHJcbiAgICAgKi9cclxuICAgIHZhciBpbml0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIFJldHVybiBpZiBzbGlkZXIgaXMgYWxyZWFkeSBpbml0aWFsaXplZFxyXG4gICAgICBpZiAoJChlbCkuZGF0YSgnYnhTbGlkZXInKSkgeyByZXR1cm47IH1cclxuICAgICAgLy8gbWVyZ2UgdXNlci1zdXBwbGllZCBvcHRpb25zIHdpdGggdGhlIGRlZmF1bHRzXHJcbiAgICAgIHNsaWRlci5zZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyk7XHJcbiAgICAgIC8vIHBhcnNlIHNsaWRlV2lkdGggc2V0dGluZ1xyXG4gICAgICBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA9IHBhcnNlSW50KHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoKTtcclxuICAgICAgLy8gc3RvcmUgdGhlIG9yaWdpbmFsIGNoaWxkcmVuXHJcbiAgICAgIHNsaWRlci5jaGlsZHJlbiA9IGVsLmNoaWxkcmVuKHNsaWRlci5zZXR0aW5ncy5zbGlkZVNlbGVjdG9yKTtcclxuICAgICAgLy8gY2hlY2sgaWYgYWN0dWFsIG51bWJlciBvZiBzbGlkZXMgaXMgbGVzcyB0aGFuIG1pblNsaWRlcyAvIG1heFNsaWRlc1xyXG4gICAgICBpZiAoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA8IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMpIHsgc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyA9IHNsaWRlci5jaGlsZHJlbi5sZW5ndGg7IH1cclxuICAgICAgaWYgKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggPCBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKSB7IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoOyB9XHJcbiAgICAgIC8vIGlmIHJhbmRvbSBzdGFydCwgc2V0IHRoZSBzdGFydFNsaWRlIHNldHRpbmcgdG8gcmFuZG9tIG51bWJlclxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLnJhbmRvbVN0YXJ0KSB7IHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCk7IH1cclxuICAgICAgLy8gc3RvcmUgYWN0aXZlIHNsaWRlIGluZm9ybWF0aW9uXHJcbiAgICAgIHNsaWRlci5hY3RpdmUgPSB7IGluZGV4OiBzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSB9O1xyXG4gICAgICAvLyBzdG9yZSBpZiB0aGUgc2xpZGVyIGlzIGluIGNhcm91c2VsIG1vZGUgKGRpc3BsYXlpbmcgLyBtb3ZpbmcgbXVsdGlwbGUgc2xpZGVzKVxyXG4gICAgICBzbGlkZXIuY2Fyb3VzZWwgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzID4gMSB8fCBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMSA/IHRydWUgOiBmYWxzZTtcclxuICAgICAgLy8gaWYgY2Fyb3VzZWwsIGZvcmNlIHByZWxvYWRJbWFnZXMgPSAnYWxsJ1xyXG4gICAgICBpZiAoc2xpZGVyLmNhcm91c2VsKSB7IHNsaWRlci5zZXR0aW5ncy5wcmVsb2FkSW1hZ2VzID0gJ2FsbCc7IH1cclxuICAgICAgLy8gY2FsY3VsYXRlIHRoZSBtaW4gLyBtYXggd2lkdGggdGhyZXNob2xkcyBiYXNlZCBvbiBtaW4gLyBtYXggbnVtYmVyIG9mIHNsaWRlc1xyXG4gICAgICAvLyB1c2VkIHRvIHNldHVwIGFuZCB1cGRhdGUgY2Fyb3VzZWwgc2xpZGVzIGRpbWVuc2lvbnNcclxuICAgICAgc2xpZGVyLm1pblRocmVzaG9sZCA9IChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzICogc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpICsgKChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIC0gMSkgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG4gICAgICBzbGlkZXIubWF4VGhyZXNob2xkID0gKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCkgKyAoKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSAxKSAqIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7XHJcbiAgICAgIC8vIHN0b3JlIHRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBzbGlkZXIgKGlmIGN1cnJlbnRseSBhbmltYXRpbmcsIHdvcmtpbmcgaXMgdHJ1ZSlcclxuICAgICAgc2xpZGVyLndvcmtpbmcgPSBmYWxzZTtcclxuICAgICAgLy8gaW5pdGlhbGl6ZSB0aGUgY29udHJvbHMgb2JqZWN0XHJcbiAgICAgIHNsaWRlci5jb250cm9scyA9IHt9O1xyXG4gICAgICAvLyBpbml0aWFsaXplIGFuIGF1dG8gaW50ZXJ2YWxcclxuICAgICAgc2xpZGVyLmludGVydmFsID0gbnVsbDtcclxuICAgICAgLy8gZGV0ZXJtaW5lIHdoaWNoIHByb3BlcnR5IHRvIHVzZSBmb3IgdHJhbnNpdGlvbnNcclxuICAgICAgc2xpZGVyLmFuaW1Qcm9wID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICd2ZXJ0aWNhbCcgPyAndG9wJyA6ICdsZWZ0JztcclxuICAgICAgLy8gZGV0ZXJtaW5lIGlmIGhhcmR3YXJlIGFjY2VsZXJhdGlvbiBjYW4gYmUgdXNlZFxyXG4gICAgICBzbGlkZXIudXNpbmdDU1MgPSBzbGlkZXIuc2V0dGluZ3MudXNlQ1NTICYmIHNsaWRlci5zZXR0aW5ncy5tb2RlICE9PSAnZmFkZScgJiYgKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGNyZWF0ZSBvdXIgdGVzdCBkaXYgZWxlbWVudFxyXG4gICAgICAgIHZhciBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSxcclxuICAgICAgICAvLyBjc3MgdHJhbnNpdGlvbiBwcm9wZXJ0aWVzXHJcbiAgICAgICAgcHJvcHMgPSBbJ1dlYmtpdFBlcnNwZWN0aXZlJywgJ01velBlcnNwZWN0aXZlJywgJ09QZXJzcGVjdGl2ZScsICdtc1BlcnNwZWN0aXZlJ107XHJcbiAgICAgICAgLy8gdGVzdCBmb3IgZWFjaCBwcm9wZXJ0eVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgIGlmIChkaXYuc3R5bGVbcHJvcHNbaV1dICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgc2xpZGVyLmNzc1ByZWZpeCA9IHByb3BzW2ldLnJlcGxhY2UoJ1BlcnNwZWN0aXZlJywgJycpLnRvTG93ZXJDYXNlKCk7XHJcbiAgICAgICAgICAgIHNsaWRlci5hbmltUHJvcCA9ICctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zZm9ybSc7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH0oKSk7XHJcbiAgICAgIC8vIGlmIHZlcnRpY2FsIG1vZGUgYWx3YXlzIG1ha2UgbWF4U2xpZGVzIGFuZCBtaW5TbGlkZXMgZXF1YWxcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAndmVydGljYWwnKSB7IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzOyB9XHJcbiAgICAgIC8vIHNhdmUgb3JpZ2luYWwgc3R5bGUgZGF0YVxyXG4gICAgICBlbC5kYXRhKCdvcmlnU3R5bGUnLCBlbC5hdHRyKCdzdHlsZScpKTtcclxuICAgICAgZWwuY2hpbGRyZW4oc2xpZGVyLnNldHRpbmdzLnNsaWRlU2VsZWN0b3IpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCh0aGlzKS5kYXRhKCdvcmlnU3R5bGUnLCAkKHRoaXMpLmF0dHIoJ3N0eWxlJykpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICAgIC8vIHBlcmZvcm0gYWxsIERPTSAvIENTUyBtb2RpZmljYXRpb25zXHJcbiAgICAgIHNldHVwKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUGVyZm9ybXMgYWxsIERPTSBhbmQgQ1NTIG1vZGlmaWNhdGlvbnNcclxuICAgICAqL1xyXG4gICAgdmFyIHNldHVwID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBwcmVsb2FkU2VsZWN0b3IgPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLnNldHRpbmdzLnN0YXJ0U2xpZGUpOyAvLyBzZXQgdGhlIGRlZmF1bHQgcHJlbG9hZCBzZWxlY3RvciAodmlzaWJsZSlcclxuXHJcbiAgICAgIC8vIHdyYXAgZWwgaW4gYSB3cmFwcGVyXHJcbiAgICAgIGVsLndyYXAoJzxkaXYgY2xhc3M9XCInICsgc2xpZGVyLnNldHRpbmdzLndyYXBwZXJDbGFzcyArICdcIj48ZGl2IGNsYXNzPVwiYngtdmlld3BvcnRcIj48L2Rpdj48L2Rpdj4nKTtcclxuICAgICAgLy8gc3RvcmUgYSBuYW1lc3BhY2UgcmVmZXJlbmNlIHRvIC5ieC12aWV3cG9ydFxyXG4gICAgICBzbGlkZXIudmlld3BvcnQgPSBlbC5wYXJlbnQoKTtcclxuXHJcbiAgICAgIC8vIGFkZCBhcmlhLWxpdmUgaWYgdGhlIHNldHRpbmcgaXMgZW5hYmxlZCBhbmQgdGlja2VyIG1vZGUgaXMgZGlzYWJsZWRcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5hcmlhTGl2ZSAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcikge1xyXG4gICAgICAgIHNsaWRlci52aWV3cG9ydC5hdHRyKCdhcmlhLWxpdmUnLCAncG9saXRlJyk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gYWRkIGEgbG9hZGluZyBkaXYgdG8gZGlzcGxheSB3aGlsZSBpbWFnZXMgYXJlIGxvYWRpbmdcclxuICAgICAgc2xpZGVyLmxvYWRlciA9ICQoJzxkaXYgY2xhc3M9XCJieC1sb2FkaW5nXCIgLz4nKTtcclxuICAgICAgc2xpZGVyLnZpZXdwb3J0LnByZXBlbmQoc2xpZGVyLmxvYWRlcik7XHJcbiAgICAgIC8vIHNldCBlbCB0byBhIG1hc3NpdmUgd2lkdGgsIHRvIGhvbGQgYW55IG5lZWRlZCBzbGlkZXNcclxuICAgICAgLy8gYWxzbyBzdHJpcCBhbnkgbWFyZ2luIGFuZCBwYWRkaW5nIGZyb20gZWxcclxuICAgICAgZWwuY3NzKHtcclxuICAgICAgICB3aWR0aDogc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdob3Jpem9udGFsJyA/IChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoICogMTAwMCArIDIxNSkgKyAnJScgOiAnYXV0bycsXHJcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcclxuICAgICAgfSk7XHJcbiAgICAgIC8vIGlmIHVzaW5nIENTUywgYWRkIHRoZSBlYXNpbmcgcHJvcGVydHlcclxuICAgICAgaWYgKHNsaWRlci51c2luZ0NTUyAmJiBzbGlkZXIuc2V0dGluZ3MuZWFzaW5nKSB7XHJcbiAgICAgICAgZWwuY3NzKCctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJywgc2xpZGVyLnNldHRpbmdzLmVhc2luZyk7XHJcbiAgICAgIC8vIGlmIG5vdCB1c2luZyBDU1MgYW5kIG5vIGVhc2luZyB2YWx1ZSB3YXMgc3VwcGxpZWQsIHVzZSB0aGUgZGVmYXVsdCBKUyBhbmltYXRpb24gZWFzaW5nIChzd2luZylcclxuICAgICAgfSBlbHNlIGlmICghc2xpZGVyLnNldHRpbmdzLmVhc2luZykge1xyXG4gICAgICAgIHNsaWRlci5zZXR0aW5ncy5lYXNpbmcgPSAnc3dpbmcnO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIG1ha2UgbW9kaWZpY2F0aW9ucyB0byB0aGUgdmlld3BvcnQgKC5ieC12aWV3cG9ydClcclxuICAgICAgc2xpZGVyLnZpZXdwb3J0LmNzcyh7XHJcbiAgICAgICAgd2lkdGg6ICcxMDAlJyxcclxuICAgICAgICBvdmVyZmxvdzogJ2hpZGRlbicsXHJcbiAgICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcclxuICAgICAgfSk7XHJcbiAgICAgIHNsaWRlci52aWV3cG9ydC5wYXJlbnQoKS5jc3Moe1xyXG4gICAgICAgIG1heFdpZHRoOiBnZXRWaWV3cG9ydE1heFdpZHRoKClcclxuICAgICAgfSk7XHJcbiAgICAgIC8vIGFwcGx5IGNzcyB0byBhbGwgc2xpZGVyIGNoaWxkcmVuXHJcbiAgICAgIHNsaWRlci5jaGlsZHJlbi5jc3Moe1xyXG4gICAgICAgIGZsb2F0OiBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2hvcml6b250YWwnID8gJ2xlZnQnIDogJ25vbmUnLFxyXG4gICAgICAgIGxpc3RTdHlsZTogJ25vbmUnLFxyXG4gICAgICAgIHBvc2l0aW9uOiAncmVsYXRpdmUnXHJcbiAgICAgIH0pO1xyXG4gICAgICAvLyBhcHBseSB0aGUgY2FsY3VsYXRlZCB3aWR0aCBhZnRlciB0aGUgZmxvYXQgaXMgYXBwbGllZCB0byBwcmV2ZW50IHNjcm9sbGJhciBpbnRlcmZlcmVuY2VcclxuICAgICAgc2xpZGVyLmNoaWxkcmVuLmNzcygnd2lkdGgnLCBnZXRTbGlkZVdpZHRoKCkpO1xyXG4gICAgICAvLyBpZiBzbGlkZU1hcmdpbiBpcyBzdXBwbGllZCwgYWRkIHRoZSBjc3NcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAnaG9yaXpvbnRhbCcgJiYgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luID4gMCkgeyBzbGlkZXIuY2hpbGRyZW4uY3NzKCdtYXJnaW5SaWdodCcsIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbik7IH1cclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAndmVydGljYWwnICYmIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiA+IDApIHsgc2xpZGVyLmNoaWxkcmVuLmNzcygnbWFyZ2luQm90dG9tJywgc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luKTsgfVxyXG4gICAgICAvLyBpZiBcImZhZGVcIiBtb2RlLCBhZGQgcG9zaXRpb25pbmcgYW5kIHotaW5kZXggQ1NTXHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2ZhZGUnKSB7XHJcbiAgICAgICAgc2xpZGVyLmNoaWxkcmVuLmNzcyh7XHJcbiAgICAgICAgICBwb3NpdGlvbjogJ2Fic29sdXRlJyxcclxuICAgICAgICAgIHpJbmRleDogMCxcclxuICAgICAgICAgIGRpc3BsYXk6ICdub25lJ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHByZXBhcmUgdGhlIHotaW5kZXggb24gdGhlIHNob3dpbmcgZWxlbWVudFxyXG4gICAgICAgIHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSkuY3NzKHt6SW5kZXg6IHNsaWRlci5zZXR0aW5ncy5zbGlkZVpJbmRleCwgZGlzcGxheTogJ2Jsb2NrJ30pO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGNyZWF0ZSBhbiBlbGVtZW50IHRvIGNvbnRhaW4gYWxsIHNsaWRlciBjb250cm9scyAocGFnZXIsIHN0YXJ0IC8gc3RvcCwgZXRjKVxyXG4gICAgICBzbGlkZXIuY29udHJvbHMuZWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHNcIiAvPicpO1xyXG4gICAgICAvLyBpZiBjYXB0aW9ucyBhcmUgcmVxdWVzdGVkLCBhZGQgdGhlbVxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmNhcHRpb25zKSB7IGFwcGVuZENhcHRpb25zKCk7IH1cclxuICAgICAgLy8gY2hlY2sgaWYgc3RhcnRTbGlkZSBpcyBsYXN0IHNsaWRlXHJcbiAgICAgIHNsaWRlci5hY3RpdmUubGFzdCA9IHNsaWRlci5zZXR0aW5ncy5zdGFydFNsaWRlID09PSBnZXRQYWdlclF0eSgpIC0gMTtcclxuICAgICAgLy8gaWYgdmlkZW8gaXMgdHJ1ZSwgc2V0IHVwIHRoZSBmaXRWaWRzIHBsdWdpblxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLnZpZGVvKSB7IGVsLmZpdFZpZHMoKTsgfVxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLnByZWxvYWRJbWFnZXMgPT09ICdhbGwnIHx8IHNsaWRlci5zZXR0aW5ncy50aWNrZXIpIHsgcHJlbG9hZFNlbGVjdG9yID0gc2xpZGVyLmNoaWxkcmVuOyB9XHJcbiAgICAgIC8vIG9ubHkgY2hlY2sgZm9yIGNvbnRyb2wgYWRkaXRpb24gaWYgbm90IGluIFwidGlja2VyXCIgbW9kZVxyXG4gICAgICBpZiAoIXNsaWRlci5zZXR0aW5ncy50aWNrZXIpIHtcclxuICAgICAgICAvLyBpZiBjb250cm9scyBhcmUgcmVxdWVzdGVkLCBhZGQgdGhlbVxyXG4gICAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIHsgYXBwZW5kQ29udHJvbHMoKTsgfVxyXG4gICAgICAgIC8vIGlmIGF1dG8gaXMgdHJ1ZSwgYW5kIGF1dG8gY29udHJvbHMgYXJlIHJlcXVlc3RlZCwgYWRkIHRoZW1cclxuICAgICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8gJiYgc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scykgeyBhcHBlbmRDb250cm9sc0F1dG8oKTsgfVxyXG4gICAgICAgIC8vIGlmIHBhZ2VyIGlzIHJlcXVlc3RlZCwgYWRkIGl0XHJcbiAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgeyBhcHBlbmRQYWdlcigpOyB9XHJcbiAgICAgICAgLy8gaWYgYW55IGNvbnRyb2wgb3B0aW9uIGlzIHJlcXVlc3RlZCwgYWRkIHRoZSBjb250cm9scyB3cmFwcGVyXHJcbiAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5jb250cm9scyB8fCBzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzIHx8IHNsaWRlci5zZXR0aW5ncy5wYWdlcikgeyBzbGlkZXIudmlld3BvcnQuYWZ0ZXIoc2xpZGVyLmNvbnRyb2xzLmVsKTsgfVxyXG4gICAgICAvLyBpZiB0aWNrZXIgbW9kZSwgZG8gbm90IGFsbG93IGEgcGFnZXJcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzbGlkZXIuc2V0dGluZ3MucGFnZXIgPSBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgICBsb2FkRWxlbWVudHMocHJlbG9hZFNlbGVjdG9yLCBzdGFydCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHZhciBsb2FkRWxlbWVudHMgPSBmdW5jdGlvbihzZWxlY3RvciwgY2FsbGJhY2spIHtcclxuICAgICAgdmFyIHRvdGFsID0gc2VsZWN0b3IuZmluZCgnaW1nOm5vdChbc3JjPVwiXCJdKSwgaWZyYW1lJykubGVuZ3RoLFxyXG4gICAgICBjb3VudCA9IDA7XHJcbiAgICAgIGlmICh0b3RhbCA9PT0gMCkge1xyXG4gICAgICAgIGNhbGxiYWNrKCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgICB9XHJcbiAgICAgIHNlbGVjdG9yLmZpbmQoJ2ltZzpub3QoW3NyYz1cIlwiXSksIGlmcmFtZScpLmVhY2goZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCh0aGlzKS5vbmUoJ2xvYWQgZXJyb3InLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmICgrK2NvdW50ID09PSB0b3RhbCkgeyBjYWxsYmFjaygpOyB9XHJcbiAgICAgICAgfSkuZWFjaChmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGlmICh0aGlzLmNvbXBsZXRlKSB7ICQodGhpcykudHJpZ2dlcignbG9hZCcpOyB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0IHRoZSBzbGlkZXJcclxuICAgICAqL1xyXG4gICAgdmFyIHN0YXJ0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGlmIGluZmluaXRlIGxvb3AsIHByZXBhcmUgYWRkaXRpb25hbCBzbGlkZXNcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLnNldHRpbmdzLm1vZGUgIT09ICdmYWRlJyAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcikge1xyXG4gICAgICAgIHZhciBzbGljZSAgICA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAndmVydGljYWwnID8gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcyA6IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMsXHJcbiAgICAgICAgc2xpY2VBcHBlbmQgID0gc2xpZGVyLmNoaWxkcmVuLnNsaWNlKDAsIHNsaWNlKS5jbG9uZSh0cnVlKS5hZGRDbGFzcygnYngtY2xvbmUnKSxcclxuICAgICAgICBzbGljZVByZXBlbmQgPSBzbGlkZXIuY2hpbGRyZW4uc2xpY2UoLXNsaWNlKS5jbG9uZSh0cnVlKS5hZGRDbGFzcygnYngtY2xvbmUnKTtcclxuICAgICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmFyaWFIaWRkZW4pIHtcclxuICAgICAgICAgIHNsaWNlQXBwZW5kLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XHJcbiAgICAgICAgICBzbGljZVByZXBlbmQuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWwuYXBwZW5kKHNsaWNlQXBwZW5kKS5wcmVwZW5kKHNsaWNlUHJlcGVuZCk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gcmVtb3ZlIHRoZSBsb2FkaW5nIERPTSBlbGVtZW50XHJcbiAgICAgIHNsaWRlci5sb2FkZXIucmVtb3ZlKCk7XHJcbiAgICAgIC8vIHNldCB0aGUgbGVmdCAvIHRvcCBwb3NpdGlvbiBvZiBcImVsXCJcclxuICAgICAgc2V0U2xpZGVQb3NpdGlvbigpO1xyXG4gICAgICAvLyBpZiBcInZlcnRpY2FsXCIgbW9kZSwgYWx3YXlzIHVzZSBhZGFwdGl2ZUhlaWdodCB0byBwcmV2ZW50IG9kZCBiZWhhdmlvclxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICd2ZXJ0aWNhbCcpIHsgc2xpZGVyLnNldHRpbmdzLmFkYXB0aXZlSGVpZ2h0ID0gdHJ1ZTsgfVxyXG4gICAgICAvLyBzZXQgdGhlIHZpZXdwb3J0IGhlaWdodFxyXG4gICAgICBzbGlkZXIudmlld3BvcnQuaGVpZ2h0KGdldFZpZXdwb3J0SGVpZ2h0KCkpO1xyXG4gICAgICAvLyBtYWtlIHN1cmUgZXZlcnl0aGluZyBpcyBwb3NpdGlvbmVkIGp1c3QgcmlnaHQgKHNhbWUgYXMgYSB3aW5kb3cgcmVzaXplKVxyXG4gICAgICBlbC5yZWRyYXdTbGlkZXIoKTtcclxuICAgICAgLy8gb25TbGlkZXJMb2FkIGNhbGxiYWNrXHJcbiAgICAgIHNsaWRlci5zZXR0aW5ncy5vblNsaWRlckxvYWQuY2FsbChlbCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcbiAgICAgIC8vIHNsaWRlciBoYXMgYmVlbiBmdWxseSBpbml0aWFsaXplZFxyXG4gICAgICBzbGlkZXIuaW5pdGlhbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAvLyBiaW5kIHRoZSByZXNpemUgY2FsbCB0byB0aGUgd2luZG93XHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MucmVzcG9uc2l2ZSkgeyAkKHdpbmRvdykuYmluZCgncmVzaXplJywgcmVzaXplV2luZG93KTsgfVxyXG4gICAgICAvLyBpZiBhdXRvIGlzIHRydWUgYW5kIGhhcyBtb3JlIHRoYW4gMSBwYWdlLCBzdGFydCB0aGUgc2hvd1xyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8gJiYgc2xpZGVyLnNldHRpbmdzLmF1dG9TdGFydCAmJiAoZ2V0UGFnZXJRdHkoKSA+IDEgfHwgc2xpZGVyLnNldHRpbmdzLmF1dG9TbGlkZUZvck9uZVBhZ2UpKSB7IGluaXRBdXRvKCk7IH1cclxuICAgICAgLy8gaWYgdGlja2VyIGlzIHRydWUsIHN0YXJ0IHRoZSB0aWNrZXJcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy50aWNrZXIpIHsgaW5pdFRpY2tlcigpOyB9XHJcbiAgICAgIC8vIGlmIHBhZ2VyIGlzIHJlcXVlc3RlZCwgbWFrZSB0aGUgYXBwcm9wcmlhdGUgcGFnZXIgbGluayBhY3RpdmVcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5wYWdlcikgeyB1cGRhdGVQYWdlckFjdGl2ZShzbGlkZXIuc2V0dGluZ3Muc3RhcnRTbGlkZSk7IH1cclxuICAgICAgLy8gY2hlY2sgZm9yIGFueSB1cGRhdGVzIHRvIHRoZSBjb250cm9scyAobGlrZSBoaWRlQ29udHJvbE9uRW5kIHVwZGF0ZXMpXHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuY29udHJvbHMpIHsgdXBkYXRlRGlyZWN0aW9uQ29udHJvbHMoKTsgfVxyXG4gICAgICAvLyBpZiB0b3VjaEVuYWJsZWQgaXMgdHJ1ZSwgc2V0dXAgdGhlIHRvdWNoIGV2ZW50c1xyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLnRvdWNoRW5hYmxlZCAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcikgeyBpbml0VG91Y2goKTsgfVxyXG4gICAgICAvLyBpZiBrZXlib2FyZEVuYWJsZWQgaXMgdHJ1ZSwgc2V0dXAgdGhlIGtleWJvYXJkIGV2ZW50c1xyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmtleWJvYXJkRW5hYmxlZCAmJiAhc2xpZGVyLnNldHRpbmdzLnRpY2tlcikge1xyXG4gICAgICAgICQoZG9jdW1lbnQpLmtleWRvd24oa2V5UHJlc3MpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCBoZWlnaHQgb2YgdGhlIHZpZXdwb3J0LCB1c2VkIHRvIGRldGVybWluZSBlaXRoZXIgYWRhcHRpdmVIZWlnaHQgb3IgdGhlIG1heEhlaWdodCB2YWx1ZVxyXG4gICAgICovXHJcbiAgICB2YXIgZ2V0Vmlld3BvcnRIZWlnaHQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIGhlaWdodCA9IDA7XHJcbiAgICAgIC8vIGZpcnN0IGRldGVybWluZSB3aGljaCBjaGlsZHJlbiAoc2xpZGVzKSBzaG91bGQgYmUgdXNlZCBpbiBvdXIgaGVpZ2h0IGNhbGN1bGF0aW9uXHJcbiAgICAgIHZhciBjaGlsZHJlbiA9ICQoKTtcclxuICAgICAgLy8gaWYgbW9kZSBpcyBub3QgXCJ2ZXJ0aWNhbFwiIGFuZCBhZGFwdGl2ZUhlaWdodCBpcyBmYWxzZSwgaW5jbHVkZSBhbGwgY2hpbGRyZW5cclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlICE9PSAndmVydGljYWwnICYmICFzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHQpIHtcclxuICAgICAgICBjaGlsZHJlbiA9IHNsaWRlci5jaGlsZHJlbjtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBpZiBub3QgY2Fyb3VzZWwsIHJldHVybiB0aGUgc2luZ2xlIGFjdGl2ZSBjaGlsZFxyXG4gICAgICAgIGlmICghc2xpZGVyLmNhcm91c2VsKSB7XHJcbiAgICAgICAgICBjaGlsZHJlbiA9IHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuICAgICAgICAvLyBpZiBjYXJvdXNlbCwgcmV0dXJuIGEgc2xpY2Ugb2YgY2hpbGRyZW5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gZ2V0IHRoZSBpbmRpdmlkdWFsIHNsaWRlIGluZGV4XHJcbiAgICAgICAgICB2YXIgY3VycmVudEluZGV4ID0gc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPT09IDEgPyBzbGlkZXIuYWN0aXZlLmluZGV4IDogc2xpZGVyLmFjdGl2ZS5pbmRleCAqIGdldE1vdmVCeSgpO1xyXG4gICAgICAgICAgLy8gYWRkIHRoZSBjdXJyZW50IHNsaWRlIHRvIHRoZSBjaGlsZHJlblxyXG4gICAgICAgICAgY2hpbGRyZW4gPSBzbGlkZXIuY2hpbGRyZW4uZXEoY3VycmVudEluZGV4KTtcclxuICAgICAgICAgIC8vIGN5Y2xlIHRocm91Z2ggdGhlIHJlbWFpbmluZyBcInNob3dpbmdcIiBzbGlkZXNcclxuICAgICAgICAgIGZvciAoaSA9IDE7IGkgPD0gc2xpZGVyLnNldHRpbmdzLm1heFNsaWRlcyAtIDE7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBpZiBsb29wZWQgYmFjayB0byB0aGUgc3RhcnRcclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRJbmRleCArIGkgPj0gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uYWRkKHNsaWRlci5jaGlsZHJlbi5lcShpIC0gMSkpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uYWRkKHNsaWRlci5jaGlsZHJlbi5lcShjdXJyZW50SW5kZXggKyBpKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gaWYgXCJ2ZXJ0aWNhbFwiIG1vZGUsIGNhbGN1bGF0ZSB0aGUgc3VtIG9mIHRoZSBoZWlnaHRzIG9mIHRoZSBjaGlsZHJlblxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICBjaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKGluZGV4KSB7XHJcbiAgICAgICAgICBoZWlnaHQgKz0gJCh0aGlzKS5vdXRlckhlaWdodCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIGFkZCB1c2VyLXN1cHBsaWVkIG1hcmdpbnNcclxuICAgICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luID4gMCkge1xyXG4gICAgICAgICAgaGVpZ2h0ICs9IHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbiAqIChzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzIC0gMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAvLyBpZiBub3QgXCJ2ZXJ0aWNhbFwiIG1vZGUsIGNhbGN1bGF0ZSB0aGUgbWF4IGhlaWdodCBvZiB0aGUgY2hpbGRyZW5cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBoZWlnaHQgPSBNYXRoLm1heC5hcHBseShNYXRoLCBjaGlsZHJlbi5tYXAoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICByZXR1cm4gJCh0aGlzKS5vdXRlckhlaWdodChmYWxzZSk7XHJcbiAgICAgICAgfSkuZ2V0KCkpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm94LXNpemluZycpID09PSAnYm9yZGVyLWJveCcpIHtcclxuICAgICAgICBoZWlnaHQgKz0gcGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdwYWRkaW5nLXRvcCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy1ib3R0b20nKSkgK1xyXG4gICAgICAgICAgICAgIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm9yZGVyLXRvcC13aWR0aCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygnYm9yZGVyLWJvdHRvbS13aWR0aCcpKTtcclxuICAgICAgfSBlbHNlIGlmIChzbGlkZXIudmlld3BvcnQuY3NzKCdib3gtc2l6aW5nJykgPT09ICdwYWRkaW5nLWJveCcpIHtcclxuICAgICAgICBoZWlnaHQgKz0gcGFyc2VGbG9hdChzbGlkZXIudmlld3BvcnQuY3NzKCdwYWRkaW5nLXRvcCcpKSArIHBhcnNlRmxvYXQoc2xpZGVyLnZpZXdwb3J0LmNzcygncGFkZGluZy1ib3R0b20nKSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiBoZWlnaHQ7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCB3aWR0aCB0byBiZSB1c2VkIGZvciB0aGUgb3V0ZXIgd3JhcHBlciAvIHZpZXdwb3J0XHJcbiAgICAgKi9cclxuICAgIHZhciBnZXRWaWV3cG9ydE1heFdpZHRoID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciB3aWR0aCA9ICcxMDAlJztcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID4gMCkge1xyXG4gICAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2hvcml6b250YWwnKSB7XHJcbiAgICAgICAgICB3aWR0aCA9IChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzICogc2xpZGVyLnNldHRpbmdzLnNsaWRlV2lkdGgpICsgKChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzIC0gMSkgKiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB3aWR0aCA9IHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gd2lkdGg7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgY2FsY3VsYXRlZCB3aWR0aCB0byBiZSBhcHBsaWVkIHRvIGVhY2ggc2xpZGVcclxuICAgICAqL1xyXG4gICAgdmFyIGdldFNsaWRlV2lkdGggPSBmdW5jdGlvbigpIHtcclxuICAgICAgdmFyIG5ld0VsV2lkdGggPSBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCwgLy8gc3RhcnQgd2l0aCBhbnkgdXNlci1zdXBwbGllZCBzbGlkZSB3aWR0aFxyXG4gICAgICB3cmFwV2lkdGggICAgICA9IHNsaWRlci52aWV3cG9ydC53aWR0aCgpOyAgICAvLyBnZXQgdGhlIGN1cnJlbnQgdmlld3BvcnQgd2lkdGhcclxuICAgICAgLy8gaWYgc2xpZGUgd2lkdGggd2FzIG5vdCBzdXBwbGllZCwgb3IgaXMgbGFyZ2VyIHRoYW4gdGhlIHZpZXdwb3J0IHVzZSB0aGUgdmlld3BvcnQgd2lkdGhcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID09PSAwIHx8XHJcbiAgICAgICAgKHNsaWRlci5zZXR0aW5ncy5zbGlkZVdpZHRoID4gd3JhcFdpZHRoICYmICFzbGlkZXIuY2Fyb3VzZWwpIHx8XHJcbiAgICAgICAgc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICBuZXdFbFdpZHRoID0gd3JhcFdpZHRoO1xyXG4gICAgICAvLyBpZiBjYXJvdXNlbCwgdXNlIHRoZSB0aHJlc2hvbGRzIHRvIGRldGVybWluZSB0aGUgd2lkdGhcclxuICAgICAgfSBlbHNlIGlmIChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMSAmJiBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2hvcml6b250YWwnKSB7XHJcbiAgICAgICAgaWYgKHdyYXBXaWR0aCA+IHNsaWRlci5tYXhUaHJlc2hvbGQpIHtcclxuICAgICAgICAgIHJldHVybiBuZXdFbFdpZHRoO1xyXG4gICAgICAgIH0gZWxzZSBpZiAod3JhcFdpZHRoIDwgc2xpZGVyLm1pblRocmVzaG9sZCkge1xyXG4gICAgICAgICAgbmV3RWxXaWR0aCA9ICh3cmFwV2lkdGggLSAoc2xpZGVyLnNldHRpbmdzLnNsaWRlTWFyZ2luICogKHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXMgLSAxKSkpIC8gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcclxuICAgICAgICB9IGVsc2UgaWYgKHNsaWRlci5zZXR0aW5ncy5zaHJpbmtJdGVtcykge1xyXG4gICAgICAgICAgbmV3RWxXaWR0aCA9IE1hdGguZmxvb3IoKHdyYXBXaWR0aCArIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbikgLyAoTWF0aC5jZWlsKCh3cmFwV2lkdGggKyBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pIC8gKG5ld0VsV2lkdGggKyBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pKSkgLSBzbGlkZXIuc2V0dGluZ3Muc2xpZGVNYXJnaW4pO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gbmV3RWxXaWR0aDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygc2xpZGVzIGN1cnJlbnRseSB2aXNpYmxlIGluIHRoZSB2aWV3cG9ydCAoaW5jbHVkZXMgcGFydGlhbGx5IHZpc2libGUgc2xpZGVzKVxyXG4gICAgICovXHJcbiAgICB2YXIgZ2V0TnVtYmVyU2xpZGVzU2hvd2luZyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc2xpZGVzU2hvd2luZyA9IDEsXHJcbiAgICAgIGNoaWxkV2lkdGggPSBudWxsO1xyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdob3Jpem9udGFsJyAmJiBzbGlkZXIuc2V0dGluZ3Muc2xpZGVXaWR0aCA+IDApIHtcclxuICAgICAgICAvLyBpZiB2aWV3cG9ydCBpcyBzbWFsbGVyIHRoYW4gbWluVGhyZXNob2xkLCByZXR1cm4gbWluU2xpZGVzXHJcbiAgICAgICAgaWYgKHNsaWRlci52aWV3cG9ydC53aWR0aCgpIDwgc2xpZGVyLm1pblRocmVzaG9sZCkge1xyXG4gICAgICAgICAgc2xpZGVzU2hvd2luZyA9IHNsaWRlci5zZXR0aW5ncy5taW5TbGlkZXM7XHJcbiAgICAgICAgLy8gaWYgdmlld3BvcnQgaXMgbGFyZ2VyIHRoYW4gbWF4VGhyZXNob2xkLCByZXR1cm4gbWF4U2xpZGVzXHJcbiAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIudmlld3BvcnQud2lkdGgoKSA+IHNsaWRlci5tYXhUaHJlc2hvbGQpIHtcclxuICAgICAgICAgIHNsaWRlc1Nob3dpbmcgPSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzO1xyXG4gICAgICAgIC8vIGlmIHZpZXdwb3J0IGlzIGJldHdlZW4gbWluIC8gbWF4IHRocmVzaG9sZHMsIGRpdmlkZSB2aWV3cG9ydCB3aWR0aCBieSBmaXJzdCBjaGlsZCB3aWR0aFxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjaGlsZFdpZHRoID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkud2lkdGgoKSArIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbjtcclxuICAgICAgICAgIHNsaWRlc1Nob3dpbmcgPSBNYXRoLmZsb29yKChzbGlkZXIudmlld3BvcnQud2lkdGgoKSArXHJcbiAgICAgICAgICAgIHNsaWRlci5zZXR0aW5ncy5zbGlkZU1hcmdpbikgLyBjaGlsZFdpZHRoKTtcclxuICAgICAgICB9XHJcbiAgICAgIC8vIGlmIFwidmVydGljYWxcIiBtb2RlLCBzbGlkZXMgc2hvd2luZyB3aWxsIGFsd2F5cyBiZSBtaW5TbGlkZXNcclxuICAgICAgfSBlbHNlIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ3ZlcnRpY2FsJykge1xyXG4gICAgICAgIHNsaWRlc1Nob3dpbmcgPSBzbGlkZXIuc2V0dGluZ3MubWluU2xpZGVzO1xyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzbGlkZXNTaG93aW5nO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiBwYWdlcyAob25lIGZ1bGwgdmlld3BvcnQgb2Ygc2xpZGVzIGlzIG9uZSBcInBhZ2VcIilcclxuICAgICAqL1xyXG4gICAgdmFyIGdldFBhZ2VyUXR5ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHZhciBwYWdlclF0eSA9IDAsXHJcbiAgICAgIGJyZWFrUG9pbnQgPSAwLFxyXG4gICAgICBjb3VudGVyID0gMDtcclxuICAgICAgLy8gaWYgbW92ZVNsaWRlcyBpcyBzcGVjaWZpZWQgYnkgdGhlIHVzZXJcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzID4gMCkge1xyXG4gICAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKSB7XHJcbiAgICAgICAgICBwYWdlclF0eSA9IE1hdGguY2VpbChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC8gZ2V0TW92ZUJ5KCkpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyB3aGVuIGJyZWFrcG9pbnQgZ29lcyBhYm92ZSBjaGlsZHJlbiBsZW5ndGgsIGNvdW50ZXIgaXMgdGhlIG51bWJlciBvZiBwYWdlc1xyXG4gICAgICAgICAgd2hpbGUgKGJyZWFrUG9pbnQgPCBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICsrcGFnZXJRdHk7XHJcbiAgICAgICAgICAgIGJyZWFrUG9pbnQgPSBjb3VudGVyICsgZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xyXG4gICAgICAgICAgICBjb3VudGVyICs9IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDw9IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSA/IHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDogZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgLy8gaWYgbW92ZVNsaWRlcyBpcyAwIChhdXRvKSBkaXZpZGUgY2hpbGRyZW4gbGVuZ3RoIGJ5IHNpZGVzIHNob3dpbmcsIHRoZW4gcm91bmQgdXBcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBwYWdlclF0eSA9IE1hdGguY2VpbChzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC8gZ2V0TnVtYmVyU2xpZGVzU2hvd2luZygpKTtcclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gcGFnZXJRdHk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGluZGl2aWR1YWwgc2xpZGVzIGJ5IHdoaWNoIHRvIHNoaWZ0IHRoZSBzbGlkZXJcclxuICAgICAqL1xyXG4gICAgdmFyIGdldE1vdmVCeSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBpZiBtb3ZlU2xpZGVzIHdhcyBzZXQgYnkgdGhlIHVzZXIgYW5kIG1vdmVTbGlkZXMgaXMgbGVzcyB0aGFuIG51bWJlciBvZiBzbGlkZXMgc2hvd2luZ1xyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLm1vdmVTbGlkZXMgPiAwICYmIHNsaWRlci5zZXR0aW5ncy5tb3ZlU2xpZGVzIDw9IGdldE51bWJlclNsaWRlc1Nob3dpbmcoKSkge1xyXG4gICAgICAgIHJldHVybiBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcztcclxuICAgICAgfVxyXG4gICAgICAvLyBpZiBtb3ZlU2xpZGVzIGlzIDAgKGF1dG8pXHJcbiAgICAgIHJldHVybiBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgc2xpZGVyJ3MgKGVsKSBsZWZ0IG9yIHRvcCBwb3NpdGlvblxyXG4gICAgICovXHJcbiAgICB2YXIgc2V0U2xpZGVQb3NpdGlvbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcG9zaXRpb24sIGxhc3RDaGlsZCwgbGFzdFNob3dpbmdJbmRleDtcclxuICAgICAgLy8gaWYgbGFzdCBzbGlkZSwgbm90IGluZmluaXRlIGxvb3AsIGFuZCBudW1iZXIgb2YgY2hpbGRyZW4gaXMgbGFyZ2VyIHRoYW4gc3BlY2lmaWVkIG1heFNsaWRlc1xyXG4gICAgICBpZiAoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCA+IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0ICYmICFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKSB7XHJcbiAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAnaG9yaXpvbnRhbCcpIHtcclxuICAgICAgICAgIC8vIGdldCB0aGUgbGFzdCBjaGlsZCdzIHBvc2l0aW9uXHJcbiAgICAgICAgICBsYXN0Q2hpbGQgPSBzbGlkZXIuY2hpbGRyZW4ubGFzdCgpO1xyXG4gICAgICAgICAgcG9zaXRpb24gPSBsYXN0Q2hpbGQucG9zaXRpb24oKTtcclxuICAgICAgICAgIC8vIHNldCB0aGUgbGVmdCBwb3NpdGlvblxyXG4gICAgICAgICAgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtKHBvc2l0aW9uLmxlZnQgLSAoc2xpZGVyLnZpZXdwb3J0LndpZHRoKCkgLSBsYXN0Q2hpbGQub3V0ZXJXaWR0aCgpKSksICdyZXNldCcsIDApO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICd2ZXJ0aWNhbCcpIHtcclxuICAgICAgICAgIC8vIGdldCB0aGUgbGFzdCBzaG93aW5nIGluZGV4J3MgcG9zaXRpb25cclxuICAgICAgICAgIGxhc3RTaG93aW5nSW5kZXggPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcclxuICAgICAgICAgIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKGxhc3RTaG93aW5nSW5kZXgpLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgICAvLyBzZXQgdGhlIHRvcCBwb3NpdGlvblxyXG4gICAgICAgICAgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24udG9wLCAncmVzZXQnLCAwKTtcclxuICAgICAgICB9XHJcbiAgICAgIC8vIGlmIG5vdCBsYXN0IHNsaWRlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgZmlyc3Qgc2hvd2luZyBzbGlkZVxyXG4gICAgICAgIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXggKiBnZXRNb3ZlQnkoKSkucG9zaXRpb24oKTtcclxuICAgICAgICAvLyBjaGVjayBmb3IgbGFzdCBzbGlkZVxyXG4gICAgICAgIGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID09PSBnZXRQYWdlclF0eSgpIC0gMSkgeyBzbGlkZXIuYWN0aXZlLmxhc3QgPSB0cnVlOyB9XHJcbiAgICAgICAgLy8gc2V0IHRoZSByZXNwZWN0aXZlIHBvc2l0aW9uXHJcbiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2hvcml6b250YWwnKSB7IHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLmxlZnQsICdyZXNldCcsIDApOyB9XHJcbiAgICAgICAgICBlbHNlIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ3ZlcnRpY2FsJykgeyBzZXRQb3NpdGlvblByb3BlcnR5KC1wb3NpdGlvbi50b3AsICdyZXNldCcsIDApOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU2V0cyB0aGUgZWwncyBhbmltYXRpbmcgcHJvcGVydHkgcG9zaXRpb24gKHdoaWNoIGluIHR1cm4gd2lsbCBzb21ldGltZXMgYW5pbWF0ZSBlbCkuXHJcbiAgICAgKiBJZiB1c2luZyBDU1MsIHNldHMgdGhlIHRyYW5zZm9ybSBwcm9wZXJ0eS4gSWYgbm90IHVzaW5nIENTUywgc2V0cyB0aGUgdG9wIC8gbGVmdCBwcm9wZXJ0eS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gdmFsdWUgKGludClcclxuICAgICAqICAtIHRoZSBhbmltYXRpbmcgcHJvcGVydHkncyB2YWx1ZVxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB0eXBlIChzdHJpbmcpICdzbGlkZScsICdyZXNldCcsICd0aWNrZXInXHJcbiAgICAgKiAgLSB0aGUgdHlwZSBvZiBpbnN0YW5jZSBmb3Igd2hpY2ggdGhlIGZ1bmN0aW9uIGlzIGJlaW5nXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGR1cmF0aW9uIChpbnQpXHJcbiAgICAgKiAgLSB0aGUgYW1vdW50IG9mIHRpbWUgKGluIG1zKSB0aGUgdHJhbnNpdGlvbiBzaG91bGQgb2NjdXB5XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHBhcmFtcyAoYXJyYXkpIG9wdGlvbmFsXHJcbiAgICAgKiAgLSBhbiBvcHRpb25hbCBwYXJhbWV0ZXIgY29udGFpbmluZyBhbnkgdmFyaWFibGVzIHRoYXQgbmVlZCB0byBiZSBwYXNzZWQgaW5cclxuICAgICAqL1xyXG4gICAgdmFyIHNldFBvc2l0aW9uUHJvcGVydHkgPSBmdW5jdGlvbih2YWx1ZSwgdHlwZSwgZHVyYXRpb24sIHBhcmFtcykge1xyXG4gICAgICB2YXIgYW5pbWF0ZU9iaiwgcHJvcFZhbHVlO1xyXG4gICAgICAvLyB1c2UgQ1NTIHRyYW5zZm9ybVxyXG4gICAgICBpZiAoc2xpZGVyLnVzaW5nQ1NTKSB7XHJcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHRoZSB0cmFuc2xhdGUzZCB2YWx1ZVxyXG4gICAgICAgIHByb3BWYWx1ZSA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAndmVydGljYWwnID8gJ3RyYW5zbGF0ZTNkKDAsICcgKyB2YWx1ZSArICdweCwgMCknIDogJ3RyYW5zbGF0ZTNkKCcgKyB2YWx1ZSArICdweCwgMCwgMCknO1xyXG4gICAgICAgIC8vIGFkZCB0aGUgQ1NTIHRyYW5zaXRpb24tZHVyYXRpb25cclxuICAgICAgICBlbC5jc3MoJy0nICsgc2xpZGVyLmNzc1ByZWZpeCArICctdHJhbnNpdGlvbi1kdXJhdGlvbicsIGR1cmF0aW9uIC8gMTAwMCArICdzJyk7XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdzbGlkZScpIHtcclxuICAgICAgICAgIC8vIHNldCB0aGUgcHJvcGVydHkgdmFsdWVcclxuICAgICAgICAgIGVsLmNzcyhzbGlkZXIuYW5pbVByb3AsIHByb3BWYWx1ZSk7XHJcbiAgICAgICAgICBpZiAoZHVyYXRpb24gIT09IDApIHtcclxuICAgICAgICAgICAgLy8gYmluZCBhIGNhbGxiYWNrIG1ldGhvZCAtIGV4ZWN1dGVzIHdoZW4gQ1NTIHRyYW5zaXRpb24gY29tcGxldGVzXHJcbiAgICAgICAgICAgIGVsLmJpbmQoJ3RyYW5zaXRpb25lbmQgd2Via2l0VHJhbnNpdGlvbkVuZCBvVHJhbnNpdGlvbkVuZCBNU1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICAgLy9tYWtlIHN1cmUgaXQncyB0aGUgY29ycmVjdCBvbmVcclxuICAgICAgICAgICAgICBpZiAoISQoZS50YXJnZXQpLmlzKGVsKSkgeyByZXR1cm47IH1cclxuICAgICAgICAgICAgICAvLyB1bmJpbmQgdGhlIGNhbGxiYWNrXHJcbiAgICAgICAgICAgICAgZWwudW5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJyk7XHJcbiAgICAgICAgICAgICAgdXBkYXRlQWZ0ZXJTbGlkZVRyYW5zaXRpb24oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9IGVsc2UgeyAvL2R1cmF0aW9uID0gMFxyXG4gICAgICAgICAgICB1cGRhdGVBZnRlclNsaWRlVHJhbnNpdGlvbigpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3Jlc2V0Jykge1xyXG4gICAgICAgICAgZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd0aWNrZXInKSB7XHJcbiAgICAgICAgICAvLyBtYWtlIHRoZSB0cmFuc2l0aW9uIHVzZSAnbGluZWFyJ1xyXG4gICAgICAgICAgZWwuY3NzKCctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zaXRpb24tdGltaW5nLWZ1bmN0aW9uJywgJ2xpbmVhcicpO1xyXG4gICAgICAgICAgZWwuY3NzKHNsaWRlci5hbmltUHJvcCwgcHJvcFZhbHVlKTtcclxuICAgICAgICAgIGlmIChkdXJhdGlvbiAhPT0gMCkge1xyXG4gICAgICAgICAgICBlbC5iaW5kKCd0cmFuc2l0aW9uZW5kIHdlYmtpdFRyYW5zaXRpb25FbmQgb1RyYW5zaXRpb25FbmQgTVNUcmFuc2l0aW9uRW5kJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAgIC8vbWFrZSBzdXJlIGl0J3MgdGhlIGNvcnJlY3Qgb25lXHJcbiAgICAgICAgICAgICAgaWYgKCEkKGUudGFyZ2V0KS5pcyhlbCkpIHsgcmV0dXJuOyB9XHJcbiAgICAgICAgICAgICAgLy8gdW5iaW5kIHRoZSBjYWxsYmFja1xyXG4gICAgICAgICAgICAgIGVsLnVuYmluZCgndHJhbnNpdGlvbmVuZCB3ZWJraXRUcmFuc2l0aW9uRW5kIG9UcmFuc2l0aW9uRW5kIE1TVHJhbnNpdGlvbkVuZCcpO1xyXG4gICAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBwb3NpdGlvblxyXG4gICAgICAgICAgICAgIHNldFBvc2l0aW9uUHJvcGVydHkocGFyYW1zLnJlc2V0VmFsdWUsICdyZXNldCcsIDApO1xyXG4gICAgICAgICAgICAgIC8vIHN0YXJ0IHRoZSBsb29wIGFnYWluXHJcbiAgICAgICAgICAgICAgdGlja2VyTG9vcCgpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH0gZWxzZSB7IC8vZHVyYXRpb24gPSAwXHJcbiAgICAgICAgICAgIHNldFBvc2l0aW9uUHJvcGVydHkocGFyYW1zLnJlc2V0VmFsdWUsICdyZXNldCcsIDApO1xyXG4gICAgICAgICAgICB0aWNrZXJMb29wKCk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAvLyB1c2UgSlMgYW5pbWF0ZVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFuaW1hdGVPYmogPSB7fTtcclxuICAgICAgICBhbmltYXRlT2JqW3NsaWRlci5hbmltUHJvcF0gPSB2YWx1ZTtcclxuICAgICAgICBpZiAodHlwZSA9PT0gJ3NsaWRlJykge1xyXG4gICAgICAgICAgZWwuYW5pbWF0ZShhbmltYXRlT2JqLCBkdXJhdGlvbiwgc2xpZGVyLnNldHRpbmdzLmVhc2luZywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdyZXNldCcpIHtcclxuICAgICAgICAgIGVsLmNzcyhzbGlkZXIuYW5pbVByb3AsIHZhbHVlKTtcclxuICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICd0aWNrZXInKSB7XHJcbiAgICAgICAgICBlbC5hbmltYXRlKGFuaW1hdGVPYmosIGR1cmF0aW9uLCAnbGluZWFyJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHNldFBvc2l0aW9uUHJvcGVydHkocGFyYW1zLnJlc2V0VmFsdWUsICdyZXNldCcsIDApO1xyXG4gICAgICAgICAgICAvLyBydW4gdGhlIHJlY3Vyc2l2ZSBsb29wIGFmdGVyIGFuaW1hdGlvblxyXG4gICAgICAgICAgICB0aWNrZXJMb29wKCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQb3B1bGF0ZXMgdGhlIHBhZ2VyIHdpdGggcHJvcGVyIGFtb3VudCBvZiBwYWdlc1xyXG4gICAgICovXHJcbiAgICB2YXIgcG9wdWxhdGVQYWdlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgcGFnZXJIdG1sID0gJycsXHJcbiAgICAgIGxpbmtDb250ZW50ID0gJycsXHJcbiAgICAgIHBhZ2VyUXR5ID0gZ2V0UGFnZXJRdHkoKTtcclxuICAgICAgLy8gbG9vcCB0aHJvdWdoIGVhY2ggcGFnZXIgaXRlbVxyXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhZ2VyUXR5OyBpKyspIHtcclxuICAgICAgICBsaW5rQ29udGVudCA9ICcnO1xyXG4gICAgICAgIC8vIGlmIGEgYnVpbGRQYWdlciBmdW5jdGlvbiBpcyBzdXBwbGllZCwgdXNlIGl0IHRvIGdldCBwYWdlciBsaW5rIHZhbHVlLCBlbHNlIHVzZSBpbmRleCArIDFcclxuICAgICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIgJiYgJC5pc0Z1bmN0aW9uKHNsaWRlci5zZXR0aW5ncy5idWlsZFBhZ2VyKSB8fCBzbGlkZXIuc2V0dGluZ3MucGFnZXJDdXN0b20pIHtcclxuICAgICAgICAgIGxpbmtDb250ZW50ID0gc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIoaSk7XHJcbiAgICAgICAgICBzbGlkZXIucGFnZXJFbC5hZGRDbGFzcygnYngtY3VzdG9tLXBhZ2VyJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGxpbmtDb250ZW50ID0gaSArIDE7XHJcbiAgICAgICAgICBzbGlkZXIucGFnZXJFbC5hZGRDbGFzcygnYngtZGVmYXVsdC1wYWdlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB2YXIgbGlua0NvbnRlbnQgPSBzbGlkZXIuc2V0dGluZ3MuYnVpbGRQYWdlciAmJiAkLmlzRnVuY3Rpb24oc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIpID8gc2xpZGVyLnNldHRpbmdzLmJ1aWxkUGFnZXIoaSkgOiBpICsgMTtcclxuICAgICAgICAvLyBhZGQgdGhlIG1hcmt1cCB0byB0aGUgc3RyaW5nXHJcbiAgICAgICAgcGFnZXJIdG1sICs9ICc8ZGl2IGNsYXNzPVwiYngtcGFnZXItaXRlbVwiPjxhIGhyZWY9XCJcIiBkYXRhLXNsaWRlLWluZGV4PVwiJyArIGkgKyAnXCIgY2xhc3M9XCJieC1wYWdlci1saW5rXCI+JyArIGxpbmtDb250ZW50ICsgJzwvYT48L2Rpdj4nO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIHBvcHVsYXRlIHRoZSBwYWdlciBlbGVtZW50IHdpdGggcGFnZXIgbGlua3NcclxuICAgICAgc2xpZGVyLnBhZ2VyRWwuaHRtbChwYWdlckh0bWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEFwcGVuZHMgdGhlIHBhZ2VyIHRvIHRoZSBjb250cm9scyBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHZhciBhcHBlbmRQYWdlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICBpZiAoIXNsaWRlci5zZXR0aW5ncy5wYWdlckN1c3RvbSkge1xyXG4gICAgICAgIC8vIGNyZWF0ZSB0aGUgcGFnZXIgRE9NIGVsZW1lbnRcclxuICAgICAgICBzbGlkZXIucGFnZXJFbCA9ICQoJzxkaXYgY2xhc3M9XCJieC1wYWdlclwiIC8+Jyk7XHJcbiAgICAgICAgLy8gaWYgYSBwYWdlciBzZWxlY3RvciB3YXMgc3VwcGxpZWQsIHBvcHVsYXRlIGl0IHdpdGggdGhlIHBhZ2VyXHJcbiAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5wYWdlclNlbGVjdG9yKSB7XHJcbiAgICAgICAgICAkKHNsaWRlci5zZXR0aW5ncy5wYWdlclNlbGVjdG9yKS5odG1sKHNsaWRlci5wYWdlckVsKTtcclxuICAgICAgICAvLyBpZiBubyBwYWdlciBzZWxlY3RvciB3YXMgc3VwcGxpZWQsIGFkZCBpdCBhZnRlciB0aGUgd3JhcHBlclxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBzbGlkZXIuY29udHJvbHMuZWwuYWRkQ2xhc3MoJ2J4LWhhcy1wYWdlcicpLmFwcGVuZChzbGlkZXIucGFnZXJFbCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHBvcHVsYXRlIHRoZSBwYWdlclxyXG4gICAgICAgIHBvcHVsYXRlUGFnZXIoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzbGlkZXIucGFnZXJFbCA9ICQoc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKTtcclxuICAgICAgfVxyXG4gICAgICAvLyBhc3NpZ24gdGhlIHBhZ2VyIGNsaWNrIGJpbmRpbmdcclxuICAgICAgc2xpZGVyLnBhZ2VyRWwub24oJ2NsaWNrIHRvdWNoZW5kJywgJ2EnLCBjbGlja1BhZ2VyQmluZCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQXBwZW5kcyBwcmV2IC8gbmV4dCBjb250cm9scyB0byB0aGUgY29udHJvbHMgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICB2YXIgYXBwZW5kQ29udHJvbHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgc2xpZGVyLmNvbnRyb2xzLm5leHQgPSAkKCc8YSBjbGFzcz1cImJ4LW5leHRcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5uZXh0VGV4dCArICc8L2E+Jyk7XHJcbiAgICAgIHNsaWRlci5jb250cm9scy5wcmV2ID0gJCgnPGEgY2xhc3M9XCJieC1wcmV2XCIgaHJlZj1cIlwiPicgKyBzbGlkZXIuc2V0dGluZ3MucHJldlRleHQgKyAnPC9hPicpO1xyXG4gICAgICAvLyBiaW5kIGNsaWNrIGFjdGlvbnMgdG8gdGhlIGNvbnRyb2xzXHJcbiAgICAgIHNsaWRlci5jb250cm9scy5uZXh0LmJpbmQoJ2NsaWNrIHRvdWNoZW5kJywgY2xpY2tOZXh0QmluZCk7XHJcbiAgICAgIHNsaWRlci5jb250cm9scy5wcmV2LmJpbmQoJ2NsaWNrIHRvdWNoZW5kJywgY2xpY2tQcmV2QmluZCk7XHJcbiAgICAgIC8vIGlmIG5leHRTZWxlY3RvciB3YXMgc3VwcGxpZWQsIHBvcHVsYXRlIGl0XHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yKSB7XHJcbiAgICAgICAgJChzbGlkZXIuc2V0dGluZ3MubmV4dFNlbGVjdG9yKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLm5leHQpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGlmIHByZXZTZWxlY3RvciB3YXMgc3VwcGxpZWQsIHBvcHVsYXRlIGl0XHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKSB7XHJcbiAgICAgICAgJChzbGlkZXIuc2V0dGluZ3MucHJldlNlbGVjdG9yKS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnByZXYpO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGlmIG5vIGN1c3RvbSBzZWxlY3RvcnMgd2VyZSBzdXBwbGllZFxyXG4gICAgICBpZiAoIXNsaWRlci5zZXR0aW5ncy5uZXh0U2VsZWN0b3IgJiYgIXNsaWRlci5zZXR0aW5ncy5wcmV2U2VsZWN0b3IpIHtcclxuICAgICAgICAvLyBhZGQgdGhlIGNvbnRyb2xzIHRvIHRoZSBET01cclxuICAgICAgICBzbGlkZXIuY29udHJvbHMuZGlyZWN0aW9uRWwgPSAkKCc8ZGl2IGNsYXNzPVwiYngtY29udHJvbHMtZGlyZWN0aW9uXCIgLz4nKTtcclxuICAgICAgICAvLyBhZGQgdGhlIGNvbnRyb2wgZWxlbWVudHMgdG8gdGhlIGRpcmVjdGlvbkVsXHJcbiAgICAgICAgc2xpZGVyLmNvbnRyb2xzLmRpcmVjdGlvbkVsLmFwcGVuZChzbGlkZXIuY29udHJvbHMucHJldikuYXBwZW5kKHNsaWRlci5jb250cm9scy5uZXh0KTtcclxuICAgICAgICAvLyBzbGlkZXIudmlld3BvcnQuYXBwZW5kKHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbCk7XHJcbiAgICAgICAgc2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtY29udHJvbHMtZGlyZWN0aW9uJykuYXBwZW5kKHNsaWRlci5jb250cm9scy5kaXJlY3Rpb25FbCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIHN0YXJ0IC8gc3RvcCBhdXRvIGNvbnRyb2xzIHRvIHRoZSBjb250cm9scyBlbGVtZW50XHJcbiAgICAgKi9cclxuICAgIHZhciBhcHBlbmRDb250cm9sc0F1dG8gPSBmdW5jdGlvbigpIHtcclxuICAgICAgc2xpZGVyLmNvbnRyb2xzLnN0YXJ0ID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWF1dG8taXRlbVwiPjxhIGNsYXNzPVwiYngtc3RhcnRcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5zdGFydFRleHQgKyAnPC9hPjwvZGl2PicpO1xyXG4gICAgICBzbGlkZXIuY29udHJvbHMuc3RvcCA9ICQoJzxkaXYgY2xhc3M9XCJieC1jb250cm9scy1hdXRvLWl0ZW1cIj48YSBjbGFzcz1cImJ4LXN0b3BcIiBocmVmPVwiXCI+JyArIHNsaWRlci5zZXR0aW5ncy5zdG9wVGV4dCArICc8L2E+PC9kaXY+Jyk7XHJcbiAgICAgIC8vIGFkZCB0aGUgY29udHJvbHMgdG8gdGhlIERPTVxyXG4gICAgICBzbGlkZXIuY29udHJvbHMuYXV0b0VsID0gJCgnPGRpdiBjbGFzcz1cImJ4LWNvbnRyb2xzLWF1dG9cIiAvPicpO1xyXG4gICAgICAvLyBiaW5kIGNsaWNrIGFjdGlvbnMgdG8gdGhlIGNvbnRyb2xzXHJcbiAgICAgIHNsaWRlci5jb250cm9scy5hdXRvRWwub24oJ2NsaWNrJywgJy5ieC1zdGFydCcsIGNsaWNrU3RhcnRCaW5kKTtcclxuICAgICAgc2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5vbignY2xpY2snLCAnLmJ4LXN0b3AnLCBjbGlja1N0b3BCaW5kKTtcclxuICAgICAgLy8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSwgaW5zZXJ0IG9ubHkgdGhlIFwic3RhcnRcIiBjb250cm9sXHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZSkge1xyXG4gICAgICAgIHNsaWRlci5jb250cm9scy5hdXRvRWwuYXBwZW5kKHNsaWRlci5jb250cm9scy5zdGFydCk7XHJcbiAgICAgIC8vIGlmIGF1dG9Db250cm9sc0NvbWJpbmUgaXMgZmFsc2UsIGluc2VydCBib3RoIGNvbnRyb2xzXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnN0YXJ0KS5hcHBlbmQoc2xpZGVyLmNvbnRyb2xzLnN0b3ApO1xyXG4gICAgICB9XHJcbiAgICAgIC8vIGlmIGF1dG8gY29udHJvbHMgc2VsZWN0b3Igd2FzIHN1cHBsaWVkLCBwb3B1bGF0ZSBpdCB3aXRoIHRoZSBjb250cm9sc1xyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9sc1NlbGVjdG9yKSB7XHJcbiAgICAgICAgJChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzU2VsZWN0b3IpLmh0bWwoc2xpZGVyLmNvbnRyb2xzLmF1dG9FbCk7XHJcbiAgICAgIC8vIGlmIGF1dG8gY29udHJvbHMgc2VsZWN0b3Igd2FzIG5vdCBzdXBwbGllZCwgYWRkIGl0IGFmdGVyIHRoZSB3cmFwcGVyXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgc2xpZGVyLmNvbnRyb2xzLmVsLmFkZENsYXNzKCdieC1oYXMtY29udHJvbHMtYXV0bycpLmFwcGVuZChzbGlkZXIuY29udHJvbHMuYXV0b0VsKTtcclxuICAgICAgfVxyXG4gICAgICAvLyB1cGRhdGUgdGhlIGF1dG8gY29udHJvbHNcclxuICAgICAgdXBkYXRlQXV0b0NvbnRyb2xzKHNsaWRlci5zZXR0aW5ncy5hdXRvU3RhcnQgPyAnc3RvcCcgOiAnc3RhcnQnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBcHBlbmRzIGltYWdlIGNhcHRpb25zIHRvIHRoZSBET01cclxuICAgICAqL1xyXG4gICAgdmFyIGFwcGVuZENhcHRpb25zID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGN5Y2xlIHRocm91Z2ggZWFjaCBjaGlsZFxyXG4gICAgICBzbGlkZXIuY2hpbGRyZW4uZWFjaChmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgIC8vIGdldCB0aGUgaW1hZ2UgdGl0bGUgYXR0cmlidXRlXHJcbiAgICAgICAgdmFyIHRpdGxlID0gJCh0aGlzKS5maW5kKCdpbWc6Zmlyc3QnKS5hdHRyKCd0aXRsZScpO1xyXG4gICAgICAgIC8vIGFwcGVuZCB0aGUgY2FwdGlvblxyXG4gICAgICAgIGlmICh0aXRsZSAhPT0gdW5kZWZpbmVkICYmICgnJyArIHRpdGxlKS5sZW5ndGgpIHtcclxuICAgICAgICAgICQodGhpcykuYXBwZW5kKCc8ZGl2IGNsYXNzPVwiYngtY2FwdGlvblwiPjxzcGFuPicgKyB0aXRsZSArICc8L3NwYW4+PC9kaXY+Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGljayBuZXh0IGJpbmRpbmdcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZSAoZXZlbnQpXHJcbiAgICAgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIHZhciBjbGlja05leHRCaW5kID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIGlmIChzbGlkZXIuY29udHJvbHMuZWwuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHsgcmV0dXJuOyB9XHJcbiAgICAgIC8vIGlmIGF1dG8gc2hvdyBpcyBydW5uaW5nLCBzdG9wIGl0XHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0byAmJiBzbGlkZXIuc2V0dGluZ3Muc3RvcEF1dG9PbkNsaWNrKSB7IGVsLnN0b3BBdXRvKCk7IH1cclxuICAgICAgZWwuZ29Ub05leHRTbGlkZSgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsaWNrIHByZXYgYmluZGluZ1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlIChldmVudClcclxuICAgICAqICAtIERPTSBldmVudCBvYmplY3RcclxuICAgICAqL1xyXG4gICAgdmFyIGNsaWNrUHJldkJpbmQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaWYgKHNsaWRlci5jb250cm9scy5lbC5oYXNDbGFzcygnZGlzYWJsZWQnKSkgeyByZXR1cm47IH1cclxuICAgICAgLy8gaWYgYXV0byBzaG93IGlzIHJ1bm5pbmcsIHN0b3AgaXRcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvICYmIHNsaWRlci5zZXR0aW5ncy5zdG9wQXV0b09uQ2xpY2spIHsgZWwuc3RvcEF1dG8oKTsgfVxyXG4gICAgICBlbC5nb1RvUHJldlNsaWRlKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2xpY2sgc3RhcnQgYmluZGluZ1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlIChldmVudClcclxuICAgICAqICAtIERPTSBldmVudCBvYmplY3RcclxuICAgICAqL1xyXG4gICAgdmFyIGNsaWNrU3RhcnRCaW5kID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICBlbC5zdGFydEF1dG8oKTtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENsaWNrIHN0b3AgYmluZGluZ1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlIChldmVudClcclxuICAgICAqICAtIERPTSBldmVudCBvYmplY3RcclxuICAgICAqL1xyXG4gICAgdmFyIGNsaWNrU3RvcEJpbmQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgIGVsLnN0b3BBdXRvKCk7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDbGljayBwYWdlciBiaW5kaW5nXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGUgKGV2ZW50KVxyXG4gICAgICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG4gICAgICovXHJcbiAgICB2YXIgY2xpY2tQYWdlckJpbmQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgIHZhciBwYWdlckxpbmssIHBhZ2VySW5kZXg7XHJcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgaWYgKHNsaWRlci5jb250cm9scy5lbC5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvLyBpZiBhdXRvIHNob3cgaXMgcnVubmluZywgc3RvcCBpdFxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG8gICYmIHNsaWRlci5zZXR0aW5ncy5zdG9wQXV0b09uQ2xpY2spIHsgZWwuc3RvcEF1dG8oKTsgfVxyXG4gICAgICBwYWdlckxpbmsgPSAkKGUuY3VycmVudFRhcmdldCk7XHJcbiAgICAgIGlmIChwYWdlckxpbmsuYXR0cignZGF0YS1zbGlkZS1pbmRleCcpICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBwYWdlckluZGV4ID0gcGFyc2VJbnQocGFnZXJMaW5rLmF0dHIoJ2RhdGEtc2xpZGUtaW5kZXgnKSk7XHJcbiAgICAgICAgLy8gaWYgY2xpY2tlZCBwYWdlciBsaW5rIGlzIG5vdCBhY3RpdmUsIGNvbnRpbnVlIHdpdGggdGhlIGdvVG9TbGlkZSBjYWxsXHJcbiAgICAgICAgaWYgKHBhZ2VySW5kZXggIT09IHNsaWRlci5hY3RpdmUuaW5kZXgpIHsgZWwuZ29Ub1NsaWRlKHBhZ2VySW5kZXgpOyB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBwYWdlciBsaW5rcyB3aXRoIGFuIGFjdGl2ZSBjbGFzc1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBzbGlkZUluZGV4IChpbnQpXHJcbiAgICAgKiAgLSBpbmRleCBvZiBzbGlkZSB0byBtYWtlIGFjdGl2ZVxyXG4gICAgICovXHJcbiAgICB2YXIgdXBkYXRlUGFnZXJBY3RpdmUgPSBmdW5jdGlvbihzbGlkZUluZGV4KSB7XHJcbiAgICAgIC8vIGlmIFwic2hvcnRcIiBwYWdlciB0eXBlXHJcbiAgICAgIHZhciBsZW4gPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoOyAvLyBuYiBvZiBjaGlsZHJlblxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLnBhZ2VyVHlwZSA9PT0gJ3Nob3J0Jykge1xyXG4gICAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzID4gMSkge1xyXG4gICAgICAgICAgbGVuID0gTWF0aC5jZWlsKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLyBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc2xpZGVyLnBhZ2VyRWwuaHRtbCgoc2xpZGVJbmRleCArIDEpICsgc2xpZGVyLnNldHRpbmdzLnBhZ2VyU2hvcnRTZXBhcmF0b3IgKyBsZW4pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgICAgfVxyXG4gICAgICAvLyByZW1vdmUgYWxsIHBhZ2VyIGFjdGl2ZSBjbGFzc2VzXHJcbiAgICAgIHNsaWRlci5wYWdlckVsLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIC8vIGFwcGx5IHRoZSBhY3RpdmUgY2xhc3MgZm9yIGFsbCBwYWdlcnNcclxuICAgICAgc2xpZGVyLnBhZ2VyRWwuZWFjaChmdW5jdGlvbihpLCBlbCkgeyAkKGVsKS5maW5kKCdhJykuZXEoc2xpZGVJbmRleCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOyB9KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBuZWVkZWQgYWN0aW9ucyBhZnRlciBhIHNsaWRlIHRyYW5zaXRpb25cclxuICAgICAqL1xyXG4gICAgdmFyIHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIC8vIGlmIGluZmluaXRlIGxvb3AgaXMgdHJ1ZVxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCkge1xyXG4gICAgICAgIHZhciBwb3NpdGlvbiA9ICcnO1xyXG4gICAgICAgIC8vIGZpcnN0IHNsaWRlXHJcbiAgICAgICAgaWYgKHNsaWRlci5hY3RpdmUuaW5kZXggPT09IDApIHtcclxuICAgICAgICAgIC8vIHNldCB0aGUgbmV3IHBvc2l0aW9uXHJcbiAgICAgICAgICBwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcSgwKS5wb3NpdGlvbigpO1xyXG4gICAgICAgIC8vIGNhcm91c2VsLCBsYXN0IHNsaWRlXHJcbiAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID09PSBnZXRQYWdlclF0eSgpIC0gMSAmJiBzbGlkZXIuY2Fyb3VzZWwpIHtcclxuICAgICAgICAgIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmVxKChnZXRQYWdlclF0eSgpIC0gMSkgKiBnZXRNb3ZlQnkoKSkucG9zaXRpb24oKTtcclxuICAgICAgICAvLyBsYXN0IHNsaWRlXHJcbiAgICAgICAgfSBlbHNlIGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID09PSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmNoaWxkcmVuLmxlbmd0aCAtIDEpLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChwb3NpdGlvbikge1xyXG4gICAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAnaG9yaXpvbnRhbCcpIHsgc2V0UG9zaXRpb25Qcm9wZXJ0eSgtcG9zaXRpb24ubGVmdCwgJ3Jlc2V0JywgMCk7IH1cclxuICAgICAgICAgIGVsc2UgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAndmVydGljYWwnKSB7IHNldFBvc2l0aW9uUHJvcGVydHkoLXBvc2l0aW9uLnRvcCwgJ3Jlc2V0JywgMCk7IH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgLy8gZGVjbGFyZSB0aGF0IHRoZSB0cmFuc2l0aW9uIGlzIGNvbXBsZXRlXHJcbiAgICAgIHNsaWRlci53b3JraW5nID0gZmFsc2U7XHJcbiAgICAgIC8vIG9uU2xpZGVBZnRlciBjYWxsYmFja1xyXG4gICAgICBzbGlkZXIuc2V0dGluZ3Mub25TbGlkZUFmdGVyLmNhbGwoZWwsIHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBhdXRvIGNvbnRyb2xzIHN0YXRlIChlaXRoZXIgYWN0aXZlLCBvciBjb21iaW5lZCBzd2l0Y2gpXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHN0YXRlIChzdHJpbmcpIFwic3RhcnRcIiwgXCJzdG9wXCJcclxuICAgICAqICAtIHRoZSBuZXcgc3RhdGUgb2YgdGhlIGF1dG8gc2hvd1xyXG4gICAgICovXHJcbiAgICB2YXIgdXBkYXRlQXV0b0NvbnRyb2xzID0gZnVuY3Rpb24oc3RhdGUpIHtcclxuICAgICAgLy8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSBpcyB0cnVlLCByZXBsYWNlIHRoZSBjdXJyZW50IGNvbnRyb2wgd2l0aCB0aGUgbmV3IHN0YXRlXHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzQ29tYmluZSkge1xyXG4gICAgICAgIHNsaWRlci5jb250cm9scy5hdXRvRWwuaHRtbChzbGlkZXIuY29udHJvbHNbc3RhdGVdKTtcclxuICAgICAgLy8gaWYgYXV0b0NvbnRyb2xzQ29tYmluZSBpcyBmYWxzZSwgYXBwbHkgdGhlIFwiYWN0aXZlXCIgY2xhc3MgdG8gdGhlIGFwcHJvcHJpYXRlIGNvbnRyb2xcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBzbGlkZXIuY29udHJvbHMuYXV0b0VsLmZpbmQoJ2EnKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgc2xpZGVyLmNvbnRyb2xzLmF1dG9FbC5maW5kKCdhOm5vdCguYngtJyArIHN0YXRlICsgJyknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGVzIHRoZSBkaXJlY3Rpb24gY29udHJvbHMgKGNoZWNrcyBpZiBlaXRoZXIgc2hvdWxkIGJlIGhpZGRlbilcclxuICAgICAqL1xyXG4gICAgdmFyIHVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIGlmIChnZXRQYWdlclF0eSgpID09PSAxKSB7XHJcbiAgICAgICAgc2xpZGVyLmNvbnRyb2xzLnByZXYuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgc2xpZGVyLmNvbnRyb2xzLm5leHQuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoIXNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3AgJiYgc2xpZGVyLnNldHRpbmdzLmhpZGVDb250cm9sT25FbmQpIHtcclxuICAgICAgICAvLyBpZiBmaXJzdCBzbGlkZVxyXG4gICAgICAgIGlmIChzbGlkZXIuYWN0aXZlLmluZGV4ID09PSAwKSB7XHJcbiAgICAgICAgICBzbGlkZXIuY29udHJvbHMucHJldi5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgIHNsaWRlci5jb250cm9scy5uZXh0LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIC8vIGlmIGxhc3Qgc2xpZGVcclxuICAgICAgICB9IGVsc2UgaWYgKHNsaWRlci5hY3RpdmUuaW5kZXggPT09IGdldFBhZ2VyUXR5KCkgLSAxKSB7XHJcbiAgICAgICAgICBzbGlkZXIuY29udHJvbHMubmV4dC5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAgIHNsaWRlci5jb250cm9scy5wcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIC8vIGlmIGFueSBzbGlkZSBpbiB0aGUgbWlkZGxlXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIHNsaWRlci5jb250cm9scy5wcmV2LnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgc2xpZGVyLmNvbnRyb2xzLm5leHQucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogSW5pdGlhbGl6ZXMgdGhlIGF1dG8gcHJvY2Vzc1xyXG4gICAgICovXHJcbiAgICB2YXIgaW5pdEF1dG8gPSBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gaWYgYXV0b0RlbGF5IHdhcyBzdXBwbGllZCwgbGF1bmNoIHRoZSBhdXRvIHNob3cgdXNpbmcgYSBzZXRUaW1lb3V0KCkgY2FsbFxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9EZWxheSA+IDApIHtcclxuICAgICAgICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoZWwuc3RhcnRBdXRvLCBzbGlkZXIuc2V0dGluZ3MuYXV0b0RlbGF5KTtcclxuICAgICAgLy8gaWYgYXV0b0RlbGF5IHdhcyBub3Qgc3VwcGxpZWQsIHN0YXJ0IHRoZSBhdXRvIHNob3cgbm9ybWFsbHlcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBlbC5zdGFydEF1dG8oKTtcclxuXHJcbiAgICAgICAgLy9hZGQgZm9jdXMgYW5kIGJsdXIgZXZlbnRzIHRvIGVuc3VyZSBpdHMgcnVubmluZyBpZiB0aW1lb3V0IGdldHMgcGF1c2VkXHJcbiAgICAgICAgJCh3aW5kb3cpLmZvY3VzKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgZWwuc3RhcnRBdXRvKCk7XHJcbiAgICAgICAgfSkuYmx1cihmdW5jdGlvbigpIHtcclxuICAgICAgICAgIGVsLnN0b3BBdXRvKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgICAgLy8gaWYgYXV0b0hvdmVyIGlzIHJlcXVlc3RlZFxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9Ib3Zlcikge1xyXG4gICAgICAgIC8vIG9uIGVsIGhvdmVyXHJcbiAgICAgICAgZWwuaG92ZXIoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAvLyBpZiB0aGUgYXV0byBzaG93IGlzIGN1cnJlbnRseSBwbGF5aW5nIChoYXMgYW4gYWN0aXZlIGludGVydmFsKVxyXG4gICAgICAgICAgaWYgKHNsaWRlci5pbnRlcnZhbCkge1xyXG4gICAgICAgICAgICAvLyBzdG9wIHRoZSBhdXRvIHNob3cgYW5kIHBhc3MgdHJ1ZSBhcmd1bWVudCB3aGljaCB3aWxsIHByZXZlbnQgY29udHJvbCB1cGRhdGVcclxuICAgICAgICAgICAgZWwuc3RvcEF1dG8odHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIGNyZWF0ZSBhIG5ldyBhdXRvUGF1c2VkIHZhbHVlIHdoaWNoIHdpbGwgYmUgdXNlZCBieSB0aGUgcmVsYXRpdmUgXCJtb3VzZW91dFwiIGV2ZW50XHJcbiAgICAgICAgICAgIHNsaWRlci5hdXRvUGF1c2VkID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9LCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgIC8vIGlmIHRoZSBhdXRvUGF1c2VkIHZhbHVlIHdhcyBjcmVhdGVkIGJlIHRoZSBwcmlvciBcIm1vdXNlb3ZlclwiIGV2ZW50XHJcbiAgICAgICAgICBpZiAoc2xpZGVyLmF1dG9QYXVzZWQpIHtcclxuICAgICAgICAgICAgLy8gc3RhcnQgdGhlIGF1dG8gc2hvdyBhbmQgcGFzcyB0cnVlIGFyZ3VtZW50IHdoaWNoIHdpbGwgcHJldmVudCBjb250cm9sIHVwZGF0ZVxyXG4gICAgICAgICAgICBlbC5zdGFydEF1dG8odHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IHRoZSBhdXRvUGF1c2VkIHZhbHVlXHJcbiAgICAgICAgICAgIHNsaWRlci5hdXRvUGF1c2VkID0gbnVsbDtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEluaXRpYWxpemVzIHRoZSB0aWNrZXIgcHJvY2Vzc1xyXG4gICAgICovXHJcbiAgICB2YXIgaW5pdFRpY2tlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICB2YXIgc3RhcnRQb3NpdGlvbiA9IDAsXHJcbiAgICAgIHBvc2l0aW9uLCB0cmFuc2Zvcm0sIHZhbHVlLCBpZHgsIHJhdGlvLCBwcm9wZXJ0eSwgbmV3U3BlZWQsIHRvdGFsRGltZW5zO1xyXG4gICAgICAvLyBpZiBhdXRvRGlyZWN0aW9uIGlzIFwibmV4dFwiLCBhcHBlbmQgYSBjbG9uZSBvZiB0aGUgZW50aXJlIHNsaWRlclxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT09ICduZXh0Jykge1xyXG4gICAgICAgIGVsLmFwcGVuZChzbGlkZXIuY2hpbGRyZW4uY2xvbmUoKS5hZGRDbGFzcygnYngtY2xvbmUnKSk7XHJcbiAgICAgIC8vIGlmIGF1dG9EaXJlY3Rpb24gaXMgXCJwcmV2XCIsIHByZXBlbmQgYSBjbG9uZSBvZiB0aGUgZW50aXJlIHNsaWRlciwgYW5kIHNldCB0aGUgbGVmdCBwb3NpdGlvblxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGVsLnByZXBlbmQoc2xpZGVyLmNoaWxkcmVuLmNsb25lKCkuYWRkQ2xhc3MoJ2J4LWNsb25lJykpO1xyXG4gICAgICAgIHBvc2l0aW9uID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKTtcclxuICAgICAgICBzdGFydFBvc2l0aW9uID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdob3Jpem9udGFsJyA/IC1wb3NpdGlvbi5sZWZ0IDogLXBvc2l0aW9uLnRvcDtcclxuICAgICAgfVxyXG4gICAgICBzZXRQb3NpdGlvblByb3BlcnR5KHN0YXJ0UG9zaXRpb24sICdyZXNldCcsIDApO1xyXG4gICAgICAvLyBkbyBub3QgYWxsb3cgY29udHJvbHMgaW4gdGlja2VyIG1vZGVcclxuICAgICAgc2xpZGVyLnNldHRpbmdzLnBhZ2VyID0gZmFsc2U7XHJcbiAgICAgIHNsaWRlci5zZXR0aW5ncy5jb250cm9scyA9IGZhbHNlO1xyXG4gICAgICBzbGlkZXIuc2V0dGluZ3MuYXV0b0NvbnRyb2xzID0gZmFsc2U7XHJcbiAgICAgIC8vIGlmIGF1dG9Ib3ZlciBpcyByZXF1ZXN0ZWRcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy50aWNrZXJIb3Zlcikge1xyXG4gICAgICAgIGlmIChzbGlkZXIudXNpbmdDU1MpIHtcclxuICAgICAgICAgIGlkeCA9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAnaG9yaXpvbnRhbCcgPyA0IDogNTtcclxuICAgICAgICAgIHNsaWRlci52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdHJhbnNmb3JtID0gZWwuY3NzKCctJyArIHNsaWRlci5jc3NQcmVmaXggKyAnLXRyYW5zZm9ybScpO1xyXG4gICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodHJhbnNmb3JtLnNwbGl0KCcsJylbaWR4XSk7XHJcbiAgICAgICAgICAgIHNldFBvc2l0aW9uUHJvcGVydHkodmFsdWUsICdyZXNldCcsIDApO1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHRvdGFsRGltZW5zID0gMDtcclxuICAgICAgICAgICAgc2xpZGVyLmNoaWxkcmVuLmVhY2goZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgICAgICAgICB0b3RhbERpbWVucyArPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2hvcml6b250YWwnID8gJCh0aGlzKS5vdXRlcldpZHRoKHRydWUpIDogJCh0aGlzKS5vdXRlckhlaWdodCh0cnVlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgc3BlZWQgcmF0aW8gKHVzZWQgdG8gZGV0ZXJtaW5lIHRoZSBuZXcgc3BlZWQgdG8gZmluaXNoIHRoZSBwYXVzZWQgYW5pbWF0aW9uKVxyXG4gICAgICAgICAgICByYXRpbyA9IHNsaWRlci5zZXR0aW5ncy5zcGVlZCAvIHRvdGFsRGltZW5zO1xyXG4gICAgICAgICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggcHJvcGVydHkgdG8gdXNlXHJcbiAgICAgICAgICAgIHByb3BlcnR5ID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdob3Jpem9udGFsJyA/ICdsZWZ0JyA6ICd0b3AnO1xyXG4gICAgICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIG5ldyBzcGVlZFxyXG4gICAgICAgICAgICBuZXdTcGVlZCA9IHJhdGlvICogKHRvdGFsRGltZW5zIC0gKE1hdGguYWJzKHBhcnNlSW50KHZhbHVlKSkpKTtcclxuICAgICAgICAgICAgdGlja2VyTG9vcChuZXdTcGVlZCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgLy8gb24gZWwgaG92ZXJcclxuICAgICAgICAgIHNsaWRlci52aWV3cG9ydC5ob3ZlcihmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgZWwuc3RvcCgpO1xyXG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgdG90YWwgd2lkdGggb2YgY2hpbGRyZW4gKHVzZWQgdG8gY2FsY3VsYXRlIHRoZSBzcGVlZCByYXRpbylcclxuICAgICAgICAgICAgdG90YWxEaW1lbnMgPSAwO1xyXG4gICAgICAgICAgICBzbGlkZXIuY2hpbGRyZW4uZWFjaChmdW5jdGlvbihpbmRleCkge1xyXG4gICAgICAgICAgICAgIHRvdGFsRGltZW5zICs9IHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAnaG9yaXpvbnRhbCcgPyAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSkgOiAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBzcGVlZCByYXRpbyAodXNlZCB0byBkZXRlcm1pbmUgdGhlIG5ldyBzcGVlZCB0byBmaW5pc2ggdGhlIHBhdXNlZCBhbmltYXRpb24pXHJcbiAgICAgICAgICAgIHJhdGlvID0gc2xpZGVyLnNldHRpbmdzLnNwZWVkIC8gdG90YWxEaW1lbnM7XHJcbiAgICAgICAgICAgIC8vIGRldGVybWluZSB3aGljaCBwcm9wZXJ0eSB0byB1c2VcclxuICAgICAgICAgICAgcHJvcGVydHkgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2hvcml6b250YWwnID8gJ2xlZnQnIDogJ3RvcCc7XHJcbiAgICAgICAgICAgIC8vIGNhbGN1bGF0ZSB0aGUgbmV3IHNwZWVkXHJcbiAgICAgICAgICAgIG5ld1NwZWVkID0gcmF0aW8gKiAodG90YWxEaW1lbnMgLSAoTWF0aC5hYnMocGFyc2VJbnQoZWwuY3NzKHByb3BlcnR5KSkpKSk7XHJcbiAgICAgICAgICAgIHRpY2tlckxvb3AobmV3U3BlZWQpO1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIC8vIHN0YXJ0IHRoZSB0aWNrZXIgbG9vcFxyXG4gICAgICB0aWNrZXJMb29wKCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUnVucyBhIGNvbnRpbnVvdXMgbG9vcCwgbmV3cyB0aWNrZXItc3R5bGVcclxuICAgICAqL1xyXG4gICAgdmFyIHRpY2tlckxvb3AgPSBmdW5jdGlvbihyZXN1bWVTcGVlZCkge1xyXG4gICAgICB2YXIgc3BlZWQgPSByZXN1bWVTcGVlZCA/IHJlc3VtZVNwZWVkIDogc2xpZGVyLnNldHRpbmdzLnNwZWVkLFxyXG4gICAgICBwb3NpdGlvbiA9IHtsZWZ0OiAwLCB0b3A6IDB9LFxyXG4gICAgICByZXNldCA9IHtsZWZ0OiAwLCB0b3A6IDB9LFxyXG4gICAgICBhbmltYXRlUHJvcGVydHksIHJlc2V0VmFsdWUsIHBhcmFtcztcclxuXHJcbiAgICAgIC8vIGlmIFwibmV4dFwiIGFuaW1hdGUgbGVmdCBwb3NpdGlvbiB0byBsYXN0IGNoaWxkLCB0aGVuIHJlc2V0IGxlZnQgdG8gMFxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9EaXJlY3Rpb24gPT09ICduZXh0Jykge1xyXG4gICAgICAgIHBvc2l0aW9uID0gZWwuZmluZCgnLmJ4LWNsb25lJykuZmlyc3QoKS5wb3NpdGlvbigpO1xyXG4gICAgICAvLyBpZiBcInByZXZcIiBhbmltYXRlIGxlZnQgcG9zaXRpb24gdG8gMCwgdGhlbiByZXNldCBsZWZ0IHRvIGZpcnN0IG5vbi1jbG9uZSBjaGlsZFxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlc2V0ID0gc2xpZGVyLmNoaWxkcmVuLmZpcnN0KCkucG9zaXRpb24oKTtcclxuICAgICAgfVxyXG4gICAgICBhbmltYXRlUHJvcGVydHkgPSBzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2hvcml6b250YWwnID8gLXBvc2l0aW9uLmxlZnQgOiAtcG9zaXRpb24udG9wO1xyXG4gICAgICByZXNldFZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdob3Jpem9udGFsJyA/IC1yZXNldC5sZWZ0IDogLXJlc2V0LnRvcDtcclxuICAgICAgcGFyYW1zID0ge3Jlc2V0VmFsdWU6IHJlc2V0VmFsdWV9O1xyXG4gICAgICBzZXRQb3NpdGlvblByb3BlcnR5KGFuaW1hdGVQcm9wZXJ0eSwgJ3RpY2tlcicsIHNwZWVkLCBwYXJhbXMpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIENoZWNrIGlmIGVsIGlzIG9uIHNjcmVlblxyXG4gICAgICovXHJcbiAgICB2YXIgaXNPblNjcmVlbiA9IGZ1bmN0aW9uKGVsKSB7XHJcbiAgICAgIHZhciB3aW4gPSAkKHdpbmRvdyksXHJcbiAgICAgIHZpZXdwb3J0ID0ge1xyXG4gICAgICAgIHRvcDogd2luLnNjcm9sbFRvcCgpLFxyXG4gICAgICAgIGxlZnQ6IHdpbi5zY3JvbGxMZWZ0KClcclxuICAgICAgfSxcclxuICAgICAgYm91bmRzID0gZWwub2Zmc2V0KCk7XHJcblxyXG4gICAgICB2aWV3cG9ydC5yaWdodCA9IHZpZXdwb3J0LmxlZnQgKyB3aW4ud2lkdGgoKTtcclxuICAgICAgdmlld3BvcnQuYm90dG9tID0gdmlld3BvcnQudG9wICsgd2luLmhlaWdodCgpO1xyXG4gICAgICBib3VuZHMucmlnaHQgPSBib3VuZHMubGVmdCArIGVsLm91dGVyV2lkdGgoKTtcclxuICAgICAgYm91bmRzLmJvdHRvbSA9IGJvdW5kcy50b3AgKyBlbC5vdXRlckhlaWdodCgpO1xyXG5cclxuICAgICAgcmV0dXJuICghKHZpZXdwb3J0LnJpZ2h0IDwgYm91bmRzLmxlZnQgfHwgdmlld3BvcnQubGVmdCA+IGJvdW5kcy5yaWdodCB8fCB2aWV3cG9ydC5ib3R0b20gPCBib3VuZHMudG9wIHx8IHZpZXdwb3J0LnRvcCA+IGJvdW5kcy5ib3R0b20pKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyBrZXlib2FyZCBldmVudHNcclxuICAgICAqL1xyXG4gICAgdmFyIGtleVByZXNzID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICB2YXIgYWN0aXZlRWxlbWVudFRhZyA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICB0YWdGaWx0ZXJzID0gJ2lucHV0fHRleHRhcmVhJyxcclxuICAgICAgcCA9IG5ldyBSZWdFeHAoYWN0aXZlRWxlbWVudFRhZyxbJ2knXSksXHJcbiAgICAgIHJlc3VsdCA9IHAuZXhlYyh0YWdGaWx0ZXJzKTtcclxuXHJcbiAgICAgIGlmIChyZXN1bHQgPT0gbnVsbCAmJiBpc09uU2NyZWVuKGVsKSkge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDM5KSB7XHJcbiAgICAgICAgICBjbGlja05leHRCaW5kKGUpO1xyXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS5rZXlDb2RlID09PSAzNykge1xyXG4gICAgICAgICAgY2xpY2tQcmV2QmluZChlKTtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBJbml0aWFsaXplcyB0b3VjaCBldmVudHNcclxuICAgICAqL1xyXG4gICAgdmFyIGluaXRUb3VjaCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyBpbml0aWFsaXplIG9iamVjdCB0byBjb250YWluIGFsbCB0b3VjaCB2YWx1ZXNcclxuICAgICAgc2xpZGVyLnRvdWNoID0ge1xyXG4gICAgICAgIHN0YXJ0OiB7eDogMCwgeTogMH0sXHJcbiAgICAgICAgZW5kOiB7eDogMCwgeTogMH1cclxuICAgICAgfTtcclxuICAgICAgc2xpZGVyLnZpZXdwb3J0LmJpbmQoJ3RvdWNoc3RhcnQgTVNQb2ludGVyRG93biBwb2ludGVyZG93bicsIG9uVG91Y2hTdGFydCk7XHJcblxyXG4gICAgICAvL2ZvciBicm93c2VycyB0aGF0IGhhdmUgaW1wbGVtZW50ZWQgcG9pbnRlciBldmVudHMgYW5kIGZpcmUgYSBjbGljayBhZnRlclxyXG4gICAgICAvL2V2ZXJ5IHBvaW50ZXJ1cCByZWdhcmRsZXNzIG9mIHdoZXRoZXIgcG9pbnRlcnVwIGlzIG9uIHNhbWUgc2NyZWVuIGxvY2F0aW9uIGFzIHBvaW50ZXJkb3duIG9yIG5vdFxyXG4gICAgICBzbGlkZXIudmlld3BvcnQub24oJ2NsaWNrJywgJy5ieHNsaWRlciBhJywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChzbGlkZXIudmlld3BvcnQuaGFzQ2xhc3MoJ2NsaWNrLWRpc2FibGVkJykpIHtcclxuICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgIHNsaWRlci52aWV3cG9ydC5yZW1vdmVDbGFzcygnY2xpY2stZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2hzdGFydFwiXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGUgKGV2ZW50KVxyXG4gICAgICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG4gICAgICovXHJcbiAgICB2YXIgb25Ub3VjaFN0YXJ0ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAvL2Rpc2FibGUgc2xpZGVyIGNvbnRyb2xzIHdoaWxlIHVzZXIgaXMgaW50ZXJhY3Rpbmcgd2l0aCBzbGlkZXMgdG8gYXZvaWQgc2xpZGVyIGZyZWV6ZSB0aGF0IGhhcHBlbnMgb24gdG91Y2ggZGV2aWNlcyB3aGVuIGEgc2xpZGUgc3dpcGUgaGFwcGVucyBpbW1lZGlhdGVseSBhZnRlciBpbnRlcmFjdGluZyB3aXRoIHNsaWRlciBjb250cm9sc1xyXG4gICAgICBzbGlkZXIuY29udHJvbHMuZWwuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcblxyXG4gICAgICBpZiAoc2xpZGVyLndvcmtpbmcpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgc2xpZGVyLmNvbnRyb2xzLmVsLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHJlY29yZCB0aGUgb3JpZ2luYWwgcG9zaXRpb24gd2hlbiB0b3VjaCBzdGFydHNcclxuICAgICAgICBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MgPSBlbC5wb3NpdGlvbigpO1xyXG4gICAgICAgIHZhciBvcmlnID0gZS5vcmlnaW5hbEV2ZW50LFxyXG4gICAgICAgIHRvdWNoUG9pbnRzID0gKHR5cGVvZiBvcmlnLmNoYW5nZWRUb3VjaGVzICE9PSAndW5kZWZpbmVkJykgPyBvcmlnLmNoYW5nZWRUb3VjaGVzIDogW29yaWddO1xyXG4gICAgICAgIC8vIHJlY29yZCB0aGUgc3RhcnRpbmcgdG91Y2ggeCwgeSBjb29yZGluYXRlc1xyXG4gICAgICAgIHNsaWRlci50b3VjaC5zdGFydC54ID0gdG91Y2hQb2ludHNbMF0ucGFnZVg7XHJcbiAgICAgICAgc2xpZGVyLnRvdWNoLnN0YXJ0LnkgPSB0b3VjaFBvaW50c1swXS5wYWdlWTtcclxuXHJcbiAgICAgICAgaWYgKHNsaWRlci52aWV3cG9ydC5nZXQoMCkuc2V0UG9pbnRlckNhcHR1cmUpIHtcclxuICAgICAgICAgIHNsaWRlci5wb2ludGVySWQgPSBvcmlnLnBvaW50ZXJJZDtcclxuICAgICAgICAgIHNsaWRlci52aWV3cG9ydC5nZXQoMCkuc2V0UG9pbnRlckNhcHR1cmUoc2xpZGVyLnBvaW50ZXJJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGJpbmQgYSBcInRvdWNobW92ZVwiIGV2ZW50IHRvIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgIHNsaWRlci52aWV3cG9ydC5iaW5kKCd0b3VjaG1vdmUgTVNQb2ludGVyTW92ZSBwb2ludGVybW92ZScsIG9uVG91Y2hNb3ZlKTtcclxuICAgICAgICAvLyBiaW5kIGEgXCJ0b3VjaGVuZFwiIGV2ZW50IHRvIHRoZSB2aWV3cG9ydFxyXG4gICAgICAgIHNsaWRlci52aWV3cG9ydC5iaW5kKCd0b3VjaGVuZCBNU1BvaW50ZXJVcCBwb2ludGVydXAnLCBvblRvdWNoRW5kKTtcclxuICAgICAgICBzbGlkZXIudmlld3BvcnQuYmluZCgnTVNQb2ludGVyQ2FuY2VsIHBvaW50ZXJjYW5jZWwnLCBvblBvaW50ZXJDYW5jZWwpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQ2FuY2VsIFBvaW50ZXIgZm9yIFdpbmRvd3MgUGhvbmVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gZSAoZXZlbnQpXHJcbiAgICAgKiAgLSBET00gZXZlbnQgb2JqZWN0XHJcbiAgICAgKi9cclxuICAgIHZhciBvblBvaW50ZXJDYW5jZWwgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgIC8qIG9uUG9pbnRlckNhbmNlbCBoYW5kbGVyIGlzIG5lZWRlZCB0byBkZWFsIHdpdGggc2l0dWF0aW9ucyB3aGVuIGEgdG91Y2hlbmRcclxuICAgICAgZG9lc24ndCBmaXJlIGFmdGVyIGEgdG91Y2hzdGFydCAodGhpcyBoYXBwZW5zIG9uIHdpbmRvd3MgcGhvbmVzIG9ubHkpICovXHJcbiAgICAgIHNldFBvc2l0aW9uUHJvcGVydHkoc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLmxlZnQsICdyZXNldCcsIDApO1xyXG5cclxuICAgICAgLy9yZW1vdmUgaGFuZGxlcnNcclxuICAgICAgc2xpZGVyLmNvbnRyb2xzLmVsLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICBzbGlkZXIudmlld3BvcnQudW5iaW5kKCdNU1BvaW50ZXJDYW5jZWwgcG9pbnRlcmNhbmNlbCcsIG9uUG9pbnRlckNhbmNlbCk7XHJcbiAgICAgIHNsaWRlci52aWV3cG9ydC51bmJpbmQoJ3RvdWNobW92ZSBNU1BvaW50ZXJNb3ZlIHBvaW50ZXJtb3ZlJywgb25Ub3VjaE1vdmUpO1xyXG4gICAgICBzbGlkZXIudmlld3BvcnQudW5iaW5kKCd0b3VjaGVuZCBNU1BvaW50ZXJVcCBwb2ludGVydXAnLCBvblRvdWNoRW5kKTtcclxuICAgICAgaWYgKHNsaWRlci52aWV3cG9ydC5nZXQoMCkucmVsZWFzZVBvaW50ZXJDYXB0dXJlKSB7XHJcbiAgICAgICAgc2xpZGVyLnZpZXdwb3J0LmdldCgwKS5yZWxlYXNlUG9pbnRlckNhcHR1cmUoc2xpZGVyLnBvaW50ZXJJZCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBFdmVudCBoYW5kbGVyIGZvciBcInRvdWNobW92ZVwiXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGUgKGV2ZW50KVxyXG4gICAgICogIC0gRE9NIGV2ZW50IG9iamVjdFxyXG4gICAgICovXHJcbiAgICB2YXIgb25Ub3VjaE1vdmUgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgIHZhciBvcmlnID0gZS5vcmlnaW5hbEV2ZW50LFxyXG4gICAgICB0b3VjaFBvaW50cyA9ICh0eXBlb2Ygb3JpZy5jaGFuZ2VkVG91Y2hlcyAhPT0gJ3VuZGVmaW5lZCcpID8gb3JpZy5jaGFuZ2VkVG91Y2hlcyA6IFtvcmlnXSxcclxuICAgICAgLy8gaWYgc2Nyb2xsaW5nIG9uIHkgYXhpcywgZG8gbm90IHByZXZlbnQgZGVmYXVsdFxyXG4gICAgICB4TW92ZW1lbnQgPSBNYXRoLmFicyh0b3VjaFBvaW50c1swXS5wYWdlWCAtIHNsaWRlci50b3VjaC5zdGFydC54KSxcclxuICAgICAgeU1vdmVtZW50ID0gTWF0aC5hYnModG91Y2hQb2ludHNbMF0ucGFnZVkgLSBzbGlkZXIudG91Y2guc3RhcnQueSksXHJcbiAgICAgIHZhbHVlID0gMCxcclxuICAgICAgY2hhbmdlID0gMDtcclxuXHJcbiAgICAgIC8vIHggYXhpcyBzd2lwZVxyXG4gICAgICBpZiAoKHhNb3ZlbWVudCAqIDMpID4geU1vdmVtZW50ICYmIHNsaWRlci5zZXR0aW5ncy5wcmV2ZW50RGVmYXVsdFN3aXBlWCkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgLy8geSBheGlzIHN3aXBlXHJcbiAgICAgIH0gZWxzZSBpZiAoKHlNb3ZlbWVudCAqIDMpID4geE1vdmVtZW50ICYmIHNsaWRlci5zZXR0aW5ncy5wcmV2ZW50RGVmYXVsdFN3aXBlWSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgfVxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgIT09ICdmYWRlJyAmJiBzbGlkZXIuc2V0dGluZ3Mub25lVG9PbmVUb3VjaCkge1xyXG4gICAgICAgIC8vIGlmIGhvcml6b250YWwsIGRyYWcgYWxvbmcgeCBheGlzXHJcbiAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5tb2RlID09PSAnaG9yaXpvbnRhbCcpIHtcclxuICAgICAgICAgIGNoYW5nZSA9IHRvdWNoUG9pbnRzWzBdLnBhZ2VYIC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lng7XHJcbiAgICAgICAgICB2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy5sZWZ0ICsgY2hhbmdlO1xyXG4gICAgICAgIC8vIGlmIHZlcnRpY2FsLCBkcmFnIGFsb25nIHkgYXhpc1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBjaGFuZ2UgPSB0b3VjaFBvaW50c1swXS5wYWdlWSAtIHNsaWRlci50b3VjaC5zdGFydC55O1xyXG4gICAgICAgICAgdmFsdWUgPSBzbGlkZXIudG91Y2gub3JpZ2luYWxQb3MudG9wICsgY2hhbmdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAwKTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIEV2ZW50IGhhbmRsZXIgZm9yIFwidG91Y2hlbmRcIlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBlIChldmVudClcclxuICAgICAqICAtIERPTSBldmVudCBvYmplY3RcclxuICAgICAqL1xyXG4gICAgdmFyIG9uVG91Y2hFbmQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgIHNsaWRlci52aWV3cG9ydC51bmJpbmQoJ3RvdWNobW92ZSBNU1BvaW50ZXJNb3ZlIHBvaW50ZXJtb3ZlJywgb25Ub3VjaE1vdmUpO1xyXG4gICAgICAvL2VuYWJsZSBzbGlkZXIgY29udHJvbHMgYXMgc29vbiBhcyB1c2VyIHN0b3BzIGludGVyYWNpbmcgd2l0aCBzbGlkZXNcclxuICAgICAgc2xpZGVyLmNvbnRyb2xzLmVsLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICB2YXIgb3JpZyAgICA9IGUub3JpZ2luYWxFdmVudCxcclxuICAgICAgdG91Y2hQb2ludHMgPSAodHlwZW9mIG9yaWcuY2hhbmdlZFRvdWNoZXMgIT09ICd1bmRlZmluZWQnKSA/IG9yaWcuY2hhbmdlZFRvdWNoZXMgOiBbb3JpZ10sXHJcbiAgICAgIHZhbHVlICAgICAgID0gMCxcclxuICAgICAgZGlzdGFuY2UgICAgPSAwO1xyXG4gICAgICAvLyByZWNvcmQgZW5kIHgsIHkgcG9zaXRpb25zXHJcbiAgICAgIHNsaWRlci50b3VjaC5lbmQueCA9IHRvdWNoUG9pbnRzWzBdLnBhZ2VYO1xyXG4gICAgICBzbGlkZXIudG91Y2guZW5kLnkgPSB0b3VjaFBvaW50c1swXS5wYWdlWTtcclxuICAgICAgLy8gaWYgZmFkZSBtb2RlLCBjaGVjayBpZiBhYnNvbHV0ZSB4IGRpc3RhbmNlIGNsZWFycyB0aGUgdGhyZXNob2xkXHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MubW9kZSA9PT0gJ2ZhZGUnKSB7XHJcbiAgICAgICAgZGlzdGFuY2UgPSBNYXRoLmFicyhzbGlkZXIudG91Y2guc3RhcnQueCAtIHNsaWRlci50b3VjaC5lbmQueCk7XHJcbiAgICAgICAgaWYgKGRpc3RhbmNlID49IHNsaWRlci5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZCkge1xyXG4gICAgICAgICAgaWYgKHNsaWRlci50b3VjaC5zdGFydC54ID4gc2xpZGVyLnRvdWNoLmVuZC54KSB7XHJcbiAgICAgICAgICAgIGVsLmdvVG9OZXh0U2xpZGUoKTtcclxuICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGVsLnN0b3BBdXRvKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAvLyBub3QgZmFkZSBtb2RlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gY2FsY3VsYXRlIGRpc3RhbmNlIGFuZCBlbCdzIGFuaW1hdGUgcHJvcGVydHlcclxuICAgICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdob3Jpem9udGFsJykge1xyXG4gICAgICAgICAgZGlzdGFuY2UgPSBzbGlkZXIudG91Y2guZW5kLnggLSBzbGlkZXIudG91Y2guc3RhcnQueDtcclxuICAgICAgICAgIHZhbHVlID0gc2xpZGVyLnRvdWNoLm9yaWdpbmFsUG9zLmxlZnQ7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGRpc3RhbmNlID0gc2xpZGVyLnRvdWNoLmVuZC55IC0gc2xpZGVyLnRvdWNoLnN0YXJ0Lnk7XHJcbiAgICAgICAgICB2YWx1ZSA9IHNsaWRlci50b3VjaC5vcmlnaW5hbFBvcy50b3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIG5vdCBpbmZpbml0ZSBsb29wIGFuZCBmaXJzdCAvIGxhc3Qgc2xpZGUsIGRvIG5vdCBhdHRlbXB0IGEgc2xpZGUgdHJhbnNpdGlvblxyXG4gICAgICAgIGlmICghc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiAoKHNsaWRlci5hY3RpdmUuaW5kZXggPT09IDAgJiYgZGlzdGFuY2UgPiAwKSB8fCAoc2xpZGVyLmFjdGl2ZS5sYXN0ICYmIGRpc3RhbmNlIDwgMCkpKSB7XHJcbiAgICAgICAgICBzZXRQb3NpdGlvblByb3BlcnR5KHZhbHVlLCAncmVzZXQnLCAyMDApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvLyBjaGVjayBpZiBkaXN0YW5jZSBjbGVhcnMgdGhyZXNob2xkXHJcbiAgICAgICAgICBpZiAoTWF0aC5hYnMoZGlzdGFuY2UpID49IHNsaWRlci5zZXR0aW5ncy5zd2lwZVRocmVzaG9sZCkge1xyXG4gICAgICAgICAgICBpZiAoZGlzdGFuY2UgPCAwKSB7XHJcbiAgICAgICAgICAgICAgZWwuZ29Ub05leHRTbGlkZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbC5zdG9wQXV0bygpO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gZWwuYW5pbWF0ZShwcm9wZXJ0eSwgMjAwKTtcclxuICAgICAgICAgICAgc2V0UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSwgJ3Jlc2V0JywgMjAwKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgc2xpZGVyLnZpZXdwb3J0LnVuYmluZCgndG91Y2hlbmQgTVNQb2ludGVyVXAgcG9pbnRlcnVwJywgb25Ub3VjaEVuZCk7XHJcbiAgICAgIGlmIChzbGlkZXIudmlld3BvcnQuZ2V0KDApLnJlbGVhc2VQb2ludGVyQ2FwdHVyZSkge1xyXG4gICAgICAgIHNsaWRlci52aWV3cG9ydC5nZXQoMCkucmVsZWFzZVBvaW50ZXJDYXB0dXJlKHNsaWRlci5wb2ludGVySWQpO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogV2luZG93IHJlc2l6ZSBldmVudCBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICB2YXIgcmVzaXplV2luZG93ID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAvLyBkb24ndCBkbyBhbnl0aGluZyBpZiBzbGlkZXIgaXNuJ3QgaW5pdGlhbGl6ZWQuXHJcbiAgICAgIGlmICghc2xpZGVyLmluaXRpYWxpemVkKSB7IHJldHVybjsgfVxyXG4gICAgICAvLyBEZWxheSBpZiBzbGlkZXIgd29ya2luZy5cclxuICAgICAgaWYgKHNsaWRlci53b3JraW5nKSB7XHJcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQocmVzaXplV2luZG93LCAxMCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gZ2V0IHRoZSBuZXcgd2luZG93IGRpbWVucyAoYWdhaW4sIHRoYW5rIHlvdSBJRSlcclxuICAgICAgICB2YXIgd2luZG93V2lkdGhOZXcgPSAkKHdpbmRvdykud2lkdGgoKSxcclxuICAgICAgICB3aW5kb3dIZWlnaHROZXcgPSAkKHdpbmRvdykuaGVpZ2h0KCk7XHJcbiAgICAgICAgLy8gbWFrZSBzdXJlIHRoYXQgaXQgaXMgYSB0cnVlIHdpbmRvdyByZXNpemVcclxuICAgICAgICAvLyAqd2UgbXVzdCBjaGVjayB0aGlzIGJlY2F1c2Ugb3VyIGRpbm9zYXVyIGZyaWVuZCBJRSBmaXJlcyBhIHdpbmRvdyByZXNpemUgZXZlbnQgd2hlbiBjZXJ0YWluIERPTSBlbGVtZW50c1xyXG4gICAgICAgIC8vIGFyZSByZXNpemVkLiBDYW4geW91IGp1c3QgZGllIGFscmVhZHk/KlxyXG4gICAgICAgIGlmICh3aW5kb3dXaWR0aCAhPT0gd2luZG93V2lkdGhOZXcgfHwgd2luZG93SGVpZ2h0ICE9PSB3aW5kb3dIZWlnaHROZXcpIHtcclxuICAgICAgICAgIC8vIHNldCB0aGUgbmV3IHdpbmRvdyBkaW1lbnNcclxuICAgICAgICAgIHdpbmRvd1dpZHRoID0gd2luZG93V2lkdGhOZXc7XHJcbiAgICAgICAgICB3aW5kb3dIZWlnaHQgPSB3aW5kb3dIZWlnaHROZXc7XHJcbiAgICAgICAgICAvLyB1cGRhdGUgYWxsIGR5bmFtaWMgZWxlbWVudHNcclxuICAgICAgICAgIGVsLnJlZHJhd1NsaWRlcigpO1xyXG4gICAgICAgICAgLy8gQ2FsbCB1c2VyIHJlc2l6ZSBoYW5kbGVyXHJcbiAgICAgICAgICBzbGlkZXIuc2V0dGluZ3Mub25TbGlkZXJSZXNpemUuY2FsbChlbCwgc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBhbiBhcmlhLWhpZGRlbj10cnVlIGF0dHJpYnV0ZSB0byBlYWNoIGVsZW1lbnRcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc3RhcnRWaXNpYmxlSW5kZXggKGludClcclxuICAgICAqICAtIHRoZSBmaXJzdCB2aXNpYmxlIGVsZW1lbnQncyBpbmRleFxyXG4gICAgICovXHJcbiAgICB2YXIgYXBwbHlBcmlhSGlkZGVuQXR0cmlidXRlcyA9IGZ1bmN0aW9uKHN0YXJ0VmlzaWJsZUluZGV4KSB7XHJcbiAgICAgIHZhciBudW1iZXJPZlNsaWRlc1Nob3dpbmcgPSBnZXROdW1iZXJTbGlkZXNTaG93aW5nKCk7XHJcbiAgICAgIC8vIG9ubHkgYXBwbHkgYXR0cmlidXRlcyBpZiB0aGUgc2V0dGluZyBpcyBlbmFibGVkIGFuZCBub3QgaW4gdGlja2VyIG1vZGVcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5hcmlhSGlkZGVuICYmICFzbGlkZXIuc2V0dGluZ3MudGlja2VyKSB7XHJcbiAgICAgICAgLy8gYWRkIGFyaWEtaGlkZGVuPXRydWUgdG8gYWxsIGVsZW1lbnRzXHJcbiAgICAgICAgc2xpZGVyLmNoaWxkcmVuLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ3RydWUnKTtcclxuICAgICAgICAvLyBnZXQgdGhlIHZpc2libGUgZWxlbWVudHMgYW5kIGNoYW5nZSB0byBhcmlhLWhpZGRlbj1mYWxzZVxyXG4gICAgICAgIHNsaWRlci5jaGlsZHJlbi5zbGljZShzdGFydFZpc2libGVJbmRleCwgc3RhcnRWaXNpYmxlSW5kZXggKyBudW1iZXJPZlNsaWRlc1Nob3dpbmcpLmF0dHIoJ2FyaWEtaGlkZGVuJywgJ2ZhbHNlJyk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGluZGV4IGFjY29yZGluZyB0byBwcmVzZW50IHBhZ2UgcmFuZ2VcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2xpZGVPbmRleCAoaW50KVxyXG4gICAgICogIC0gdGhlIGRlc2lyZWQgc2xpZGUgaW5kZXhcclxuICAgICAqL1xyXG4gICAgdmFyIHNldFNsaWRlSW5kZXggPSBmdW5jdGlvbihzbGlkZUluZGV4KSB7XHJcbiAgICAgIGlmIChzbGlkZUluZGV4IDwgMCkge1xyXG4gICAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wKSB7XHJcbiAgICAgICAgICByZXR1cm4gZ2V0UGFnZXJRdHkoKSAtIDE7XHJcbiAgICAgICAgfWVsc2Uge1xyXG4gICAgICAgICAgLy93ZSBkb24ndCBnbyB0byB1bmRlZmluZWQgc2xpZGVzXHJcbiAgICAgICAgICByZXR1cm4gc2xpZGVyLmFjdGl2ZS5pbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgIC8vIGlmIHNsaWRlSW5kZXggaXMgZ3JlYXRlciB0aGFuIGNoaWxkcmVuIGxlbmd0aCwgc2V0IGFjdGl2ZSBpbmRleCB0byAwICh0aGlzIGhhcHBlbnMgZHVyaW5nIGluZmluaXRlIGxvb3ApXHJcbiAgICAgIH0gZWxzZSBpZiAoc2xpZGVJbmRleCA+PSBnZXRQYWdlclF0eSgpKSB7XHJcbiAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5pbmZpbml0ZUxvb3ApIHtcclxuICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAvL3dlIGRvbid0IG1vdmUgdG8gdW5kZWZpbmVkIHBhZ2VzXHJcbiAgICAgICAgICByZXR1cm4gc2xpZGVyLmFjdGl2ZS5pbmRleDtcclxuICAgICAgICB9XHJcbiAgICAgIC8vIHNldCBhY3RpdmUgaW5kZXggdG8gcmVxdWVzdGVkIHNsaWRlXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHNsaWRlSW5kZXg7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICogPSBQVUJMSUMgRlVOQ1RJT05TXHJcbiAgICAgKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBQZXJmb3JtcyBzbGlkZSB0cmFuc2l0aW9uIHRvIHRoZSBzcGVjaWZpZWQgc2xpZGVcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gc2xpZGVJbmRleCAoaW50KVxyXG4gICAgICogIC0gdGhlIGRlc3RpbmF0aW9uIHNsaWRlJ3MgaW5kZXggKHplcm8tYmFzZWQpXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGRpcmVjdGlvbiAoc3RyaW5nKVxyXG4gICAgICogIC0gSU5URVJOQUwgVVNFIE9OTFkgLSB0aGUgZGlyZWN0aW9uIG9mIHRyYXZlbCAoXCJwcmV2XCIgLyBcIm5leHRcIilcclxuICAgICAqL1xyXG4gICAgZWwuZ29Ub1NsaWRlID0gZnVuY3Rpb24oc2xpZGVJbmRleCwgZGlyZWN0aW9uKSB7XHJcbiAgICAgIC8vIG9uU2xpZGVCZWZvcmUsIG9uU2xpZGVOZXh0LCBvblNsaWRlUHJldiBjYWxsYmFja3NcclxuICAgICAgLy8gQWxsb3cgdHJhbnNpdGlvbiBjYW5jZWxpbmcgYmFzZWQgb24gcmV0dXJuZWQgdmFsdWVcclxuICAgICAgdmFyIHBlcmZvcm1UcmFuc2l0aW9uID0gdHJ1ZSxcclxuICAgICAgbW92ZUJ5ID0gMCxcclxuICAgICAgcG9zaXRpb24gPSB7bGVmdDogMCwgdG9wOiAwfSxcclxuICAgICAgbGFzdENoaWxkID0gbnVsbCxcclxuICAgICAgbGFzdFNob3dpbmdJbmRleCwgZXEsIHZhbHVlLCByZXF1ZXN0RWw7XHJcbiAgICAgIC8vIHN0b3JlIHRoZSBvbGQgaW5kZXhcclxuICAgICAgc2xpZGVyLm9sZEluZGV4ID0gc2xpZGVyLmFjdGl2ZS5pbmRleDtcclxuICAgICAgLy9zZXQgbmV3IGluZGV4XHJcbiAgICAgIHNsaWRlci5hY3RpdmUuaW5kZXggPSBzZXRTbGlkZUluZGV4KHNsaWRlSW5kZXgpO1xyXG5cclxuICAgICAgLy8gaWYgcGx1Z2luIGlzIGN1cnJlbnRseSBpbiBtb3Rpb24sIGlnbm9yZSByZXF1ZXN0XHJcbiAgICAgIGlmIChzbGlkZXIud29ya2luZyB8fCBzbGlkZXIuYWN0aXZlLmluZGV4ID09PSBzbGlkZXIub2xkSW5kZXgpIHsgcmV0dXJuOyB9XHJcbiAgICAgIC8vIGRlY2xhcmUgdGhhdCBwbHVnaW4gaXMgaW4gbW90aW9uXHJcbiAgICAgIHNsaWRlci53b3JraW5nID0gdHJ1ZTtcclxuXHJcbiAgICAgIHBlcmZvcm1UcmFuc2l0aW9uID0gc2xpZGVyLnNldHRpbmdzLm9uU2xpZGVCZWZvcmUuY2FsbChlbCwgc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpLCBzbGlkZXIub2xkSW5kZXgsIHNsaWRlci5hY3RpdmUuaW5kZXgpO1xyXG5cclxuICAgICAgLy8gSWYgdHJhbnNpdGlvbnMgY2FuY2VsZWQsIHJlc2V0IGFuZCByZXR1cm5cclxuICAgICAgaWYgKHR5cGVvZiAocGVyZm9ybVRyYW5zaXRpb24pICE9PSAndW5kZWZpbmVkJyAmJiAhcGVyZm9ybVRyYW5zaXRpb24pIHtcclxuICAgICAgICBzbGlkZXIuYWN0aXZlLmluZGV4ID0gc2xpZGVyLm9sZEluZGV4OyAvLyByZXN0b3JlIG9sZCBpbmRleFxyXG4gICAgICAgIHNsaWRlci53b3JraW5nID0gZmFsc2U7IC8vIGlzIG5vdCBpbiBtb3Rpb25cclxuICAgICAgICByZXR1cm47XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkaXJlY3Rpb24gPT09ICduZXh0Jykge1xyXG4gICAgICAgIC8vIFByZXZlbnQgY2FuY2VsaW5nIGluIGZ1dHVyZSBmdW5jdGlvbnMgb3IgbGFjayB0aGVyZS1vZiBmcm9tIG5lZ2F0aW5nIHByZXZpb3VzIGNvbW1hbmRzIHRvIGNhbmNlbFxyXG4gICAgICAgIGlmICghc2xpZGVyLnNldHRpbmdzLm9uU2xpZGVOZXh0LmNhbGwoZWwsIHNsaWRlci5jaGlsZHJlbi5lcShzbGlkZXIuYWN0aXZlLmluZGV4KSwgc2xpZGVyLm9sZEluZGV4LCBzbGlkZXIuYWN0aXZlLmluZGV4KSkge1xyXG4gICAgICAgICAgcGVyZm9ybVRyYW5zaXRpb24gPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09PSAncHJldicpIHtcclxuICAgICAgICAvLyBQcmV2ZW50IGNhbmNlbGluZyBpbiBmdXR1cmUgZnVuY3Rpb25zIG9yIGxhY2sgdGhlcmUtb2YgZnJvbSBuZWdhdGluZyBwcmV2aW91cyBjb21tYW5kcyB0byBjYW5jZWxcclxuICAgICAgICBpZiAoIXNsaWRlci5zZXR0aW5ncy5vblNsaWRlUHJldi5jYWxsKGVsLCBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCksIHNsaWRlci5vbGRJbmRleCwgc2xpZGVyLmFjdGl2ZS5pbmRleCkpIHtcclxuICAgICAgICAgIHBlcmZvcm1UcmFuc2l0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBjaGVjayBpZiBsYXN0IHNsaWRlXHJcbiAgICAgIHNsaWRlci5hY3RpdmUubGFzdCA9IHNsaWRlci5hY3RpdmUuaW5kZXggPj0gZ2V0UGFnZXJRdHkoKSAtIDE7XHJcbiAgICAgIC8vIHVwZGF0ZSB0aGUgcGFnZXIgd2l0aCBhY3RpdmUgY2xhc3NcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5wYWdlciB8fCBzbGlkZXIuc2V0dGluZ3MucGFnZXJDdXN0b20pIHsgdXBkYXRlUGFnZXJBY3RpdmUoc2xpZGVyLmFjdGl2ZS5pbmRleCk7IH1cclxuICAgICAgLy8gLy8gY2hlY2sgZm9yIGRpcmVjdGlvbiBjb250cm9sIHVwZGF0ZVxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmNvbnRyb2xzKSB7IHVwZGF0ZURpcmVjdGlvbkNvbnRyb2xzKCk7IH1cclxuICAgICAgLy8gaWYgc2xpZGVyIGlzIHNldCB0byBtb2RlOiBcImZhZGVcIlxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdmYWRlJykge1xyXG4gICAgICAgIC8vIGlmIGFkYXB0aXZlSGVpZ2h0IGlzIHRydWUgYW5kIG5leHQgaGVpZ2h0IGlzIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgaGVpZ2h0LCBhbmltYXRlIHRvIHRoZSBuZXcgaGVpZ2h0XHJcbiAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCAmJiBzbGlkZXIudmlld3BvcnQuaGVpZ2h0KCkgIT09IGdldFZpZXdwb3J0SGVpZ2h0KCkpIHtcclxuICAgICAgICAgIHNsaWRlci52aWV3cG9ydC5hbmltYXRlKHtoZWlnaHQ6IGdldFZpZXdwb3J0SGVpZ2h0KCl9LCBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGZhZGUgb3V0IHRoZSB2aXNpYmxlIGNoaWxkIGFuZCByZXNldCBpdHMgei1pbmRleCB2YWx1ZVxyXG4gICAgICAgIHNsaWRlci5jaGlsZHJlbi5maWx0ZXIoJzp2aXNpYmxlJykuZmFkZU91dChzbGlkZXIuc2V0dGluZ3Muc3BlZWQpLmNzcyh7ekluZGV4OiAwfSk7XHJcbiAgICAgICAgLy8gZmFkZSBpbiB0aGUgbmV3bHkgcmVxdWVzdGVkIHNsaWRlXHJcbiAgICAgICAgc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5hY3RpdmUuaW5kZXgpLmNzcygnekluZGV4Jywgc2xpZGVyLnNldHRpbmdzLnNsaWRlWkluZGV4ICsgMSkuZmFkZUluKHNsaWRlci5zZXR0aW5ncy5zcGVlZCwgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAkKHRoaXMpLmNzcygnekluZGV4Jywgc2xpZGVyLnNldHRpbmdzLnNsaWRlWkluZGV4KTtcclxuICAgICAgICAgIHVwZGF0ZUFmdGVyU2xpZGVUcmFuc2l0aW9uKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIC8vIHNsaWRlciBtb2RlIGlzIG5vdCBcImZhZGVcIlxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIGlmIGFkYXB0aXZlSGVpZ2h0IGlzIHRydWUgYW5kIG5leHQgaGVpZ2h0IGlzIGRpZmZlcmVudCBmcm9tIGN1cnJlbnQgaGVpZ2h0LCBhbmltYXRlIHRvIHRoZSBuZXcgaGVpZ2h0XHJcbiAgICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5hZGFwdGl2ZUhlaWdodCAmJiBzbGlkZXIudmlld3BvcnQuaGVpZ2h0KCkgIT09IGdldFZpZXdwb3J0SGVpZ2h0KCkpIHtcclxuICAgICAgICAgIHNsaWRlci52aWV3cG9ydC5hbmltYXRlKHtoZWlnaHQ6IGdldFZpZXdwb3J0SGVpZ2h0KCl9LCBzbGlkZXIuc2V0dGluZ3MuYWRhcHRpdmVIZWlnaHRTcGVlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIGNhcm91c2VsIGFuZCBub3QgaW5maW5pdGUgbG9vcFxyXG4gICAgICAgIGlmICghc2xpZGVyLnNldHRpbmdzLmluZmluaXRlTG9vcCAmJiBzbGlkZXIuY2Fyb3VzZWwgJiYgc2xpZGVyLmFjdGl2ZS5sYXN0KSB7XHJcbiAgICAgICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdob3Jpem9udGFsJykge1xyXG4gICAgICAgICAgICAvLyBnZXQgdGhlIGxhc3QgY2hpbGQgcG9zaXRpb25cclxuICAgICAgICAgICAgbGFzdENoaWxkID0gc2xpZGVyLmNoaWxkcmVuLmVxKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSAxKTtcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBsYXN0Q2hpbGQucG9zaXRpb24oKTtcclxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgbGFzdCBzbGlkZVxyXG4gICAgICAgICAgICBtb3ZlQnkgPSBzbGlkZXIudmlld3BvcnQud2lkdGgoKSAtIGxhc3RDaGlsZC5vdXRlcldpZHRoKCk7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBnZXQgbGFzdCBzaG93aW5nIGluZGV4IHBvc2l0aW9uXHJcbiAgICAgICAgICAgIGxhc3RTaG93aW5nSW5kZXggPSBzbGlkZXIuY2hpbGRyZW4ubGVuZ3RoIC0gc2xpZGVyLnNldHRpbmdzLm1pblNsaWRlcztcclxuICAgICAgICAgICAgcG9zaXRpb24gPSBzbGlkZXIuY2hpbGRyZW4uZXEobGFzdFNob3dpbmdJbmRleCkucG9zaXRpb24oKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIC8vIGhvcml6b250YWwgY2Fyb3VzZWwsIGdvaW5nIHByZXZpb3VzIHdoaWxlIG9uIGZpcnN0IHNsaWRlIChpbmZpbml0ZUxvb3AgbW9kZSlcclxuICAgICAgICB9IGVsc2UgaWYgKHNsaWRlci5jYXJvdXNlbCAmJiBzbGlkZXIuYWN0aXZlLmxhc3QgJiYgZGlyZWN0aW9uID09PSAncHJldicpIHtcclxuICAgICAgICAgIC8vIGdldCB0aGUgbGFzdCBjaGlsZCBwb3NpdGlvblxyXG4gICAgICAgICAgZXEgPSBzbGlkZXIuc2V0dGluZ3MubW92ZVNsaWRlcyA9PT0gMSA/IHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMgLSBnZXRNb3ZlQnkoKSA6ICgoZ2V0UGFnZXJRdHkoKSAtIDEpICogZ2V0TW92ZUJ5KCkpIC0gKHNsaWRlci5jaGlsZHJlbi5sZW5ndGggLSBzbGlkZXIuc2V0dGluZ3MubWF4U2xpZGVzKTtcclxuICAgICAgICAgIGxhc3RDaGlsZCA9IGVsLmNoaWxkcmVuKCcuYngtY2xvbmUnKS5lcShlcSk7XHJcbiAgICAgICAgICBwb3NpdGlvbiA9IGxhc3RDaGlsZC5wb3NpdGlvbigpO1xyXG4gICAgICAgIC8vIGlmIGluZmluaXRlIGxvb3AgYW5kIFwiTmV4dFwiIGlzIGNsaWNrZWQgb24gdGhlIGxhc3Qgc2xpZGVcclxuICAgICAgICB9IGVsc2UgaWYgKGRpcmVjdGlvbiA9PT0gJ25leHQnICYmIHNsaWRlci5hY3RpdmUuaW5kZXggPT09IDApIHtcclxuICAgICAgICAgIC8vIGdldCB0aGUgbGFzdCBjbG9uZSBwb3NpdGlvblxyXG4gICAgICAgICAgcG9zaXRpb24gPSBlbC5maW5kKCc+IC5ieC1jbG9uZScpLmVxKHNsaWRlci5zZXR0aW5ncy5tYXhTbGlkZXMpLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgICBzbGlkZXIuYWN0aXZlLmxhc3QgPSBmYWxzZTtcclxuICAgICAgICAvLyBub3JtYWwgbm9uLXplcm8gcmVxdWVzdHNcclxuICAgICAgICB9IGVsc2UgaWYgKHNsaWRlSW5kZXggPj0gMCkge1xyXG4gICAgICAgICAgLy9wYXJzZUludCBpcyBhcHBsaWVkIHRvIGFsbG93IGZsb2F0cyBmb3Igc2xpZGVzL3BhZ2VcclxuICAgICAgICAgIHJlcXVlc3RFbCA9IHNsaWRlSW5kZXggKiBwYXJzZUludChnZXRNb3ZlQnkoKSk7XHJcbiAgICAgICAgICBwb3NpdGlvbiA9IHNsaWRlci5jaGlsZHJlbi5lcShyZXF1ZXN0RWwpLnBvc2l0aW9uKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBJZiB0aGUgcG9zaXRpb24gZG9lc24ndCBleGlzdFxyXG4gICAgICAgICAqIChlLmcuIGlmIHlvdSBkZXN0cm95IHRoZSBzbGlkZXIgb24gYSBuZXh0IGNsaWNrKSxcclxuICAgICAgICAgKiBpdCBkb2Vzbid0IHRocm93IGFuIGVycm9yLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGlmICh0eXBlb2YgKHBvc2l0aW9uKSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgIHZhbHVlID0gc2xpZGVyLnNldHRpbmdzLm1vZGUgPT09ICdob3Jpem9udGFsJyA/IC0ocG9zaXRpb24ubGVmdCAtIG1vdmVCeSkgOiAtcG9zaXRpb24udG9wO1xyXG4gICAgICAgICAgLy8gcGx1Z2luIHZhbHVlcyB0byBiZSBhbmltYXRlZFxyXG4gICAgICAgICAgc2V0UG9zaXRpb25Qcm9wZXJ0eSh2YWx1ZSwgJ3NsaWRlJywgc2xpZGVyLnNldHRpbmdzLnNwZWVkKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgc2xpZGVyLndvcmtpbmcgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5hcmlhSGlkZGVuKSB7IGFwcGx5QXJpYUhpZGRlbkF0dHJpYnV0ZXMoc2xpZGVyLmFjdGl2ZS5pbmRleCAqIGdldE1vdmVCeSgpKTsgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zaXRpb25zIHRvIHRoZSBuZXh0IHNsaWRlIGluIHRoZSBzaG93XHJcbiAgICAgKi9cclxuICAgIGVsLmdvVG9OZXh0U2xpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gaWYgaW5maW5pdGVMb29wIGlzIGZhbHNlIGFuZCBsYXN0IHBhZ2UgaXMgc2hvd2luZywgZGlzcmVnYXJkIGNhbGxcclxuICAgICAgaWYgKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5hY3RpdmUubGFzdCkgeyByZXR1cm47IH1cclxuICAgICAgdmFyIHBhZ2VySW5kZXggPSBwYXJzZUludChzbGlkZXIuYWN0aXZlLmluZGV4KSArIDE7XHJcbiAgICAgIGVsLmdvVG9TbGlkZShwYWdlckluZGV4LCAnbmV4dCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFRyYW5zaXRpb25zIHRvIHRoZSBwcmV2IHNsaWRlIGluIHRoZSBzaG93XHJcbiAgICAgKi9cclxuICAgIGVsLmdvVG9QcmV2U2xpZGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gaWYgaW5maW5pdGVMb29wIGlzIGZhbHNlIGFuZCBsYXN0IHBhZ2UgaXMgc2hvd2luZywgZGlzcmVnYXJkIGNhbGxcclxuICAgICAgaWYgKCFzbGlkZXIuc2V0dGluZ3MuaW5maW5pdGVMb29wICYmIHNsaWRlci5hY3RpdmUuaW5kZXggPT09IDApIHsgcmV0dXJuOyB9XHJcbiAgICAgIHZhciBwYWdlckluZGV4ID0gcGFyc2VJbnQoc2xpZGVyLmFjdGl2ZS5pbmRleCkgLSAxO1xyXG4gICAgICBlbC5nb1RvU2xpZGUocGFnZXJJbmRleCwgJ3ByZXYnKTtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydHMgdGhlIGF1dG8gc2hvd1xyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBwcmV2ZW50Q29udHJvbFVwZGF0ZSAoYm9vbGVhbilcclxuICAgICAqICAtIGlmIHRydWUsIGF1dG8gY29udHJvbHMgc3RhdGUgd2lsbCBub3QgYmUgdXBkYXRlZFxyXG4gICAgICovXHJcbiAgICBlbC5zdGFydEF1dG8gPSBmdW5jdGlvbihwcmV2ZW50Q29udHJvbFVwZGF0ZSkge1xyXG4gICAgICAvLyBpZiBhbiBpbnRlcnZhbCBhbHJlYWR5IGV4aXN0cywgZGlzcmVnYXJkIGNhbGxcclxuICAgICAgaWYgKHNsaWRlci5pbnRlcnZhbCkgeyByZXR1cm47IH1cclxuICAgICAgLy8gY3JlYXRlIGFuIGludGVydmFsXHJcbiAgICAgIHNsaWRlci5pbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuYXV0b0RpcmVjdGlvbiA9PT0gJ25leHQnKSB7XHJcbiAgICAgICAgICBlbC5nb1RvTmV4dFNsaWRlKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGVsLmdvVG9QcmV2U2xpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sIHNsaWRlci5zZXR0aW5ncy5wYXVzZSk7XHJcbiAgICAgIC8vIGlmIGF1dG8gY29udHJvbHMgYXJlIGRpc3BsYXllZCBhbmQgcHJldmVudENvbnRyb2xVcGRhdGUgaXMgbm90IHRydWVcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5hdXRvQ29udHJvbHMgJiYgcHJldmVudENvbnRyb2xVcGRhdGUgIT09IHRydWUpIHsgdXBkYXRlQXV0b0NvbnRyb2xzKCdzdG9wJyk7IH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyB0aGUgYXV0byBzaG93XHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHByZXZlbnRDb250cm9sVXBkYXRlIChib29sZWFuKVxyXG4gICAgICogIC0gaWYgdHJ1ZSwgYXV0byBjb250cm9scyBzdGF0ZSB3aWxsIG5vdCBiZSB1cGRhdGVkXHJcbiAgICAgKi9cclxuICAgIGVsLnN0b3BBdXRvID0gZnVuY3Rpb24ocHJldmVudENvbnRyb2xVcGRhdGUpIHtcclxuICAgICAgLy8gaWYgbm8gaW50ZXJ2YWwgZXhpc3RzLCBkaXNyZWdhcmQgY2FsbFxyXG4gICAgICBpZiAoIXNsaWRlci5pbnRlcnZhbCkgeyByZXR1cm47IH1cclxuICAgICAgLy8gY2xlYXIgdGhlIGludGVydmFsXHJcbiAgICAgIGNsZWFySW50ZXJ2YWwoc2xpZGVyLmludGVydmFsKTtcclxuICAgICAgc2xpZGVyLmludGVydmFsID0gbnVsbDtcclxuICAgICAgLy8gaWYgYXV0byBjb250cm9scyBhcmUgZGlzcGxheWVkIGFuZCBwcmV2ZW50Q29udHJvbFVwZGF0ZSBpcyBub3QgdHJ1ZVxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmF1dG9Db250cm9scyAmJiBwcmV2ZW50Q29udHJvbFVwZGF0ZSAhPT0gdHJ1ZSkgeyB1cGRhdGVBdXRvQ29udHJvbHMoJ3N0YXJ0Jyk7IH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGN1cnJlbnQgc2xpZGUgaW5kZXggKHplcm8tYmFzZWQpXHJcbiAgICAgKi9cclxuICAgIGVsLmdldEN1cnJlbnRTbGlkZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gc2xpZGVyLmFjdGl2ZS5pbmRleDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGN1cnJlbnQgc2xpZGUgZWxlbWVudFxyXG4gICAgICovXHJcbiAgICBlbC5nZXRDdXJyZW50U2xpZGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBzbGlkZXIuY2hpbGRyZW4uZXEoc2xpZGVyLmFjdGl2ZS5pbmRleCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBhIHNsaWRlIGVsZW1lbnRcclxuICAgICAqIEBwYXJhbSBpbmRleCAoaW50KVxyXG4gICAgICogIC0gVGhlIGluZGV4ICh6ZXJvLWJhc2VkKSBvZiB0aGUgZWxlbWVudCB5b3Ugd2FudCByZXR1cm5lZC5cclxuICAgICAqL1xyXG4gICAgZWwuZ2V0U2xpZGVFbGVtZW50ID0gZnVuY3Rpb24oaW5kZXgpIHtcclxuICAgICAgcmV0dXJuIHNsaWRlci5jaGlsZHJlbi5lcShpbmRleCk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmV0dXJucyBudW1iZXIgb2Ygc2xpZGVzIGluIHNob3dcclxuICAgICAqL1xyXG4gICAgZWwuZ2V0U2xpZGVDb3VudCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICByZXR1cm4gc2xpZGVyLmNoaWxkcmVuLmxlbmd0aDtcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm4gc2xpZGVyLndvcmtpbmcgdmFyaWFibGVcclxuICAgICAqL1xyXG4gICAgZWwuaXNXb3JraW5nID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgIHJldHVybiBzbGlkZXIud29ya2luZztcclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBVcGRhdGUgYWxsIGR5bmFtaWMgc2xpZGVyIGVsZW1lbnRzXHJcbiAgICAgKi9cclxuICAgIGVsLnJlZHJhd1NsaWRlciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAvLyByZXNpemUgYWxsIGNoaWxkcmVuIGluIHJhdGlvIHRvIG5ldyBzY3JlZW4gc2l6ZVxyXG4gICAgICBzbGlkZXIuY2hpbGRyZW4uYWRkKGVsLmZpbmQoJy5ieC1jbG9uZScpKS5vdXRlcldpZHRoKGdldFNsaWRlV2lkdGgoKSk7XHJcbiAgICAgIC8vIGFkanVzdCB0aGUgaGVpZ2h0XHJcbiAgICAgIHNsaWRlci52aWV3cG9ydC5jc3MoJ2hlaWdodCcsIGdldFZpZXdwb3J0SGVpZ2h0KCkpO1xyXG4gICAgICAvLyB1cGRhdGUgdGhlIHNsaWRlIHBvc2l0aW9uXHJcbiAgICAgIGlmICghc2xpZGVyLnNldHRpbmdzLnRpY2tlcikgeyBzZXRTbGlkZVBvc2l0aW9uKCk7IH1cclxuICAgICAgLy8gaWYgYWN0aXZlLmxhc3Qgd2FzIHRydWUgYmVmb3JlIHRoZSBzY3JlZW4gcmVzaXplLCB3ZSB3YW50XHJcbiAgICAgIC8vIHRvIGtlZXAgaXQgbGFzdCBubyBtYXR0ZXIgd2hhdCBzY3JlZW4gc2l6ZSB3ZSBlbmQgb25cclxuICAgICAgaWYgKHNsaWRlci5hY3RpdmUubGFzdCkgeyBzbGlkZXIuYWN0aXZlLmluZGV4ID0gZ2V0UGFnZXJRdHkoKSAtIDE7IH1cclxuICAgICAgLy8gaWYgdGhlIGFjdGl2ZSBpbmRleCAocGFnZSkgbm8gbG9uZ2VyIGV4aXN0cyBkdWUgdG8gdGhlIHJlc2l6ZSwgc2ltcGx5IHNldCB0aGUgaW5kZXggYXMgbGFzdFxyXG4gICAgICBpZiAoc2xpZGVyLmFjdGl2ZS5pbmRleCA+PSBnZXRQYWdlclF0eSgpKSB7IHNsaWRlci5hY3RpdmUubGFzdCA9IHRydWU7IH1cclxuICAgICAgLy8gaWYgYSBwYWdlciBpcyBiZWluZyBkaXNwbGF5ZWQgYW5kIGEgY3VzdG9tIHBhZ2VyIGlzIG5vdCBiZWluZyB1c2VkLCB1cGRhdGUgaXRcclxuICAgICAgaWYgKHNsaWRlci5zZXR0aW5ncy5wYWdlciAmJiAhc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKSB7XHJcbiAgICAgICAgcG9wdWxhdGVQYWdlcigpO1xyXG4gICAgICAgIHVwZGF0ZVBhZ2VyQWN0aXZlKHNsaWRlci5hY3RpdmUuaW5kZXgpO1xyXG4gICAgICB9XHJcbiAgICAgIGlmIChzbGlkZXIuc2V0dGluZ3MuYXJpYUhpZGRlbikgeyBhcHBseUFyaWFIaWRkZW5BdHRyaWJ1dGVzKHNsaWRlci5hY3RpdmUuaW5kZXggKiBnZXRNb3ZlQnkoKSk7IH1cclxuICAgIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBEZXN0cm95IHRoZSBjdXJyZW50IGluc3RhbmNlIG9mIHRoZSBzbGlkZXIgKHJldmVydCBldmVyeXRoaW5nIGJhY2sgdG8gb3JpZ2luYWwgc3RhdGUpXHJcbiAgICAgKi9cclxuICAgIGVsLmRlc3Ryb3lTbGlkZXIgPSBmdW5jdGlvbigpIHtcclxuICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgc2xpZGVyIGhhcyBhbHJlYWR5IGJlZW4gZGVzdHJveWVkXHJcbiAgICAgIGlmICghc2xpZGVyLmluaXRpYWxpemVkKSB7IHJldHVybjsgfVxyXG4gICAgICBzbGlkZXIuaW5pdGlhbGl6ZWQgPSBmYWxzZTtcclxuICAgICAgJCgnLmJ4LWNsb25lJywgdGhpcykucmVtb3ZlKCk7XHJcbiAgICAgIHNsaWRlci5jaGlsZHJlbi5lYWNoKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ29yaWdTdHlsZScpICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICQodGhpcykuYXR0cignc3R5bGUnLCAkKHRoaXMpLmRhdGEoJ29yaWdTdHlsZScpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCh0aGlzKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICAgIGlmICgkKHRoaXMpLmRhdGEoJ29yaWdTdHlsZScpICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB0aGlzLmF0dHIoJ3N0eWxlJywgJCh0aGlzKS5kYXRhKCdvcmlnU3R5bGUnKSk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG4gICAgICB9XHJcbiAgICAgICQodGhpcykudW53cmFwKCkudW53cmFwKCk7XHJcbiAgICAgIGlmIChzbGlkZXIuY29udHJvbHMuZWwpIHsgc2xpZGVyLmNvbnRyb2xzLmVsLnJlbW92ZSgpOyB9XHJcbiAgICAgIGlmIChzbGlkZXIuY29udHJvbHMubmV4dCkgeyBzbGlkZXIuY29udHJvbHMubmV4dC5yZW1vdmUoKTsgfVxyXG4gICAgICBpZiAoc2xpZGVyLmNvbnRyb2xzLnByZXYpIHsgc2xpZGVyLmNvbnRyb2xzLnByZXYucmVtb3ZlKCk7IH1cclxuICAgICAgaWYgKHNsaWRlci5wYWdlckVsICYmIHNsaWRlci5zZXR0aW5ncy5jb250cm9scyAmJiAhc2xpZGVyLnNldHRpbmdzLnBhZ2VyQ3VzdG9tKSB7IHNsaWRlci5wYWdlckVsLnJlbW92ZSgpOyB9XHJcbiAgICAgICQoJy5ieC1jYXB0aW9uJywgdGhpcykucmVtb3ZlKCk7XHJcbiAgICAgIGlmIChzbGlkZXIuY29udHJvbHMuYXV0b0VsKSB7IHNsaWRlci5jb250cm9scy5hdXRvRWwucmVtb3ZlKCk7IH1cclxuICAgICAgY2xlYXJJbnRlcnZhbChzbGlkZXIuaW50ZXJ2YWwpO1xyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLnJlc3BvbnNpdmUpIHsgJCh3aW5kb3cpLnVuYmluZCgncmVzaXplJywgcmVzaXplV2luZG93KTsgfVxyXG4gICAgICBpZiAoc2xpZGVyLnNldHRpbmdzLmtleWJvYXJkRW5hYmxlZCkgeyAkKGRvY3VtZW50KS51bmJpbmQoJ2tleWRvd24nLCBrZXlQcmVzcyk7IH1cclxuICAgICAgLy9yZW1vdmUgc2VsZiByZWZlcmVuY2UgaW4gZGF0YVxyXG4gICAgICAkKHRoaXMpLnJlbW92ZURhdGEoJ2J4U2xpZGVyJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVsb2FkIHRoZSBzbGlkZXIgKHJldmVydCBhbGwgRE9NIGNoYW5nZXMsIGFuZCByZS1pbml0aWFsaXplKVxyXG4gICAgICovXHJcbiAgICBlbC5yZWxvYWRTbGlkZXIgPSBmdW5jdGlvbihzZXR0aW5ncykge1xyXG4gICAgICBpZiAoc2V0dGluZ3MgIT09IHVuZGVmaW5lZCkgeyBvcHRpb25zID0gc2V0dGluZ3M7IH1cclxuICAgICAgZWwuZGVzdHJveVNsaWRlcigpO1xyXG4gICAgICBpbml0KCk7XHJcbiAgICAgIC8vc3RvcmUgcmVmZXJlbmNlIHRvIHNlbGYgaW4gb3JkZXIgdG8gYWNjZXNzIHB1YmxpYyBmdW5jdGlvbnMgbGF0ZXJcclxuICAgICAgJChlbCkuZGF0YSgnYnhTbGlkZXInLCB0aGlzKTtcclxuICAgIH07XHJcblxyXG4gICAgaW5pdCgpO1xyXG5cclxuICAgICQoZWwpLmRhdGEoJ2J4U2xpZGVyJywgdGhpcyk7XHJcblxyXG4gICAgLy8gcmV0dXJucyB0aGUgY3VycmVudCBqUXVlcnkgb2JqZWN0XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9O1xyXG5cclxufSkoalF1ZXJ5KTtcclxuXHJcbiQoZnVuY3Rpb24oKSB7XHJcblxyXG5cdHZhciAkc2lkZWJhciA9ICQoJy5zaWRlYmFyJyk7XHJcblx0dmFyICRuYXZiYXIgPSAkKCcubmF2YmFyX19saW5rcycpO1xyXG5cdHZhciAkYnVyZ2VyID0gJCgnI2J1cmdlcicpO1xyXG5cdHZhciAkbGlua0l0ZW0gPSAkKCcubGlua3NfX2l0ZW0nKTtcclxuXHJcblxyXG5cdCRzaWRlYmFyLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG5cdFx0JG5hdmJhci50b2dnbGVDbGFzcygnLS12aXNpYmxlJyk7XHJcblx0XHQkc2lkZWJhci50b2dnbGVDbGFzcygnLS1vbicpO1xyXG5cdFx0JGJ1cmdlci50b2dnbGVDbGFzcygnY2xvc2UnKS50b2dnbGVDbGFzcygnb3BlbmVkJyk7XHJcblx0fSk7XHJcblx0JFxyXG5cclxuXHQvLyBwb3AtdXBcclxuXHJcblx0dmFyICR3aGl0ZVBhcHBlciA9ICQoJyNzaG93LXBvcC11cCcpO1xyXG4gIHZhciAkd2hpdGVQYXBwZXJCdG4gPSAkKCcud3BidG4tZm9vdGVyJyk7XHJcblx0dmFyICRvdmVybGF5ID0gJCgnLmNvdmVyJyk7XHJcbiAgdmFyICRjbG9zZUJ0biA9ICQoJy5jbG9zZS1idXR0b24nKTtcclxuXHR2YXIgJHBvcFVwV2hpdGVwYXBwZXIgPSAkKCcud2hpdGVwYXBwZXInKTtcclxuICB2YXIgJGZlZWRiYWNrID0gJCgnI3Nob3ctZmVlZGJhY2snKTtcclxuICB2YXIgJHBvcFVwRmVlZGJhY2sgPSAkKCcuZmVlZGJhY2std3JhcCcpO1xyXG4gIHZhciAkY2xvc2VTcGFjZSA9ICQoJy5zcGFjZS1jbG9zZScpO1xyXG4gIHZhciAkcXJXZUNoYXQgPSAkKCcjcXItd2VjaGF0Jyk7XHJcbiAgdmFyICRsaW5rV2VDaGF0ID0gJCgnI2xpbmstd2VjaGF0Jyk7XHJcbiAgdmFyICRmZWVkYmFja0xpbmtzID0gJCgnLmZlZWRiYWNrLWljbycpO1xyXG5cclxuICAkcXJXZUNoYXQuaGlkZSgpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgJHFyV2VDaGF0LmZhZGVUb2dnbGUoNjAwKTtcclxuICAgICRmZWVkYmFja0xpbmtzLmRlbGF5KDYwMCkuZmFkZVRvZ2dsZSg0MDApO1xyXG4gIH0pO1xyXG4gICRsaW5rV2VDaGF0LmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICRxcldlQ2hhdC5kZWxheSg0MDApLmZhZGVUb2dnbGUoNjAwKTtcclxuICAgICRmZWVkYmFja0xpbmtzLmZhZGVUb2dnbGUoNDAwKTtcclxuICB9KTtcclxuXHJcblxyXG4gICRmZWVkYmFjay5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkcG9wVXBGZWVkYmFjay5mYWRlVG9nZ2xlKCc0MDAnKTtcclxuICAgICRmZWVkYmFjay50b2dnbGVDbGFzcygnd2hpdGUnKTtcclxuICAgICRjbG9zZVNwYWNlLnRvZ2dsZSg0MDApO1xyXG4gIH0pO1xyXG5cclxuXHJcbiAgJGNsb3NlU3BhY2UuY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkcG9wVXBGZWVkYmFjay5mYWRlT3V0KDQwMCk7XHJcbiAgICAkZmVlZGJhY2sucmVtb3ZlQ2xhc3MoJ3doaXRlJyk7XHJcbiAgICAkY2xvc2VTcGFjZS5oaWRlKCk7XHJcbiAgfSk7XHJcblxyXG5cclxuXHJcbiAgJHdoaXRlUGFwcGVyLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJG92ZXJsYXkuZmFkZUluKDQwMCk7XHJcbiAgICAkcG9wVXBXaGl0ZXBhcHBlci5mYWRlSW4oNDAwKTtcclxuICB9KTtcclxuXHJcbiAgJHdoaXRlUGFwcGVyQnRuLmNsaWNrKGZ1bmN0aW9uKGV2ZW50KSB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJG92ZXJsYXkuZmFkZUluKDQwMCk7XHJcbiAgICAkcG9wVXBXaGl0ZXBhcHBlci5mYWRlSW4oNDAwKTtcclxuICB9KTtcclxuXHJcblxyXG5cdCRjbG9zZUJ0bi5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdCRvdmVybGF5LmZhZGVPdXQoNDAwKTtcclxuXHRcdCRwb3BVcFdoaXRlcGFwcGVyLmZhZGVPdXQoNDAwKTtcclxuXHR9KTtcclxuXHQkb3ZlcmxheS5jbGljayhmdW5jdGlvbigpIHtcclxuXHRcdCRvdmVybGF5LmZhZGVPdXQoNDAwKTtcclxuXHRcdCRwb3BVcFdoaXRlcGFwcGVyLmZhZGVPdXQoNDAwKTtcclxuXHR9KTtcclxuXHJcblxyXG5cdFx0XHJcblx0Ly8gUm9hZG1hcFxyXG5cclxuXHJcblxyXG5cdHZhciAkaGV4YWdvbmUgPSAkKCcuaGV4b2dvbicpO1xyXG5cdHZhciAkbGluZUNvbm5lY3QgPSAkKCcubGluZScpO1xyXG5cdHZhciAkdGV4dFBvaW50cyA9ICQoJ2cudGV4dCcpO1xyXG5cclxuXHR2YXIgJHJvYWRtYXAgPSAkKCcucm9hZG1hcCcpO1xyXG5cclxuXHQkbGluZUNvbm5lY3QuaGlkZSgpO1xyXG5cdCR0ZXh0UG9pbnRzLmhpZGUoKTtcclxuXHQkaGV4YWdvbmUuY2xpY2soZnVuY3Rpb24oKSB7XHJcblx0XHQkcm9hZG1hcC5hZGRDbGFzcygnc3RlcDEnKTtcclxuXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG5cdFx0XHQkcm9hZG1hcC5hZGRDbGFzcygnc3RlcDInKTtcclxuXHRcdH0sIDEyMDApO1xyXG5cdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcblx0XHRcdCRsaW5lQ29ubmVjdC5mYWRlSW4oJzEwMDAnKTtcclxuXHRcdFx0JHRleHRQb2ludHMuZGVsYXkoMTAwMCkuZmFkZUluKCc0MDAnKTtcclxuXHRcdH0sMjAwMClcclxuXHR9KTtcclxuXHJcbiAvLyBMYW5ndWFnZSBzd2l0Y2hcclxuXHJcbiAgdmFyICRsYW5nSXRlbSA9ICQoJ2EubGFuZycpXHJcbiAgdmFyICRlbmcgPSAkKCcjbGFuZy11cycpO1xyXG4gIHZhciAkY24gPSAkKCcjbGFuZy1jbicpO1xyXG4gIHZhciAkaW5kID0gJCgnI2xhbmctaW4nKTtcclxuXHJcbiAgdmFyICRsYW5nQnRuID0gJCgnLmxhbmdzd2l0Y2gtd3JhcCcpO1xyXG4gIHZhciAkbGFuZ1N3aXRjaCA9ICQoJy5sYW5nc3dpdGNoJyk7XHJcbiAgdmFyICRsYW5nU3dpdGNoQ2FydXNlbCA9ICQoJy5sYW5nc3dpdGNoLWNhcnVzZWwnKTtcclxuXHJcbiAgJGxhbmdCdG4uY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAkbGFuZ1N3aXRjaC50b2dnbGUoNDAwKTtcclxuICAgICQoJy5saW5rc19faXRlbScpLnRvZ2dsZUNsYXNzKCdoaWRlZCcpO1xyXG4gIH0pO1xyXG5cclxuICAkbGFuZ1N3aXRjaENhcnVzZWwuYnhTbGlkZXIoe1xyXG4gICAgYXV0bzogdHJ1ZSxcclxuICAgIGNvbnRyb2xzOiBmYWxzZSxcclxuICAgIHBhdXNlOiAyMDAwLFxyXG4gICAgcGFnZXI6IGZhbHNlLFxyXG4gIH0pXHJcblxyXG5cclxuXHJcbiAvLyB2aWRlbyBwb3AtdXBcclxuXHJcblxyXG4gIHZhciAkcG9wVXBWaWRlb0NvbnRhaW5lciA9ICQoXCIucG9wLXVwLXZpZGVvXCIpO1xyXG4gIHZhciAkcG9wVXBWaWRlb0J0biA9ICQoJyNwbGF5LXZpZGVvLWVuZy1idG4nKTtcclxuICB2YXIgJHBvcFVwVmlkZW9DbkJ0biA9ICQoJyNwbGF5LXZpZGVvLWNuLWJ0bicpO1xyXG5cclxuXHJcbiAgJHBvcFVwVmlkZW9CdG4uY2xpY2soZnVuY3Rpb24oKSB7XHJcbiAgICAgICRwb3BVcFZpZGVvQ29udGFpbmVyLmFwcGVuZCgnPGlmcmFtZSBpZD1cInZpZGVvXCIgc3JjPVwiaHR0cHM6Ly93d3cueW91dHViZS5jb20vZW1iZWQvcDFZaURLbFNlOGs/cmVsPTAmYXV0b3BsYXk9MVwiIGZyYW1lYm9yZGVyPVwiMFwiIHdlYmtpdGFsbG93ZnVsbHNjcmVlbiBtb3phbGxvd2Z1bGxzY3JlZW4gYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPicpO1xyXG4gICAgICAkcG9wVXBWaWRlb0NvbnRhaW5lci5mYWRlSW4oNzAwKTtcclxuICB9KTtcclxuXHJcbiAgJHBvcFVwVmlkZW9DbkJ0bi5jbGljayhmdW5jdGlvbigpIHtcclxuICAgICAgJHBvcFVwVmlkZW9Db250YWluZXIuYXBwZW5kKCc8dmlkZW8gaWQ9XCJ2aWRlb1wiIGNvbnRyb2xzIGF1dG9wbGF5Pjxzb3VyY2Ugc3JjPVwiaHR0cDovL29ucGxhY2UuaW8vaW1nL3ZpZGVvL29ucGxhY2UtY2hpbmEtc3VidGl0bGUubXA0XCIgdHlwZT1cInZpZGVvL21wNFwiLz48L3ZpZGVvPicpO1xyXG4gICAgICAkcG9wVXBWaWRlb0NvbnRhaW5lci5mYWRlSW4oNzAwKTtcclxuICB9KVxyXG5cclxuICAkKCcuY2xvc2UtYnV0dG9uLXZpZGVvJykuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgdmFyICR2aWRlbyA9ICQoJyN2aWRlbycpO1xyXG4gICAgdmFyICR2aWRlb1NjcmVlbiA9ICQoJyN2aWRlby1wb3AtdXAnKTtcclxuICAgIFxyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgJHBvcFVwVmlkZW9Db250YWluZXIuaGlkZSg3MDApO1xyXG4gICAgJHZpZGVvU2NyZWVuLnJlbW92ZSgpO1xyXG4gICAgJHZpZGVvLnJlbW92ZSgpO1xyXG5cclxuICB9KTtcclxuXHJcbiAgJCgnLnBhcnRuZXJzLWNhcm91c2VsJykuYnhTbGlkZXIoe1xyXG4gICAgYXV0bzogdHJ1ZSxcclxuICAgIGNvbnRyb2xzOiBmYWxzZSxcclxuICAgIHBhdXNlOiAzMDAwLFxyXG4gICAgcGFnZXI6IGZhbHNlXHJcbiAgfSlcclxuXHJcbiAgLy8gbWFpbiB0ZWFtIHBhZ2UgXHJcblxyXG4gIHZhciBwaWN0dXJlcyA9IHsgIFxyXG4gICAgRW1wdHk6ICQoJyNwaWN0dXJlLWVtcHR5JyksXHJcbiAgICBFZHdhcmQ6ICQoJyNwaWN0dXJlLUVkd2FyZCcpLFxyXG4gICAgQW5kcmVpOiAkKCcjcGljdHVyZS1BbmRyZWknKSxcclxuICAgIERtaXRyaXk6ICQoJyNwaWN0dXJlLURtaXRyaXknKSxcclxuICAgIElseWE6ICQoJyNwaWN0dXJlLUlseWEnKSxcclxuICAgIE1pa2U6ICQoJyNwaWN0dXJlLU1pa2UnKSxcclxuICAgIE9sZWc6ICQoJyNwaWN0dXJlLU9sZWcnKSxcclxuICAgIE1pY2hhZWw6ICQoJyNwaWN0dXJlLU1pY2hhZWwnKSxcclxuICAgIEV1Z2VuZTogJCgnI3BpY3R1cmUtRXVnZW5lJylcclxuICB9XHJcblxyXG4gIHZhciBkZXNjcmlwdGlvbiA9IHtcclxuICAgIHRlYW06ICQoJyN0ZWFtLWRlc2NyaXB0aW9uJyksXHJcbiAgICBFZHdhcmQ6ICQoJyNFZHdhcmQtZGVzY3JpcHRpb24nKSxcclxuICAgIEFuZHJlaTogJCgnI0FuZHJlaS1kZXNjcmlwdGlvbicpLFxyXG4gICAgRG1pdHJpeTogJCgnI0RtaXRyaXktZGVzY3JpcHRpb24nKSxcclxuICAgIElseWE6ICQoJyNJbHlhLWRlc2NyaXB0aW9uJyksXHJcbiAgICBNaWtlOiAkKCcjTWlrZS1kZXNjcmlwdGlvbicpLFxyXG4gICAgT2xlZzogJCgnI09sZWctZGVzY3JpcHRpb24nKSxcclxuICAgIE1pY2hhZWw6ICQoJyNNaWNoYWVsLWRlc2NyaXB0aW9uJyksXHJcbiAgICBFdWdlbmU6ICQoJyNFdWdlbmUtZGVzY3JpcHRpb24nKVxyXG4gIH1cclxuXHJcbiAgdmFyIGJhY2tncm91bmRzID0ge1xyXG4gICAgdG90YWw6ICQoJy5iYWNrZ3JvdW5kcy1pdGVtJyksXHJcbiAgICBFZHdhcmQ6ICQoJyNFZHdhcmQtYmFja2dyb3VuZCcpLFxyXG4gICAgQW5kcmVpOiAkKCcjQW5kcmVpLWJhY2tncm91bmQnKSxcclxuICAgIE1pa2U6ICQoJyNNaWtlLWJhY2tncm91bmQnKSxcclxuICAgIERtaXRyaXk6ICQoJyNEbWl0cml5LWJhY2tncm91bmQnKSxcclxuICAgIElseWE6ICQoJyNJbHlhLWJhY2tncm91bmQnKSxcclxuICAgIE9sZWc6ICQoJyNPbGVnLWJhY2tncm91bmQnKSxcclxuICAgIE1pY2hhZWw6ICQoJyNNaWNoYWVsLWJhY2tncm91bmQnKSxcclxuICAgIEV1Z2VuZTogJCgnI0V1Z2VuZS1iYWNrZ3JvdW5kJylcclxuICB9XHJcblxyXG4gIHZhciBoZXhvbGlua3MgPSAkKCcubWVtYmVyLXBpY3R1cmUnKTtcclxuICB2YXIgYmx1ZWhleGVzID0gJCgnLmJsdWVfcG9seWdvbnMnKTtcclxuICB2YXIgdGVhbVNlY3Rpb24gPSAkKCcudGVhbScpO1xyXG5cclxuICBkZXNjcmlwdGlvbi50ZWFtLnNob3coKTtcclxuXHJcbiAgaGV4b2xpbmtzLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgIGJsdWVoZXhlcy5mYWRlT3V0KDgwMCk7XHJcbiAgICB0ZWFtU2VjdGlvbi5hZGRDbGFzcygnd2hpdGUnKTtcclxuXHJcbiAgfSk7XHJcblxyXG4gIHBpY3R1cmVzLkVtcHR5LmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGJhY2tncm91bmRzLnRvdGFsLmZhZGVPdXQoODAwKTtcclxuICAgIGRlc2NyaXB0aW9uLnRlYW0uZmFkZUluKDgwMCkuc2libGluZ3MoKS5mYWRlT3V0KDgwMClcclxuICAgIGJsdWVoZXhlcy5mYWRlSW4oODAwKTtcclxuICAgIHRlYW1TZWN0aW9uLnJlbW92ZUNsYXNzKCd3aGl0ZScpXHJcblxyXG4gIH0pO1xyXG4gIFxyXG5cclxuICBwaWN0dXJlcy5BbmRyZWkuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYmFja2dyb3VuZHMuQW5kcmVpLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gICAgZGVzY3JpcHRpb24uQW5kcmVpLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gIH0pO1xyXG5cclxuICBwaWN0dXJlcy5FZHdhcmQuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYmFja2dyb3VuZHMuRWR3YXJkLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gICAgZGVzY3JpcHRpb24uRWR3YXJkLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gIH0pO1xyXG4gIHBpY3R1cmVzLkRtaXRyaXkuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYmFja2dyb3VuZHMuRG1pdHJpeS5mYWRlSW4oODAwKS5zaWJsaW5ncygpLmZhZGVPdXQoODAwKTtcclxuICAgIGRlc2NyaXB0aW9uLkRtaXRyaXkuZmFkZUluKDgwMCkuc2libGluZ3MoKS5mYWRlT3V0KDgwMCk7XHJcbiAgfSk7XHJcbiAgcGljdHVyZXMuSWx5YS5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBiYWNrZ3JvdW5kcy5JbHlhLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gICAgZGVzY3JpcHRpb24uSWx5YS5mYWRlSW4oODAwKS5zaWJsaW5ncygpLmZhZGVPdXQoODAwKTtcclxuICB9KTtcclxuICBwaWN0dXJlcy5NaWtlLmNsaWNrKGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGJhY2tncm91bmRzLk1pa2UuZmFkZUluKDgwMCkuc2libGluZ3MoKS5mYWRlT3V0KDgwMCk7XHJcbiAgICBkZXNjcmlwdGlvbi5NaWtlLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gIH0pO1xyXG4gIHBpY3R1cmVzLk9sZWcuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYmFja2dyb3VuZHMuT2xlZy5mYWRlSW4oODAwKS5zaWJsaW5ncygpLmZhZGVPdXQoODAwKTtcclxuICAgIGRlc2NyaXB0aW9uLk9sZWcuZmFkZUluKDgwMCkuc2libGluZ3MoKS5mYWRlT3V0KDgwMCk7XHJcbiAgfSk7XHJcbiAgcGljdHVyZXMuTWljaGFlbC5jbGljayhmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBiYWNrZ3JvdW5kcy5NaWNoYWVsLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gICAgZGVzY3JpcHRpb24uTWljaGFlbC5mYWRlSW4oODAwKS5zaWJsaW5ncygpLmZhZGVPdXQoODAwKTtcclxuICB9KTtcclxuICBwaWN0dXJlcy5FdWdlbmUuY2xpY2soZnVuY3Rpb24oZSkge1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgYmFja2dyb3VuZHMuRXVnZW5lLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gICAgZGVzY3JpcHRpb24uRXVnZW5lLmZhZGVJbig4MDApLnNpYmxpbmdzKCkuZmFkZU91dCg4MDApO1xyXG4gIH0pO1xyXG5cclxuXHJcbiAgLy8gc2Nyb2xsIGRyYXdpbmdcclxuXHJcbiAgJCh3aW5kb3cpLnNjcm9sbChmdW5jdGlvbigpIHtcclxuICAgIHZhciBzdCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XHJcblxyXG4gICAgYmFja2dyb3VuZHMudG90YWwuY3NzKHsgdHJhbnNmb3JtOiAndHJhbnNsYXRlKDBweCwgLScgKyBzdC8zICsncHgpJ30pO1xyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIC8vIEdldCBhIHJlZmVyZW5jZSB0byB0aGUgPHBhdGg+XHJcbiAgLy8gdmFyIHBhdGggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbGluZScpO1xyXG5cclxuICAvLyAvLyBHZXQgbGVuZ3RoIG9mIHBhdGguLi4gfjE2NjhweFxyXG4gIC8vIHZhciBwYXRoTGVuZ3RoID0gcGF0aC5nZXRUb3RhbExlbmd0aCgpO1xyXG5cclxuICAvLyAvLyBNYWtlIHZlcnkgbG9uZyBkYXNoZXMgKHRoZSBsZW5ndGggb2YgdGhlIHBhdGggaXRzZWxmKVxyXG4gIC8vIHBhdGguc3R5bGUuc3Ryb2tlRGFzaGFycmF5ID0gcGF0aExlbmd0aCArICcgJyArIHBhdGhMZW5ndGg7XHJcblxyXG4gIC8vIC8vIE9mZnNldCB0aGUgZGFzaGVzIHNvIHRoZSBpdCBhcHBlYXJzIGhpZGRlbiBlbnRpcmVseVxyXG4gIC8vIHBhdGguc3R5bGUuc3Ryb2tlRGFzaG9mZnNldCA9IHBhdGhMZW5ndGg7XHJcblxyXG4gIC8vIC8vIFdoZW4gdGhlIHBhZ2Ugc2Nyb2xscy4uLlxyXG4gIC8vIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGZ1bmN0aW9uKGUpIHtcclxuICAgXHJcbiAgLy8gICAvLyBXaGF0ICUgZG93biBpcyBpdD8gXHJcbiAgLy8gICB2YXIgc2Nyb2xsUGVyY2VudGFnZSA9IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3ApIC8gKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgLSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0KTtcclxuICAgICAgXHJcbiAgLy8gICAvLyBMZW5ndGggdG8gb2Zmc2V0IHRoZSBkYXNoZXNcclxuICAvLyAgIHZhciBkcmF3TGVuZ3RoID0gcGF0aExlbmd0aCAqIHNjcm9sbFBlcmNlbnRhZ2U7XHJcbiAgICBcclxuICAvLyAgIC8vIERyYXcgaW4gcmV2ZXJzZVxyXG4gIC8vICAgcGF0aC5zdHlsZS5zdHJva2VEYXNob2Zmc2V0ID0gcGF0aExlbmd0aCAtIGRyYXdMZW5ndGg7XHJcbiAgICBcclxuICAgIFxyXG59KTsiXX0=
